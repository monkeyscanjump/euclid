import{r as e,c as t,h as i,H as a,d as s}from"./p-uEsOKkhe.js";import{w as o,p as r,b as n,c as l,s as c,d,f as u,e as p,l as h,h as f,g as m,D as g,i as b,j as v,k as y,m as x}from"./p-C1wLnQfG.js";import{m as w}from"./p-BbQ0yLPq.js";import{l as k}from"./p-b11lwN92.js";import{m as M,D as C,E as D}from"./p-9CRWQAc1.js";import{a as z,E as I,d as T,r as N,p as j,l as L}from"./p-S4yGk2r4.js";function A(){const e=[];if(o.state.connectedWallets){for(const[t,i]of Object.entries(o.state.connectedWallets)){const a=w.state.chains.find((e=>e.chain_uid===t));if(a&&i.address){e.push({id:`${t}-${i.address}`,address:i.address,chainUID:t,chainName:a.display_name,chainLogo:a.logo,chainType:a.type,walletType:i.walletType||"unknown",provider:i.walletType||"Unknown",label:i.name||`${i.walletType||"Wallet"} (${a.display_name})`,autoConnect:i.autoConnect??false})}}}return e}function S(){return A()}function O(e,t,i="osmosis-1"){if(!t.trim())return e;const a=r(t);const s=[...e];for(const e of a){const t=s.some((t=>t.address===e&&t.chainUID===i));if(!t){const t=w.state.chains.find((e=>e.chain_uid===i));if(t){s.push({id:`custom-${i}-${e}`,address:e,chainUID:i,chainName:t.display_name,chainLogo:t.logo,chainType:t.type,walletType:"custom",provider:"Custom",label:`Custom Wallet (${t.display_name})`,autoConnect:false})}}}return s}function E(e){o.onChange("connectedWallets",e);o.onChange("address",e);o.onChange("wallets",e)}function P(e,t,i,a="custom"){try{if(!e||!t||!i){throw new Error("Address, chain, and label are required")}const s=o.getWalletByChain(t);if(s&&s.address===e){k.warn("WalletUtils","Wallet already exists for this chain and address");return false}o.addWallet(t,{address:e,walletType:a,balances:[],name:i,autoConnect:false});k.info("WalletUtils",`Added ${a} wallet`,{address:e,chainUID:t,label:i});return true}catch(e){k.error("WalletUtils","Failed to add custom wallet",e);return false}}function U(e){try{o.removeWallet(e);k.info("WalletUtils",`Removed wallet for chain: ${e}`);return true}catch(e){k.error("WalletUtils","Failed to remove wallet",e);return false}}const q=":host{display:block;width:100%}.address-book{background:var(--euclid-surface);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);height:700px;display:flex;flex-direction:column;overflow:hidden}.header{display:flex;justify-content:space-between;align-items:center;padding:var(--euclid-space-4);border-bottom:1px solid var(--euclid-border);background:var(--euclid-surface-secondary)}.header h2{margin:0;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.address-form{background:var(--euclid-surface-tertiary);border-bottom:1px solid var(--euclid-border);padding:var(--euclid-space-4);position:relative;z-index:10}.form-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--euclid-space-4)}.form-header h3{margin:0;font-weight:var(--euclid-font-medium);color:var(--euclid-text-primary)}.close-btn{background:none;border:none;font-size:var(--euclid-text-lg);cursor:pointer;padding:var(--euclid-space-1);border-radius:var(--euclid-radius-sm);color:var(--euclid-text-tertiary);transition:all var(--euclid-transition-fast)}.close-btn:hover{background:var(--euclid-surface-secondary);color:var(--euclid-text-secondary)}.form-fields{display:grid;gap:var(--euclid-space-3);margin-bottom:var(--euclid-space-4)}.field{display:flex;flex-direction:column;gap:var(--euclid-space-1)}.field label{font-size:var(--euclid-text-sm);font-weight:var(--euclid-font-medium);color:var(--euclid-text-secondary)}.field input,.field select{padding:var(--euclid-space-2) var(--euclid-space-3);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:var(--euclid-text-sm);transition:border-color var(--euclid-transition-fast)}.field input:focus,.field select:focus{outline:none;border-color:var(--euclid-primary)}.form-actions{display:flex;gap:var(--euclid-space-2);justify-content:flex-end}.content{display:flex;flex:1;overflow:hidden}.sidebar{width:320px;background:var(--euclid-surface-secondary);border-right:1px solid var(--euclid-border);overflow-y:auto;padding:var(--euclid-space-3)}.chain-item{display:flex;align-items:center;padding:var(--euclid-space-4);border-radius:var(--euclid-radius-lg);cursor:pointer;margin-bottom:var(--euclid-space-2);transition:all var(--euclid-transition-fast);border:1px solid transparent;background:var(--euclid-surface)}.wallets-item{display:flex;align-items:center;padding:var(--euclid-space-4);border-radius:var(--euclid-radius-lg);cursor:pointer;margin-bottom:var(--euclid-space-3);transition:all var(--euclid-transition-fast);border:1px solid transparent;background:var(--euclid-surface);border-bottom:1px solid var(--euclid-border)}.wallets-item:hover,.chain-item:hover{border-color:var(--euclid-border-focus);box-shadow:0 2px 8px rgba(0, 0, 0, 0.1);transform:translateY(-1px)}.wallets-item.selected,.chain-item.selected{background:var(--euclid-primary-50);border-color:var(--euclid-primary-500);box-shadow:0 4px 16px rgba(var(--euclid-primary-500-rgb), 0.2)}.chain-logo{width:48px;height:48px;border-radius:var(--euclid-radius-md);object-fit:cover;margin-right:var(--euclid-space-3);flex-shrink:0}.wallets-icon{width:48px;height:48px;border-radius:var(--euclid-radius-md);background:var(--euclid-primary-100);color:var(--euclid-primary-700);display:flex;align-items:center;justify-content:center;font-size:24px;margin-right:var(--euclid-space-3);flex-shrink:0}.chain-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:var(--euclid-space-1)}.chain-name{font-weight:var(--euclid-font-semibold);font-size:var(--euclid-text-base);color:var(--euclid-text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chain-type{font-size:var(--euclid-text-xs);color:var(--euclid-text-tertiary);text-transform:uppercase;letter-spacing:0.5px;background:var(--euclid-surface-tertiary);padding:2px var(--euclid-space-1);border-radius:var(--euclid-radius-sm);display:inline-block;width:fit-content}.chain-badges{display:flex;flex-direction:column;align-items:flex-end;gap:var(--euclid-space-1)}.count{background:var(--euclid-primary-100);color:var(--euclid-primary-700);padding:var(--euclid-space-1) var(--euclid-space-2);border-radius:var(--euclid-radius-full);font-size:var(--euclid-text-xs);font-weight:var(--euclid-font-semibold);min-width:24px;text-align:center}.chain-item.selected .count{background:var(--euclid-primary-500);color:white}.active{color:var(--euclid-success-500);font-size:var(--euclid-text-sm)}.main{flex:1;background:var(--euclid-surface);display:flex;flex-direction:column;overflow:hidden}.chain-section{display:flex;flex-direction:column;height:100%}.wallets-section{display:flex;flex-direction:column;height:100%}.chain-header{display:flex;justify-content:space-between;align-items:center;padding:var(--euclid-space-4);border-bottom:1px solid var(--euclid-border);background:var(--euclid-surface-secondary)}.chain-header .chain-header-info{display:flex;align-items:center;gap:var(--euclid-space-3)}.chain-header .logo{width:48px;height:48px;border-radius:var(--euclid-radius-md);object-fit:cover}.chain-header h3{margin:0;font-size:var(--euclid-text-xl);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.meta{display:flex;align-items:center;gap:var(--euclid-space-2);margin-top:var(--euclid-space-1)}.badge{padding:3px var(--euclid-space-2);border-radius:var(--euclid-radius-full);font-size:var(--euclid-text-xs);font-weight:var(--euclid-font-medium);text-transform:uppercase;letter-spacing:0.5px}.badge.evm{background:var(--euclid-primary-100);color:var(--euclid-primary-700)}.badge.cosmwasm{background:var(--euclid-success-100);color:var(--euclid-success-700)}.chain-id{font-size:var(--euclid-text-xs);color:var(--euclid-text-tertiary);font-family:var(--euclid-font-mono)}.actions{display:flex;gap:var(--euclid-space-2);align-items:center}.addresses{flex:1;overflow-y:auto;padding:var(--euclid-space-4)}.empty{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;gap:var(--euclid-space-4)}.empty .icon{font-size:3rem;opacity:0.5}.empty h4{margin:0;font-size:var(--euclid-text-lg);color:var(--euclid-text-secondary)}.empty p{margin:0;color:var(--euclid-text-tertiary);max-width:300px}.empty .actions{display:flex;gap:var(--euclid-space-2)}.address-list{display:flex;flex-direction:column;gap:var(--euclid-space-3)}.wallet-list{display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:var(--euclid-space-4);padding:var(--euclid-space-4) 0}.wallet-item{display:flex;flex-direction:column;padding:var(--euclid-space-5);background:var(--euclid-surface);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);cursor:pointer;transition:all 0.2s ease}.wallet-item:hover{border-color:var(--euclid-primary-200);box-shadow:0 4px 16px rgba(0, 0, 0, 0.06)}.wallet-item.active{background:var(--euclid-surface);border-color:var(--euclid-primary-300);box-shadow:0 2px 12px rgba(var(--euclid-primary-500-rgb), 0.12)}.wallet-card-header{display:flex;align-items:center;gap:var(--euclid-space-3);margin-bottom:var(--euclid-space-4)}.wallet-chain-logo{width:44px;height:44px;border-radius:var(--euclid-radius-md);object-fit:cover}.wallet-header-info{flex:1}.wallet-provider{display:flex;align-items:center;gap:var(--euclid-space-2);font-weight:var(--euclid-font-semibold);font-size:var(--euclid-text-base);color:var(--euclid-text-primary);margin-bottom:var(--euclid-space-1)}.wallet-connection-status{width:6px;height:6px;border-radius:50%;background:var(--euclid-success-500)}.wallet-chain-name{font-size:var(--euclid-text-sm);color:var(--euclid-text-secondary)}.wallet-card-body{flex:1;margin-bottom:var(--euclid-space-3)}.wallet-address{font-family:var(--euclid-font-mono);font-size:var(--euclid-text-sm);color:var(--euclid-text-secondary);background:var(--euclid-surface-secondary);padding:var(--euclid-space-2) var(--euclid-space-3);border-radius:var(--euclid-radius-md);word-break:break-all;line-height:1.4}.wallet-card-footer{display:flex;align-items:center;justify-content:space-between;gap:var(--euclid-space-2)}.wallet-chain-badge{font-size:var(--euclid-text-xs);color:var(--euclid-text-tertiary);text-transform:uppercase;font-weight:var(--euclid-font-medium);letter-spacing:0.5px}.wallet-status-badge{font-size:var(--euclid-text-xs);color:var(--euclid-text-tertiary)}.wallet-status-badge.connected{color:var(--euclid-success-600)}.wallet-status-badge.saved{color:var(--euclid-text-tertiary)}@media (max-width: 768px){.wallet-list{grid-template-columns:1fr;gap:var(--euclid-space-3)}.wallet-item{padding:var(--euclid-space-4)}}.address-item{display:flex;justify-content:space-between;align-items:center;padding:var(--euclid-space-4);background:var(--euclid-surface-secondary);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);cursor:pointer;transition:all var(--euclid-transition-fast)}.address-item:hover{border-color:var(--euclid-primary-300);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0, 0, 0, 0.1)}.address-item.active{background:var(--euclid-primary-50);border-color:var(--euclid-primary-300)}.address-info{flex:1}.label{display:flex;align-items:center;gap:var(--euclid-space-2);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary);margin-bottom:var(--euclid-space-1)}.status{color:var(--euclid-success-500)}.address{font-family:var(--euclid-font-mono);font-weight:var(--euclid-font-medium);color:var(--euclid-text-secondary);background:var(--euclid-surface-tertiary);padding:var(--euclid-space-1) var(--euclid-space-2);border-radius:var(--euclid-radius-sm);display:inline-block;margin-bottom:var(--euclid-space-1)}.address-item .meta{display:flex;gap:var(--euclid-space-2);font-size:var(--euclid-text-xs);color:var(--euclid-text-tertiary)}.type{background:var(--euclid-surface-tertiary);padding:2px var(--euclid-space-1);border-radius:var(--euclid-radius-sm);text-transform:uppercase;font-weight:var(--euclid-font-medium);letter-spacing:0.5px}.last-used{font-style:italic}.balance{text-align:right;font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.address-item .actions{display:flex;gap:var(--euclid-space-1);margin-left:var(--euclid-space-3);opacity:0;transition:opacity var(--euclid-transition-fast)}.address-item:hover .actions{opacity:1}.btn-edit,.btn-remove{background:var(--euclid-surface);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-sm);padding:var(--euclid-space-1);cursor:pointer;font-size:var(--euclid-text-sm);color:var(--euclid-text-tertiary);transition:all var(--euclid-transition-fast);width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-edit:hover{background:var(--euclid-surface-secondary);color:var(--euclid-text-secondary);border-color:var(--euclid-primary-300)}.btn-remove:hover{background:var(--euclid-error-100);color:var(--euclid-error-700);border-color:var(--euclid-error-300)}@media (max-width: 768px){.content{flex-direction:column}.sidebar{width:100%;max-height:250px;border-right:none;border-bottom:1px solid var(--euclid-border);padding:var(--euclid-space-2)}.chain-item{padding:var(--euclid-space-3);margin-bottom:var(--euclid-space-1)}.chain-logo{width:40px;height:40px}.address-item{flex-direction:column;align-items:flex-start;gap:var(--euclid-space-3)}.address-item .actions{opacity:1;align-self:flex-end;margin-left:0}}.wallets-grid{display:flex;flex-direction:column;gap:var(--euclid-space-6);height:100%;overflow-y:auto}.wallet-group{display:flex;flex-direction:column;gap:var(--euclid-space-4)}.group-title{font-size:var(--euclid-text-sm);font-weight:var(--euclid-font-medium);color:var(--euclid-text-secondary);margin:0;padding:var(--euclid-space-2) var(--euclid-space-3);background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-sm);border:1px solid var(--euclid-border);position:sticky;top:0;z-index:1}.wallet-list{display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:var(--euclid-space-4);}";const W=class{constructor(i){e(this,i);this.addressSelected=t(this,"addressSelected");this.addressAdded=t(this,"addressAdded");this.addressUpdated=t(this,"addressUpdated");this.addressRemoved=t(this,"addressRemoved");this.savedAddresses=[];this.isEditing=false;this.editingAddress=null;this.newAddressForm={};this.selectedChainUID="";this.viewMode="wallets";this.handleAddAddress=()=>{this.isEditing=true;this.editingAddress=null;this.newAddressForm={address:"",chainUID:"",walletType:"manual",label:""}};this.handleSaveAddress=()=>{if(!this.newAddressForm.address||!this.newAddressForm.label||!this.newAddressForm.chainUID){return}if(this.editingAddress){this.handleCancelEdit();return}const e=P(this.newAddressForm.address,this.newAddressForm.chainUID,this.newAddressForm.label,"custom");if(e){const e={id:`custom-${this.newAddressForm.chainUID}-${Date.now()}`,address:this.newAddressForm.address,chainUID:this.newAddressForm.chainUID,walletType:"custom",label:this.newAddressForm.label,addedAt:new Date};this.savedAddresses=[...this.savedAddresses,e];this.addressAdded.emit(e);this.saveAddresses()}this.handleCancelEdit()};this.handleCancelEdit=()=>{this.isEditing=false;this.editingAddress=null;this.newAddressForm={}};this.handleConnectWallet=()=>{n.openWalletModal()};this.handleChainSelect=e=>{this.selectedChainUID=e;this.viewMode="chain";this.isEditing=false;this.editingAddress=null;this.newAddressForm={}};this.handleWalletsSelect=()=>{this.viewMode="wallets";this.selectedChainUID="";this.isEditing=false;this.editingAddress=null;this.newAddressForm={}};this.handleSelectWallet=e=>{};this.handleRemoveWallet=e=>{const t=U(e.chainUID);if(t){this.savedAddresses=this.savedAddresses.filter((t=>!(t.address===e.address&&t.chainUID===e.chainUID)));this.saveAddresses()}};this.handleWalletDelete=e=>{this.handleRemoveWallet(e)};this.handleWalletEdit=e=>{};this.handleToggleAutoConnect=e=>{k.debug("AddressBook","Toggle auto-connect for wallet",e);const t=e.autoConnect??false;k.debug("AddressBook","Current autoConnect",t);const i=!t;k.debug("AddressBook","New autoConnect value",i);o.addWallet(e.chainUID,{address:e.address,walletType:e.walletType,name:e.label,balances:[],chainName:e.chainName,chainType:e.chainType,chainLogo:e.chainLogo,autoConnect:i});k.debug("AddressBook","Updated wallet store - wallet store should auto-update UI")}}async componentWillLoad(){await this.loadSavedAddresses()}componentDidLoad(){this.ensureChainSelected();w.onChange("chains",(()=>{this.ensureChainSelected()}));E((()=>{this.savedAddresses=[...this.savedAddresses]}));this.startAutoConnectMonitoring()}ensureChainSelected(){if(!this.selectedChainUID&&this.viewMode!=="wallets"){this.viewMode="wallets"}}handleWalletConnectSuccess(){}async loadSavedAddresses(){try{const e=await l.getAddressBook();this.savedAddresses=e.map((e=>({...e,addedAt:new Date(e.addedAt),lastUsed:e.lastUsed?new Date(e.lastUsed):undefined})))}catch{try{const e=localStorage.getItem("euclid-address-book");if(e){this.savedAddresses=JSON.parse(e).map((e=>({...e,addedAt:new Date(e.addedAt),lastUsed:e.lastUsed?new Date(e.lastUsed):undefined})));await this.saveAddresses();localStorage.removeItem("euclid-address-book")}}catch{this.savedAddresses=[]}}}async saveAddresses(){try{await l.setAddressBook(this.savedAddresses)}catch{try{localStorage.setItem("euclid-address-book",c(this.savedAddresses))}catch(e){k.error("AddressBook","Failed to save addresses",e)}}}async startAutoConnectMonitoring(){const{startAutoConnectMonitoring:e}=await import("./p-BBLR4GrY.js");e()}formatAddress(e){return`${e.slice(0,6)}...${e.slice(-4)}`}getDisplayedAddresses(){const e=this.savedAddresses;return e.sort(((e,t)=>{if(e.lastUsed&&t.lastUsed){return t.lastUsed.getTime()-e.lastUsed.getTime()}if(e.lastUsed&&!t.lastUsed)return-1;if(!e.lastUsed&&t.lastUsed)return 1;return t.addedAt.getTime()-e.addedAt.getTime()}))}getAllChains(){return w.state.chains.sort(((e,t)=>{if(e.type!==t.type){return e.type==="EVM"?-1:1}return e.display_name.localeCompare(t.display_name)}))}getWalletsForChain(e){const t=this.getAllWallets().filter((t=>t.chainUID===e));return t.map((e=>({id:e.id,address:e.address,chainUID:e.chainUID,chainName:e.chainName,chainLogo:e.chainLogo,chainType:e.chainType,walletType:e.walletType,provider:e.provider,label:e.label,autoConnect:e.autoConnect??false})))}getConnectedWallets(){return S()}getAllWallets(){return this.getConnectedWallets()}convertAddressToWallet(e,t){return{id:e.id,address:e.address,chainUID:e.chainUID,chainName:t?.display_name||"Unknown Chain",chainLogo:t?.logo||"",chainType:t?.type||"Unknown",walletType:e.walletType,provider:e.walletType,label:e.label,autoConnect:false}}getSelectedChain(){return this.getAllChains().find((e=>e.chain_uid===this.selectedChainUID))}getSelectedChainAddresses(){return this.getWalletsForChain(this.selectedChainUID)}renderAddressForm(){return i("div",{class:"address-form"},i("div",{class:"form-header"},i("h3",null,this.editingAddress?"Edit Address":"Add Address"),i("button",{class:"close-btn",onClick:this.handleCancelEdit,type:"button"},"✕")),i("div",{class:"form-fields"},i("div",{class:"field"},i("label",null,"Label"),i("input",{type:"text",placeholder:"e.g., My Main Wallet",value:this.newAddressForm.label||"",onInput:e=>{this.newAddressForm={...this.newAddressForm,label:e.target.value}}})),i("div",{class:"field"},i("label",null,"Address"),i("input",{type:"text",placeholder:"0x... or cosmos...",value:this.newAddressForm.address||"",onInput:e=>{this.newAddressForm={...this.newAddressForm,address:e.target.value}}})),i("div",{class:"field"},i("label",null,"Chain"),i("select",{onInput:e=>{this.newAddressForm={...this.newAddressForm,chainUID:e.target.value}}},i("option",{value:""},"Select a chain..."),this.getAllChains().map((e=>i("option",{key:e.chain_uid,value:e.chain_uid,selected:this.newAddressForm.chainUID===e.chain_uid},e.display_name," (",e.type,")")))))),i("div",{class:"form-actions"},i("euclid-button",{variant:"secondary",onClick:this.handleCancelEdit},"Cancel"),i("euclid-button",{variant:"primary",onClick:this.handleSaveAddress,disabled:!this.newAddressForm.address||!this.newAddressForm.label},this.editingAddress?"Update":"Add"," Address")))}renderWalletsList(){const e=this.getAllWallets();return i("div",{class:"wallets-section"},i("div",{class:"chain-header"},i("div",{class:"chain-header-info"},i("div",{class:"wallets-icon"},"💼"),i("div",null,i("h3",null,"All Wallets"),i("div",{class:"meta"},i("span",{class:"badge"},"All Chains"),i("span",{class:"chain-id"},e.length," wallets")))),i("div",{class:"actions"},i("euclid-button",{variant:"ghost",size:"sm",onClick:this.handleAddAddress},"+ Add Custom"),i("euclid-button",{variant:"primary",size:"sm",onClick:()=>n.openWalletModal()},"🔗 Connect Wallet"))),i("div",{class:"addresses"},e.length===0?i("div",{class:"empty"},i("div",{class:"icon"},"💼"),i("h4",null,"No wallets added"),i("p",null,"Connect a wallet or add a custom address to get started"),i("div",{class:"actions"},i("euclid-button",{variant:"primary",onClick:()=>n.openWalletModal()},"Connect Wallet"),i("euclid-button",{variant:"ghost",onClick:this.handleAddAddress},"Add Custom Address"))):i("div",{class:"wallet-list"},e.map((e=>i("euclid-wallet",{key:e.id,wallet:{id:e.id,address:e.address,chainUID:e.chainUID,chainName:e.chainName,chainLogo:e.chainLogo,chainType:e.chainType,walletType:e.walletType,provider:e.provider,label:e.label,autoConnect:e.autoConnect??false},clickable:true,showConnectionStatus:false,showChainInfo:true,showActions:true,onWalletClick:e=>this.handleSelectWallet(e.detail),onWalletDelete:e=>this.handleWalletDelete(e.detail),onWalletEdit:e=>this.handleWalletEdit(e.detail),onWalletToggleAutoConnect:e=>this.handleToggleAutoConnect(e.detail)}))))))}render(){const e=this.getAllChains();const t=this.getSelectedChain();const a=this.getSelectedChainAddresses();return i("div",{key:"277780d3e4515d71803ad4204b2c713ea7693569",class:"address-book"},i("div",{key:"66933433cff17c40e9d66ca70dc705ee9acacbda",class:"header"},i("h2",{key:"22da2b022fa4bc129b6351b05f6ba76b7955c976"},"📖 Address Book"),i("div",{key:"d4c0a66e9ec35f4855f29faa28f76757cc365f65",class:"header-actions",style:{display:"flex",gap:"8px",alignItems:"center"}},i("euclid-button",{key:"f7b3487c269232c65b71fdadb2c9ae934b35242c",variant:"ghost",size:"sm",onClick:()=>{this.loadSavedAddresses()}},"🔄 Sync"))),this.isEditing&&this.renderAddressForm(),i("div",{key:"1c386186e5825669a6688957a54b5c702caf8c6e",class:"content"},i("div",{key:"7ca4ca13c133d63f662b125b8f3e1c09ba9aa679",class:"sidebar"},i("div",{key:"7a23dc7a87025a720d5693dec74d1a5dcb571b69",class:`wallets-item ${this.viewMode==="wallets"?"selected":""}`,onClick:this.handleWalletsSelect},i("div",{key:"62e9b9d8b966e92d4e5b8ceaf10cefba97de5034",class:"wallets-icon"},"💼"),i("div",{key:"2bee3b454dbee365be694bde463b28f180827e91",class:"chain-info"},i("div",{key:"452ec6ea20d63ff54f98d2a37db4e1a0813a6e78",class:"chain-name"},"Wallets"),i("div",{key:"8bf19503ae62eedca0cc51f236b31be15a1626d8",class:"chain-type"},"All Chains")),i("div",{key:"5ac680f1ae093ad40d29ca0cdc9a47b1aeb66210",class:"chain-badges"},i("span",{key:"43500fda940016317374843fa951f757a6169ba9",class:"count"},A().length))),e.map((e=>{const t=this.getWalletsForChain(e.chain_uid);const a=this.selectedChainUID===e.chain_uid&&this.viewMode==="chain";const s=t.length>0;return i("div",{key:e.chain_uid,class:`chain-item ${a?"selected":""}`,onClick:()=>this.handleChainSelect(e.chain_uid)},i("img",{src:e.logo,alt:e.display_name,class:"chain-logo"}),i("div",{class:"chain-info"},i("div",{class:"chain-name"},e.display_name),i("div",{class:"chain-type"},e.type)),s&&i("div",{class:"chain-badges"},i("span",{class:"count"},t.length)))}))),i("div",{key:"360792f833b71bea69f20bdbbda3eb77fc27801d",class:"main"},this.viewMode==="wallets"?this.renderWalletsList():t?i("div",{class:"chain-section"},i("div",{class:"chain-header"},i("div",{class:"chain-header-info"},i("img",{src:t.logo,alt:t.display_name,class:"logo"}),i("div",null,i("h3",null,t.display_name),i("div",{class:"meta"},i("span",{class:`badge ${t.type.toLowerCase()}`},t.type),i("span",{class:"chain-id"},t.chain_id)))),i("div",{class:"actions"},i("euclid-button",{variant:"secondary",size:"sm",onClick:()=>n.openWalletModal(this.selectedChainUID)},"🔗 Connect"),i("euclid-button",{variant:"primary",size:"sm",onClick:()=>{this.handleAddAddress();this.newAddressForm={...this.newAddressForm,chainUID:this.selectedChainUID}}},"+ Add"))),i("div",{class:"addresses"},a.length===0?i("div",{class:"empty"},i("div",{class:"icon"},"📭"),i("h4",null,"No addresses for ",t.display_name),i("p",null,"Connect a wallet or add an address manually"),i("div",{class:"actions"},i("euclid-button",{variant:"primary",onClick:()=>n.openWalletModal(this.selectedChainUID)},"Connect Wallet"),i("euclid-button",{variant:"ghost",onClick:()=>{this.handleAddAddress();this.newAddressForm={...this.newAddressForm,chainUID:this.selectedChainUID}}},"Add Manually"))):i("div",{class:"wallet-list"},a.map((e=>i("euclid-wallet",{key:e.id,wallet:e,clickable:true,showConnectionStatus:false,showChainInfo:false,showActions:true,onWalletClick:e=>this.handleSelectWallet(e.detail),onWalletDelete:e=>this.handleWalletDelete(e.detail),onWalletEdit:e=>this.handleWalletEdit(e.detail),onWalletToggleAutoConnect:e=>this.handleToggleAutoConnect(e.detail)})))))):i("div",{class:"empty"},i("div",{class:"icon"},"⛓️"),i("h3",null,"Select a chain"),i("p",null,"Choose a blockchain network from the sidebar to view and manage addresses")))))}};W.style=q;class F{async getChains(e){const{getChainsImpl:t}=await import("./p-BIUdfm4p.js");return t(e)}async getContracts(e){const{getContractsImpl:t}=await import("./p-BIUdfm4p.js");return t(e)}async getChainConfig(e){const{getChainConfigImpl:t}=await import("./p-BIUdfm4p.js");return t(e)}async getEvmChainConfig(e){const{getEvmChainConfigImpl:t}=await import("./p-BIUdfm4p.js");return t(e)}async getKeplrConfig(e){const{getKeplrConfigImpl:t}=await import("./p-BIUdfm4p.js");return t(e)}async getRouterConfig(){const{getRouterConfigImpl:e}=await import("./p-BIUdfm4p.js");return e()}async getAllEvmChains(){const{getAllEvmChainsImpl:e}=await import("./p-BIUdfm4p.js");return e()}async getAllFactoryPools(e,t,i){const{getAllPoolsImpl:a}=await import("./p-VXMQRbzL.js");return a(e,t,i)}async getAllFactoryTokens(e,t,i){const{getAllTokensImpl:a}=await import("./p-VXMQRbzL.js");return a(e,t,i)}async getAllowedDenoms(e){const{getAllowedDenomsImpl:t}=await import("./p-VXMQRbzL.js");return t(e)}async getEscrow(e,t){const{getEscrowImpl:i}=await import("./p-VXMQRbzL.js");return i(e,t)}async getTokenAddress(e,t){const{getTokenAddressImpl:i}=await import("./p-VXMQRbzL.js");return i(e,t)}async getPartnerFeesCollected(e,t){const{getPartnerFeesCollectedImpl:i}=await import("./p-VXMQRbzL.js");return i(e,t)}async getFactoryState(e){const{getStateImpl:t}=await import("./p-VXMQRbzL.js");return t(e)}async getFactoryVLP(e,t){const{getVLPImpl:i}=await import("./p-VXMQRbzL.js");return i(e,t)}async getAllRouterChains(){const{getAllChainsImpl:e}=await import("./p-Db2wm2T2.js");return e()}async getAllEscrows(e,t){const{getAllEscrowsImpl:i}=await import("./p-Db2wm2T2.js");return i(e,t)}async getAllRouterTokens(e,t){const{getAllTokensImpl:i}=await import("./p-Db2wm2T2.js");return i(e,t)}async getAllVLPs(e,t){const{getAllVLPsImpl:i}=await import("./p-Db2wm2T2.js");return i(e,t)}async getRouterChain(e){const{getChainImpl:t}=await import("./p-Db2wm2T2.js");return t(e)}async getEscrows(e,t,i){const{getEscrowsImpl:a}=await import("./p-Db2wm2T2.js");return a(e,t,i)}async simulateEscrowRelease(e,t){const{simulateEscrowReleaseImpl:i}=await import("./p-Db2wm2T2.js");return i(e,t)}async simulateRouterSwap(e,t,i,a,s){const{simulateSwapImpl:o}=await import("./p-Db2wm2T2.js");return o(e,t,i,a,s)}async getRouterState(){const{getStateImpl:e}=await import("./p-Db2wm2T2.js");return e()}async getTokenDenoms(e){const{getTokenDenomsImpl:t}=await import("./p-Db2wm2T2.js");return t(e)}async getTokenPairFromVLP(e){const{getTokenPairFromVLPImpl:t}=await import("./p-Db2wm2T2.js");return t(e)}async getRouterVLP(e){const{getVLPImpl:t}=await import("./p-Db2wm2T2.js");return t(e)}async getAllVLPPools(e,t,i,a){const{getAllPoolsImpl:s}=await import("./p-C26UM063.js");const o=await this.getTokenPairFromVLP(t);if(!o){k.warn("VLP",`Could not get token pair for VLP address: ${t}`);return null}return s(t,o.pair,i,a)}async getAllVLPPositions(e,t,i,a){const{getAllPositionsImpl:s}=await import("./p-C26UM063.js");const o=await this.getTokenPairFromVLP(t);if(!o){k.warn("VLP",`Could not get token pair for VLP address: ${t}`);return null}return s(t,o.pair,i,a)}async getVLPAssetList(e,t){const{getAssetListImpl:i}=await import("./p-C26UM063.js");const a=await this.getTokenPairFromVLP(t);if(!a){k.warn("VLP",`Could not get token pair for VLP address: ${t}`);return null}return i(t,a.pair)}async getMyVLPPositions(e,t,i,a,s){const{getMyPositionsImpl:o}=await import("./p-C26UM063.js");const r=await this.getTokenPairFromVLP(t);if(!r){k.warn("VLP",`Could not get token pair for VLP address: ${t}`);return null}return o(t,r.pair,i,a,s)}async getVLPPool(e,t,i){const{getPoolImpl:a}=await import("./p-C26UM063.js");const s=await this.getTokenPairFromVLP(t);if(!s){k.warn("VLP",`Could not get token pair for VLP address: ${t}`);return null}return a(t,s.pair,i)}async getVLPPosition(e,t,i){const{getPositionImpl:a}=await import("./p-C26UM063.js");const s=await this.getTokenPairFromVLP(t);if(!s){k.warn("VLP",`Could not get token pair for VLP address: ${t}`);return null}return a(t,s.pair,i)}async getVLPTotalFeesCollected(e,t,i){const{getTotalFeesCollectedImpl:a}=await import("./p-C26UM063.js");const s=await this.getTokenPairFromVLP(t);if(!s){k.warn("VLP",`Could not get token pair for VLP address: ${t}`);return null}return a(t,s.pair,i)}async getAllVCoinBalances(e,t,i,a){const{getAllBalancesImpl:s}=await import("./p-Bm_tsMIZ.js");return s(e,t,i,a)}async getVCoinTotalSupply(e,t){const{getTotalSupplyImpl:i}=await import("./p-Bm_tsMIZ.js");return i(e,t)}async getVCoinUserBalance(e,t,i){const{getUserBalanceImpl:a}=await import("./p-Bm_tsMIZ.js");return a(e,t,i)}async getPoolInfo(e,t,i){const{getPoolImpl:a}=await import("./p-avRw7uMM.js");return a(e,t,i)}async getPoolFees(e,t,i){const{getPoolFeesImpl:a}=await import("./p-avRw7uMM.js");return a(e,t,i)}async simulateJoinPool(e,t,i){const{getSimulateJoinPoolImpl:a}=await import("./p-avRw7uMM.js");return a(e,t,i)}async simulateExitPool(e,t,i,a){const{getSimulateExitPoolImpl:s}=await import("./p-avRw7uMM.js");return s(e,t,i,a)}async getTokenMetadata(e){const{getTokenMetadataImpl:t}=await import("./p-BI5cZoUz.js");return t(e)}async getTokenById(e){const{getTokenByIdImpl:t}=await import("./p-BI5cZoUz.js");return t(e)}async searchTokens(e,t){const{searchTokensImpl:i}=await import("./p-BI5cZoUz.js");return i(e,t)}async getTokenBySymbol(e,t){const{getTokenBySymbolImpl:i}=await import("./p-BI5cZoUz.js");return i(e,t)}async getTokenPrice(e){const{getTokenPriceImpl:t}=await import("./p-BI5cZoUz.js");return t(e)}async getTokenHistory(e,t,i){const{getTokenHistoryImpl:a}=await import("./p-BI5cZoUz.js");return a(e,t,i)}async getTokenSupply(e){const{getTokenSupplyImpl:t}=await import("./p-BI5cZoUz.js");return t(e)}async getTokenTransfers(e,t,i){const{getTokenTransfersImpl:a}=await import("./p-BI5cZoUz.js");return a(e,t,i)}async getTokenHolders(e,t,i){const{getTokenHoldersImpl:a}=await import("./p-BI5cZoUz.js");return a(e,t,i)}async getTopTokens(e,t,i){const{getTopTokensImpl:a}=await import("./p-BI5cZoUz.js");return a(e,t,i)}async getContractInfo(e,t){const{getContractInfoImpl:i}=await import("./p-Dz8aNEA-.js");return i(e,t)}async getContractState(e,t,i){const{getContractStateImpl:a}=await import("./p-Dz8aNEA-.js");return a(e,t,i)}async getRoutes(e,t,i,a,s){const{getRoutesImpl:o}=await import("./p-B0XCj4bo.js");return o(e,t,i,a,s)}async postTransaction(e){const{postTransactionImpl:t}=await import("./p-B0XCj4bo.js");return t(e)}async getTransactionStatus(e){const{getTransactionStatusImpl:t}=await import("./p-B0XCj4bo.js");return t(e)}async getTransactionDetails(e){const{getTransactionDetailsImpl:t}=await import("./p-B0XCj4bo.js");return t(e)}async getGasEstimate(e){const{getGasEstimateImpl:t}=await import("./p-B0XCj4bo.js");return t(e)}async getChainGasPrice(e){const{getChainGasPriceImpl:t}=await import("./p-B0XCj4bo.js");return t(e)}async getBalances(e,t){const{getBalancesImpl:i}=await import("./p-B0XCj4bo.js");return i(e,t)}async getNonce(e,t){const{getNonceImpl:i}=await import("./p-B0XCj4bo.js");return i(e,t)}async getAllPools(e=true){const{getAllPoolsImpl:t}=await import("./p-DcnIQP-t.js");return t(e)}async getPoolById(e){const{getPoolByIdImpl:t}=await import("./p-DcnIQP-t.js");return t(e)}async getOptimalRoute(e){const{getOptimalRouteImpl:t}=await import("./p-DyDlh5fQ.js");return t(e)}async getBestRoute(e){const{getBestRouteImpl:t}=await import("./p-DyDlh5fQ.js");return t(e)}async buildSwapTransaction(e){const{buildSwapTransactionImpl:t}=await import("./p-DrDKirgn.js");return t(e)}async buildAddLiquidityTransaction(e){const{buildAddLiquidityTransactionImpl:t}=await import("./p-DrDKirgn.js");return t(e)}async buildRemoveLiquidityTransaction(e){const{buildRemoveLiquidityTransactionImpl:t}=await import("./p-DrDKirgn.js");return t(e)}async simulateSwap(e){const{simulateSwapImpl:t}=await import("./p-DrDKirgn.js");return t(e)}async getUserBalances(e){const{getUserBalancesImpl:t}=await import("./p-DDUxMSn-.js");return t(e)}async getLoadingStats(){const e=Object.keys(require.cache||{}).filter((e=>e.includes("/lazy/"))).map((e=>e.split("/").pop()?.replace(".js","")));return{loadedModules:e,totalModules:["chains","factory","router","vlp","vcoin","pool","tokens","cw","rest-transactions","pools","routing","transactions","user"].length,totalEndpoints:73,implementedEndpoints:73,completionPercentage:100,lazyLoadingActive:true,bundleOptimized:true}}}const B=new F;const V=".api-tester{font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;margin:0 auto;padding:20px;background:#f8fafc}.api-header{background:white;border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0, 0, 0, 0.06);border:1px solid #e2e8f0}.title-section{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.title-section h1{margin:0;color:#1e293b;font-size:28px;font-weight:700}.stats-badges{display:flex;gap:12px;flex-wrap:wrap}.badge{background:#3b82f6;color:white;padding:6px 12px;border-radius:6px;font-size:13px;font-weight:500}.quick-actions{background:white;border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0, 0, 0, 0.06);border:1px solid #e2e8f0}.quick-actions h2{margin:0 0 16px 0;color:#1e293b;font-size:20px;font-weight:600}.quick-buttons{display:flex;gap:12px;flex-wrap:wrap}.quick-btn{display:flex;align-items:center;gap:8px;background:#10b981;color:white;border:none;padding:12px 16px;border-radius:8px;cursor:pointer;font-weight:500;transition:all 0.2s ease}.quick-btn:hover:not(:disabled){background:#059669;transform:translateY(-1px)}.quick-btn:disabled{opacity:0.6;cursor:not-allowed}.btn-icon{font-size:14px}.btn-text{font-size:13px}.main-layout{display:grid;grid-template-columns:350px 1fr;gap:24px;min-height:600px}@media (max-width: 1024px){.main-layout{grid-template-columns:1fr}}.sidebar{background:white;border-radius:12px;box-shadow:0 2px 8px rgba(0, 0, 0, 0.06);border:1px solid #e2e8f0;height:fit-content;overflow:hidden}.sidebar-header{padding:20px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.sidebar-header h3{margin:0 0 12px 0;color:#1e293b;font-size:16px;font-weight:600}.filter-control select{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;background:white;font-size:13px}.endpoints-browser{max-height:500px;overflow-y:auto;padding:12px}.endpoint-card{padding:12px;margin-bottom:8px;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;transition:all 0.2s ease;background:white}.endpoint-card:hover{border-color:#3b82f6;box-shadow:0 2px 4px rgba(59, 130, 246, 0.1)}.endpoint-card.active{border-color:#3b82f6;background:#eff6ff;box-shadow:0 2px 8px rgba(59, 130, 246, 0.15)}.card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.endpoint-title{margin:0;font-size:14px;font-weight:600;color:#1e293b;line-height:1.3}.card-badges{display:flex;gap:4px;flex-shrink:0}.type-badge{padding:2px 6px;border-radius:4px;font-size:10px;font-weight:500;text-transform:uppercase}.type-badge.lazy{background:#fbbf24;color:#92400e}.type-badge.core{background:#34d399;color:#065f46}.lazy-badge{background:#f59e0b;color:white;padding:2px 4px;border-radius:4px;font-size:10px}.card-meta{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:#64748b}.category{background:#f1f5f9;color:#475569;padding:2px 6px;border-radius:4px;font-weight:500}.param-indicator.zero{color:#10b981;font-weight:500}.param-indicator.has-params{color:#64748b}.content-area{background:white;border-radius:12px;box-shadow:0 2px 8px rgba(0, 0, 0, 0.06);border:1px solid #e2e8f0;overflow:hidden}.endpoint-workspace{padding:24px}.workspace-header{margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e2e8f0}.endpoint-info h2{margin:0 0 8px 0;color:#1e293b;font-size:24px;font-weight:700}.info-badges{display:flex;gap:8px;flex-wrap:wrap}.category-badge{background:#6366f1;color:white;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500}.parameters-section{margin-bottom:24px}.has-parameters h3{margin:0 0 16px 0;color:#1e293b;font-size:18px;font-weight:600}.parameters-grid{display:grid;gap:12px;margin-bottom:20px}.param-card{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px}.param-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.param-name{font-weight:600;color:#1e293b;font-size:14px}.param-badges{display:flex;gap:6px}.required-badge{padding:2px 6px;border-radius:4px;font-size:11px;font-weight:500;text-transform:uppercase}.required-badge.required{background:#fecaca;color:#dc2626}.required-badge.optional{background:#dcfce7;color:#16a34a}.type-badge{background:#e0e7ff;color:#3730a3;padding:2px 6px;border-radius:4px;font-size:11px;font-weight:500}.param-default{margin-top:8px;font-size:12px;color:#64748b}.param-default code{background:#f1f5f9;padding:2px 4px;border-radius:3px;font-family:'SF Mono', Consolas, monospace}.parameter-input-section{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px}.input-label{display:block;margin-bottom:8px;font-weight:600;color:#1e293b;font-size:14px}.parameter-textarea{width:100%;min-height:120px;padding:12px;border:1px solid #d1d5db;border-radius:6px;font-family:'SF Mono', Consolas, monospace;font-size:13px;resize:vertical;background:white}.parameter-textarea:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59, 130, 246, 0.1)}.no-parameters{text-align:center;padding:40px 20px}.no-params-message{max-width:400px;margin:0 auto}.no-params-message .icon{font-size:48px;margin-bottom:16px;display:block}.no-params-message h3{margin:0 0 8px 0;color:#10b981;font-size:20px;font-weight:600}.no-params-message p{margin:0;color:#64748b;font-size:14px}.test-action{margin-bottom:24px;text-align:center}.test-button{background:#3b82f6;color:white;border:none;padding:14px 28px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all 0.2s ease;min-width:200px}.test-button:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px rgba(59, 130, 246, 0.3)}.test-button:disabled{opacity:0.6;cursor:not-allowed}.test-button.loading{background:#6b7280}.spinner{animation:spin 1s linear infinite}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.results-section{border-top:1px solid #e2e8f0;padding-top:24px}.results-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:12px}.results-header h3{margin:0;color:#1e293b;font-size:18px;font-weight:600}.result-meta{display:flex;gap:16px;font-size:13px;color:#64748b}.duration{background:#f1f5f9;padding:4px 8px;border-radius:4px;font-weight:500}.bundle-info{padding:4px 8px;border-radius:4px;font-weight:500}.bundle-info.loaded{background:#fef3c7;color:#d97706}.bundle-info.cached{background:#d1fae5;color:#065f46}.results-content{background:#1e293b;border-radius:8px;overflow:hidden}.json-output{margin:0;padding:20px;color:#e2e8f0;font-family:'SF Mono', Consolas, monospace;font-size:13px;line-height:1.5;overflow-x:auto;background:transparent}.empty-workspace{display:flex;align-items:center;justify-content:center;min-height:400px;text-align:center}.empty-message{max-width:400px}.empty-icon{font-size:64px;margin-bottom:20px;display:block;opacity:0.7}.empty-message h2{margin:0 0 12px 0;color:#64748b;font-size:24px;font-weight:600}.empty-message p{margin:0 0 20px 0;color:#94a3b8;font-size:16px}.quick-hint{background:#eff6ff;border:1px solid #bfdbfe;border-radius:8px;padding:16px;margin-top:20px}.quick-hint p{margin:0;color:#1e40af;font-size:14px}@media (max-width: 768px){.api-tester{padding:12px}.title-section{flex-direction:column;align-items:flex-start}.quick-buttons{justify-content:center}.main-layout{gap:16px}.endpoint-workspace{padding:16px}}.header{flex-shrink:0;padding:20px 24px;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;border-bottom:1px solid #e1e5e9}.header h1{margin:0 0 8px 0;font-size:24px;font-weight:700}.header p{margin:0;font-size:14px;opacity:0.9}.controls{flex-shrink:0;display:flex;gap:20px;padding:16px 24px;background:#f8f9fa;border-bottom:1px solid #e1e5e9}.filter-section,.params-section{flex:1}.controls label{display:block;margin-bottom:6px;font-size:13px;font-weight:600;color:#495057}.controls select{width:100%;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;background:white;font-size:14px;color:#495057}.controls select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px rgba(102, 126, 234, 0.2)}.controls textarea{width:100%;height:60px;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;background:white;font-family:'Monaco', 'Menlo', 'Ubuntu Mono', monospace;font-size:12px;color:#495057;resize:none}.controls textarea:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px rgba(102, 126, 234, 0.2)}.content{flex:1;display:flex;min-height:0}.endpoints-list{width:400px;flex-shrink:0;display:flex;flex-direction:column;background:white;border-right:1px solid #e1e5e9}.endpoints-list h3{margin:0;padding:16px 20px;font-size:16px;font-weight:600;color:#495057;background:#f8f9fa;border-bottom:1px solid #e1e5e9;flex-shrink:0}.endpoints-container{flex:1;overflow-y:auto;padding:12px;max-height:calc(100vh - 300px);}.endpoint-item{padding:12px 16px;margin-bottom:8px;border:1px solid #e1e5e9;border-radius:6px;background:white;cursor:pointer;transition:all 0.15s ease}.endpoint-item:hover{background:#f8f9fa;border-color:#667eea;transform:translateY(-1px);box-shadow:0 2px 8px rgba(0, 0, 0, 0.1)}.endpoint-item.selected{background:#e7f1ff;border-color:#667eea;box-shadow:0 0 0 2px rgba(102, 126, 234, 0.2)}.endpoint-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.endpoint-name{font-weight:600;color:#212529;font-size:14px}.endpoint-type{font-size:9px;font-weight:700;padding:3px 6px;background:#667eea;color:white;border-radius:3px;text-transform:uppercase;letter-spacing:0.5px}.endpoint-meta{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.category{font-size:11px;font-weight:500;padding:2px 6px;background:#e9ecef;color:#6c757d;border-radius:3px}.params{font-size:10px;color:#868e96;font-family:'Monaco', 'Menlo', 'Ubuntu Mono', monospace}.results-panel{flex:1;display:flex;flex-direction:column;background:white;min-width:0}.selected-endpoint{flex-shrink:0;padding:20px 24px;background:#f8f9fa;border-bottom:1px solid #e1e5e9}.selected-endpoint h3{margin:0 0 12px 0;font-size:18px;font-weight:700;color:#212529}.endpoint-details{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:12px}.endpoint-details p{margin:0;font-size:14px;color:#6c757d}.endpoint-details strong{color:#495057}.loading{flex:1;display:flex;align-items:center;justify-content:center;font-size:16px;color:#667eea;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.result{flex:1;padding:24px;overflow-y:auto;min-height:0;max-height:calc(100vh - 300px);}.result h4{margin:0 0 16px 0;font-size:16px;font-weight:600;color:#212529}.result-meta{display:flex;gap:12px;margin-bottom:16px;font-size:12px}.result-meta span{padding:4px 8px;background:#e9ecef;color:#495057;border-radius:4px;font-weight:500}.result-data{background:#1e1e1e;color:#d4d4d4;padding:16px;border-radius:6px;font-family:'Monaco', 'Menlo', 'Ubuntu Mono', monospace;font-size:12px;line-height:1.5;white-space:pre-wrap;word-break:break-word}.empty-state{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#6c757d;padding:40px}.empty-state h3{margin:0 0 8px 0;font-size:18px;color:#495057}.empty-state p{margin:0;font-size:14px;max-width:300px}.endpoints-container::-webkit-scrollbar,.result::-webkit-scrollbar{width:6px}.endpoints-container::-webkit-scrollbar-track,.result::-webkit-scrollbar-track{background:#f1f3f4}.endpoints-container::-webkit-scrollbar-thumb,.result::-webkit-scrollbar-thumb{background:#c1c8cd;border-radius:3px}.endpoints-container::-webkit-scrollbar-thumb:hover,.result::-webkit-scrollbar-thumb:hover{background:#a8b1b8}@media (max-width: 768px){.content{flex-direction:column}.endpoints-list{width:100%;height:40vh}.results-panel{height:60vh}.controls{flex-direction:column;gap:12px}}.bundle-stats{flex-shrink:0;padding:16px 24px;background:#f0f9ff;border-bottom:1px solid #e1e5e9}.bundle-stats h3{margin:0 0 12px 0;font-size:16px;color:#1e40af}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:16px}.stat-item{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:white;border:1px solid #dbeafe;border-radius:6px}.stat-label{font-weight:500;color:#374151;font-size:14px}.stat-value{font-weight:600;color:#1e40af;font-size:14px}.lazy-info{color:#059669;font-weight:500;font-size:12px}.endpoint-type.lazy{background:#059669}.endpoint-type.core{background:#7c3aed}.bundle-impact{display:flex;flex-direction:column;gap:4px;margin-top:8px;padding:8px;background:#f0f9ff;border-radius:4px;border:1px solid #dbeafe}.impact-label{font-weight:500;color:#1e40af;font-size:12px}.impact-status{font-weight:600;font-size:12px}.impact-status.loaded{color:#059669}.impact-status.cached{color:#7c3aed}.impact-details{color:#6b7280;font-size:11px;font-family:monospace}.endpoint-badges{display:flex;gap:4px;align-items:center;flex-wrap:wrap}.complexity-badge{font-size:10px;padding:2px 6px;border-radius:10px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px}.complexity-badge.zero-param{background:#dcfce7;color:#166534;border:1px solid #bbf7d0}.complexity-badge.simple{background:#fef3c7;color:#92400e;border:1px solid #fed7aa}.complexity-badge.intermediate{background:#fed7aa;color:#c2410c;border:1px solid #fdba74}.complexity-badge.advanced{background:#fecaca;color:#dc2626;border:1px solid #fca5a5}.quick-test-badge{background:#e0e7ff;color:#3730a3;font-size:10px;padding:2px 6px;border-radius:10px;font-weight:500;border:1px solid #c7d2fe}.parameters-preview{margin-top:8px;padding-top:8px;border-top:1px solid #f3f4f6}.param-summary{display:flex;gap:6px;flex-wrap:wrap}.param-count{font-size:11px;padding:2px 6px;border-radius:8px;font-weight:500}.param-count.required{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.param-count.optional{background:#f0f9ff;color:#2563eb;border:1px solid #dbeafe}.parameters-detail{margin-top:16px;padding:16px;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.parameters-detail h4{margin:0 0 12px 0;font-size:14px;font-weight:600;color:#374151}.parameters-list{display:flex;flex-direction:column;gap:12px}.parameter-item{background:white;border:1px solid #e5e7eb;border-radius:6px;padding:12px}.param-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.param-name{font-weight:600;color:#111827;font-family:monospace;font-size:13px}.param-badges{display:flex;gap:4px;align-items:center}.param-required{font-size:10px;padding:2px 6px;border-radius:8px;font-weight:500;text-transform:uppercase}.param-required.required{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.param-required.optional{background:#f0fdf4;color:#166534;border:1px solid #bbf7d0}.param-type{background:#f3f4f6;color:#374151;font-size:10px;padding:2px 6px;border-radius:8px;font-weight:500;font-family:monospace}.param-category{font-size:9px;padding:2px 4px;border-radius:6px;font-weight:500;text-transform:uppercase}.param-category.chainuid{background:#ede9fe;color:#7c3aed}.param-category.tokenid{background:#ecfdf5;color:#059669}.param-category.address{background:#fef3c7;color:#d97706}.param-category.amount{background:#dbeafe;color:#2563eb}.param-category.options{background:#f3f4f6;color:#6b7280}.param-category.data{background:#fdf2f8;color:#be185d}.param-category.other{background:#f1f5f9;color:#475569}.param-description{margin:8px 0 0 0;font-size:12px;color:#6b7280;line-height:1.4}.param-example,.param-default{margin-top:6px;font-size:11px;color:#374151}.param-example code,.param-default code{background:#f9fafb;padding:1px 4px;border-radius:3px;font-family:monospace;font-size:10px;color:#374151;border:1px solid #e5e7eb}.can-test-notice{background:#f0fdf4;color:#166534;border:1px solid #bbf7d0;border-radius:6px;padding:8px 12px;margin:8px 0;font-size:12px;font-weight:500}.basic-info{margin-bottom:16px}.basic-info p{margin:4px 0;font-size:13px}";const _=class{constructor(t){e(this,t);this.endpoints=[];this.selectedEndpoint=null;this.isLoading=false;this.result=null;this.error=null;this.customParams="{}";this.selectedCategory="all";this.bundleStats={coreSize:0,lazyModulesLoaded:[]}}componentWillLoad(){this.discoverEndpoints();this.measureBundleSize()}measureBundleSize(){const e=document.querySelectorAll("script");let t=0;e.forEach((e=>{if(e.src&&e.src.includes("euclid")){t+=50}}));this.bundleStats.coreSize=t}discoverEndpoints(){const e=[];const t=Object.getPrototypeOf(B);const i=Object.getOwnPropertyNames(t).filter((e=>e!=="constructor"&&typeof t[e]==="function"));i.forEach((i=>{const a=this.categorizeMethod(i);const s=this.isLazyLoadedMethod(i);const o=this.extractMethodParams(t[i]);const r=this.analyzeMethodParameters(i,t[i]);const n=this.determineComplexity(r);const l=this.canTestWithoutParameters(r);e.push({name:this.formatMethodName(i),type:s?"lazy":"core",category:a,method:B[i].bind(B),params:o,parametersInfo:r,isLazyLoaded:s,moduleSize:s?"~2-5KB":"~0.1KB",complexity:n,canTestWithoutParams:l})}));this.endpoints=e.sort(((e,t)=>e.name.localeCompare(t.name)))}isLazyLoadedMethod(e){const t=["getChains","getChainConfig","getEvmChainConfig","getKeplrConfig","getRouterConfig","getAllEvmChains","getAllTokens","getAllowedDenoms","getEscrow","getTokenAddress","getPartnerFeesCollected","getState","getVLP","getAllPools","getTokenMetadata","getTokenById","getTokenDenoms","getTokenTransfers","getAllChainsRouter","getRoute","getSimulateSwap","getEstimateSwap","getSwapTransaction","getAllPoolsVLP","getUserPositions","getRewards","getClaimableRewards","getBalance","getUserPositions","getStakedAmount","getAllPoolsPool","getPoolById","getPoolStatistics","getPoolHistory","getContractInfo","getContractState","buildSwapTransaction","buildAddLiquidityTransaction","buildRemoveLiquidityTransaction","simulateSwap","getBalances","getTransactionHistory"];return t.includes(e)}categorizeMethod(e){return d(e)}formatMethodName(e){return u(e)}extractMethodParams(e){const t=e.toString();const i=t.match(/\(([^)]*)\)/);if(!i)return[];return i[1].split(",").map((e=>e.trim())).filter((e=>e&&!e.startsWith("..."))).map((e=>e.split(/[=:]/)[0].trim())).filter((e=>e))}analyzeMethodParameters(e,t){const i=t.toString();const a=i.match(/\(([^)]*)\)/);if(!a||!a[1].trim())return[];const s=a[1];const o=[];const r=this.parseParameterString(s);r.forEach((t=>{const i=this.analyzeParameter(t,e);if(i){o.push(i)}}));return o}parseParameterString(e){const t=[];let i="";let a=0;let s=false;let o="";for(let r=0;r<e.length;r++){const n=e[r];if(!s&&(n==='"'||n==="'")){s=true;o=n}else if(s&&n===o){s=false;o=""}else if(!s&&n==="{"){a++}else if(!s&&n==="}"){a--}else if(!s&&n===","&&a===0){t.push(i.trim());i="";continue}i+=n}if(i.trim()){t.push(i.trim())}return t}analyzeParameter(e,t){const i=e.trim();if(!i)return null;const a=i.match(/^([^:=]+)/);if(!a)return null;const s=a[1].trim();const o=i.includes("?")||i.includes("=");const r=!o;const n=this.inferParameterType(s,i,t);const l=this.categorizeParameter(s);const{description:c,example:d,defaultValue:u}=this.getParameterMetadata(s,l,t);return{name:s,type:n,required:r,description:c,example:d,defaultValue:u,category:l}}inferParameterType(e,t,i){const a=e.toLowerCase();const s=t.toLowerCase();if(s.includes(": string"))return"string";if(s.includes(": number"))return"number";if(s.includes(": boolean"))return"boolean";if(s.includes(": object"))return"object";if(s.includes("[]"))return"array";if(a.includes("chainuid")||a.includes("chain_uid"))return"string";if(a.includes("tokenid")||a.includes("token_id"))return"string";if(a.includes("address"))return"string";if(a.includes("amount")||a.includes("limit")||a.includes("offset"))return"number";if(a.includes("options")||a.includes("request")||a.includes("data"))return"object";if(a.includes("enabled")||a.includes("verified")||a.includes("show"))return"boolean";if(i.includes("Transaction")&&a.includes("data"))return"object";if(i.includes("Balance")&&a.includes("user"))return"object";return"string"}categorizeParameter(e){const t=e.toLowerCase();if(t.includes("chainuid")||t.includes("chain_uid")||t.includes("chainid"))return"chainUid";if(t.includes("tokenid")||t.includes("token_id"))return"tokenId";if(t.includes("address")||t.includes("user"))return"address";if(t.includes("amount")||t.includes("value"))return"amount";if(t.includes("options")||t.includes("limit")||t.includes("offset")||t.includes("timeframe"))return"options";if(t.includes("data")||t.includes("request")||t.includes("transaction"))return"data";return"other"}getParameterMetadata(e,t,i){const a=e.toLowerCase();switch(t){case"chainUid":return{description:"Unique identifier for the blockchain",example:"osmosis-1",defaultValue:"osmosis-1"};case"tokenId":return{description:"Token identifier or contract address",example:"uosmo",defaultValue:"uosmo"};case"address":return{description:"Wallet or contract address",example:"osmo1abc...xyz",defaultValue:"osmo1example"};case"amount":return{description:"Numeric amount value",example:"1000000",defaultValue:"1000000"};case"options":if(a.includes("limit")){return{description:"Maximum number of results",example:"10",defaultValue:"10"}}if(a.includes("offset")){return{description:"Number of results to skip",example:"0",defaultValue:"0"}}return{description:"Optional configuration object",example:"{}",defaultValue:"{}"};case"data":return{description:"Transaction or request data object",example:'{"key": "value"}',defaultValue:"{}"};default:return{description:"Parameter value",example:"value"}}}determineComplexity(e){if(e.length===0)return"zero-param";const t=e.filter((e=>e.required));const i=e.some((e=>e.type==="object"||e.category==="data"));if(t.length===0)return"simple";if(t.length<=2&&!i)return"intermediate";return"advanced"}canTestWithoutParameters(e){return e.length===0||e.every((e=>!e.required))}get categories(){const e=new Set(["all"]);this.endpoints.forEach((t=>e.add(t.category)));return Array.from(e).sort()}getCategoryCount(e){if(e==="all")return this.endpoints.length;return this.endpoints.filter((t=>t.category===e)).length}get filteredEndpoints(){if(this.selectedCategory==="all")return this.endpoints;return this.endpoints.filter((e=>e.category===this.selectedCategory))}async testEndpoint(e){if(!e)return;this.isLoading=true;this.error=null;this.result=null;this.selectedEndpoint=e;const t=Date.now();let i=null;try{if(e.isLazyLoaded){const a=this.getModuleNameFromEndpoint(e.name);const s=this.bundleStats.lazyModulesLoaded.includes(a);let o={};try{o=JSON.parse(this.customParams)}catch{}let r;const n=performance.now();if(e.parametersInfo&&e.parametersInfo.length>0){const{paramValues:t,validationErrors:i}=this.prepareParameters(e.parametersInfo,o);if(i.length>0){throw new Error(`Parameter validation failed: ${i.join(", ")}`)}r=await e.method(...t)}else{r=await e.method()}const l=performance.now();const c=l-n;const d=!s&&c>50;if(d&&!this.bundleStats.lazyModulesLoaded.includes(a)){this.bundleStats.lazyModulesLoaded=[...this.bundleStats.lazyModulesLoaded,a];i={moduleLoaded:true,moduleName:a,estimatedSize:e.moduleSize||"~2-5KB"}}else{i={moduleLoaded:false,moduleName:a,estimatedSize:s?"Already loaded":"From cache"}}const u=Date.now()-t;this.result={data:r,duration:u,timestamp:(new Date).toISOString(),bundleImpact:i}}else{let i={};try{i=JSON.parse(this.customParams)}catch{}let a;if(e.parametersInfo&&e.parametersInfo.length>0){const{paramValues:t,validationErrors:s}=this.prepareParameters(e.parametersInfo,i);if(s.length>0){throw new Error(`Parameter validation failed: ${s.join(", ")}`)}a=await e.method(...t)}else{a=await e.method()}const s=Date.now()-t;this.result={data:a,duration:s,timestamp:(new Date).toISOString(),bundleImpact:null}}}catch(e){const i=Date.now()-t;this.error=e instanceof Error?e.message:String(e);this.result={error:this.error,duration:i,timestamp:(new Date).toISOString(),bundleImpact:null}}finally{this.isLoading=false}}getModuleNameFromEndpoint(e){const t=e.toLowerCase();if(t.includes("chain"))return"chains";if(t.includes("token"))return"tokens";if(t.includes("pool"))return"pools";if(t.includes("factory"))return"factory";if(t.includes("router"))return"router";if(t.includes("vlp"))return"vlp";if(t.includes("vcoin"))return"vcoin";if(t.includes("transaction")||t.includes("swap")||t.includes("liquidity"))return"transactions";return"core"}getDefaultParamValue(e){if(e.includes("limit"))return 10;if(e.includes("offset"))return 0;if(e.includes("chainUid")||e.includes("chain_uid"))return"osmosis";if(e.includes("tokenId")||e.includes("token_id"))return"euclid";if(e.includes("token_in"))return"euclid";if(e.includes("token_out"))return"osmo";if(e.includes("amount"))return"1000000";if(e.includes("address"))return"osmo1example";if(e.includes("txHash")||e.includes("tx_hash"))return"0x123";if(e.includes("poolId")||e.includes("pool_id"))return"pool123";if(e.includes("verified"))return true;if(e.includes("timeframe")||e.includes("period"))return"24h";return undefined}getComplexityLabel(e){switch(e){case"zero-param":return"🟢 Zero Parameters";case"simple":return"🟡 Simple (Optional Only)";case"intermediate":return"🟠 Intermediate";case"advanced":return"🔴 Advanced";default:return e}}renderParameterSummary(e){const t=e.filter((e=>e.required));const a=e.filter((e=>!e.required));const s=[];if(t.length>0){s.push(i("span",{class:"param-count required"},t.length," required"))}if(a.length>0){s.push(i("span",{class:"param-count optional"},a.length," optional"))}return s}prepareParameters(e,t){const i=[];const a=[];e.forEach((e=>{let s=t[e.name];if(s===undefined||s===null||s===""){if(e.required){if(e.defaultValue!==undefined){s=this.convertParameterValue(e.defaultValue,e.type)}else{a.push(`Required parameter '${e.name}' is missing`);return}}else{s=e.defaultValue?this.convertParameterValue(e.defaultValue,e.type):undefined}}else{try{s=this.convertParameterValue(s,e.type)}catch(t){a.push(`Invalid value for parameter '${e.name}': ${t instanceof Error?t.message:"unknown error"}`);return}}i.push(s)}));return{paramValues:i,validationErrors:a}}convertParameterValue(e,t){if(e===undefined||e===null)return e;const i=String(e);switch(t){case"string":{return i}case"number":{const e=Number(i);if(isNaN(e)){throw new Error(`Cannot convert "${i}" to number`)}return e}case"boolean":{if(typeof e==="boolean")return e;const t=i.toLowerCase();if(t==="true"||t==="1")return true;if(t==="false"||t==="0")return false;throw new Error(`Cannot convert "${i}" to boolean`)}case"object":{if(typeof e==="object")return e;try{return JSON.parse(i)}catch{throw new Error(`Cannot parse "${i}" as JSON object`)}}case"array":{if(Array.isArray(e))return e;try{const e=JSON.parse(i);if(!Array.isArray(e)){throw new Error("Parsed value is not an array")}return e}catch{throw new Error(`Cannot parse "${i}" as JSON array`)}}default:{return i}}}getZeroParameterEndpoints(){return this.endpoints.filter((e=>e.parametersInfo&&e.parametersInfo.length===0))}getParameterPlaceholder(e){if(!e.parametersInfo||e.parametersInfo.length===0){return"{}"}const t={};e.parametersInfo.forEach((e=>{if(e.defaultValue!==undefined){t[e.name]=e.defaultValue}else if(e.example){t[e.name]=e.example}else{switch(e.type){case"chainUid":t[e.name]="cosmoshub-4";break;case"tokenId":t[e.name]="uatom";break;case"address":t[e.name]="cosmos1...";break;case"number":t[e.name]=10;break;case"boolean":t[e.name]=true;break;default:t[e.name]="value"}}}));return JSON.stringify(t,null,2)}render(){return i("div",{key:"c0f0709b82212ed6cbf18fc8e28a1cde513c0953",class:"api-tester"},i("header",{key:"13a8b711184052a1da71de98e35d81167901ab89",class:"api-header"},i("div",{key:"67bcb82bc90c7f1912133aa461652fe29ee5d184",class:"title-section"},i("h1",{key:"44fd705e0f856c7942ef9aae6bea28a58438b304"},"🧪 Euclid API Tester"),i("div",{key:"b56d9a19327f6eae9bc913ea689db771964b4f64",class:"stats-badges"},i("span",{key:"acb1ec6dbe94e3abb18d057aa15a71188a8ec7a8",class:"badge"},"📊 ",this.endpoints.length," endpoints"),i("span",{key:"0c21d4a64f8364af2da78f268d71821a92ca7b28",class:"badge"},"🚀 ",this.bundleStats.lazyModulesLoaded.length," loaded")))),i("section",{key:"300d7c96de3abce6426f65af6287bdccb8cfd73b",class:"quick-actions"},i("h2",{key:"bc245cb14ebd414af360113523de3f7dd1bd0630"},"⚡ Quick Test (Zero Parameters)"),i("div",{key:"326ad82d2b2556ae25e902e5bdbeb699db27e2f5",class:"quick-buttons"},this.getZeroParameterEndpoints().slice(0,6).map((e=>i("button",{key:e.name,class:"quick-btn",onClick:()=>this.testEndpoint(e),disabled:this.isLoading},i("span",{class:"btn-icon"},"🚀"),i("span",{class:"btn-text"},e.name)))))),i("div",{key:"6995a7e7520c568fa20ddc70a0f14010816a9579",class:"main-layout"},i("aside",{key:"1dd68a9132b1fec4a87d522bd30c8ced8836b761",class:"sidebar"},i("div",{key:"833a4942aa966743360c8d555072016004fdc42f",class:"sidebar-header"},i("h3",{key:"cbfd9f6918eb9db2e403dce93678c7b9a8295078"},"📚 Endpoints"),i("div",{key:"af95d99be9c9e58186cf5ff226f5cff96595335a",class:"filter-control"},i("select",{key:"5305ec5dc43156af910365e68f1e2d55bd2a54cd",onChange:e=>this.selectedCategory=e.target.value},this.categories.map((e=>i("option",{value:e,selected:this.selectedCategory===e},e," (",this.getCategoryCount(e),")")))))),i("div",{key:"da392bab50a4a127325156d455e05f019287eb0a",class:"endpoints-browser"},this.filteredEndpoints.map((e=>i("div",{key:e.name,class:`endpoint-card ${this.selectedEndpoint?.name===e.name?"active":""}`,onClick:()=>this.selectedEndpoint=e},i("div",{class:"card-header"},i("h4",{class:"endpoint-title"},e.name),i("div",{class:"card-badges"},i("span",{class:`type-badge ${e.type}`},e.type),e.isLazyLoaded&&i("span",{class:"lazy-badge"},"⚡"))),i("div",{class:"card-meta"},i("span",{class:"category"},e.category),i("span",{class:`param-indicator ${e.parametersInfo.length===0?"zero":"has-params"}`},e.parametersInfo.length===0?"🟢 Ready":`${e.parametersInfo.length} param${e.parametersInfo.length>1?"s":""}`))))))),i("main",{key:"17ed4835eda79fd3b1b82d0ee3577563bc7ac7a5",class:"content-area"},this.selectedEndpoint?i("div",{class:"endpoint-workspace"},i("div",{class:"workspace-header"},i("div",{class:"endpoint-info"},i("h2",null,this.selectedEndpoint.name),i("div",{class:"info-badges"},i("span",{class:`type-badge ${this.selectedEndpoint.type}`},this.selectedEndpoint.type),i("span",{class:"category-badge"},this.selectedEndpoint.category),this.selectedEndpoint.isLazyLoaded&&i("span",{class:"lazy-badge"},"⚡ Lazy Loading")))),i("div",{class:"parameters-section"},this.selectedEndpoint.parametersInfo.length>0?i("div",{class:"has-parameters"},i("h3",null,"🔧 Parameters (",this.selectedEndpoint.parametersInfo.length,")"),i("div",{class:"parameters-grid"},this.selectedEndpoint.parametersInfo.map((e=>i("div",{key:e.name,class:"param-card"},i("div",{class:"param-header"},i("span",{class:"param-name"},e.name),i("div",{class:"param-badges"},i("span",{class:`required-badge ${e.required?"required":"optional"}`},e.required?"Required":"Optional"),i("span",{class:"type-badge"},e.type))),e.defaultValue&&i("div",{class:"param-default"},i("strong",null,"Default:")," ",i("code",null,JSON.stringify(e.defaultValue))))))),i("div",{class:"parameter-input-section"},i("label",{class:"input-label"},i("span",null,"🛠️ Custom Parameters (JSON)")),i("textarea",{class:"parameter-textarea",value:this.customParams,onInput:e=>this.customParams=e.target.value,placeholder:this.getParameterPlaceholder(this.selectedEndpoint),rows:6}))):i("div",{class:"no-parameters"},i("div",{class:"no-params-message"},i("span",{class:"icon"},"🎯"),i("h3",null,"Ready to Test!"),i("p",null,"This endpoint requires no parameters and can be tested immediately.")))),i("div",{class:"test-action"},i("button",{class:`test-button ${this.isLoading?"loading":""}`,onClick:()=>this.testEndpoint(this.selectedEndpoint),disabled:this.isLoading},this.isLoading?i("span",null,i("span",{class:"spinner"},"⏳")," Testing..."):i("span",null,i("span",{class:"icon"},"🧪")," Test ",this.selectedEndpoint.name))),(this.result||this.error)&&i("div",{class:"results-section"},i("div",{class:"results-header"},i("h3",null,this.error?"❌ Error":"📋 Results"),this.result&&i("div",{class:"result-meta"},i("span",{class:"duration"},"⏱️ ",this.result.duration,"ms"),this.result.bundleImpact&&i("span",{class:`bundle-info ${this.result.bundleImpact.moduleLoaded?"loaded":"cached"}`},"📦 ",this.result.bundleImpact.moduleLoaded?"Loaded":"Cached",": ",this.result.bundleImpact.moduleName))),i("div",{class:"results-content"},i("pre",{class:"json-output"},JSON.stringify(this.result?.data||this.result?.error||this.error,null,2))))):i("div",{class:"empty-workspace"},i("div",{class:"empty-message"},i("span",{class:"empty-icon"},"👈"),i("h2",null,"Select an Endpoint"),i("p",null,"Choose an endpoint from the sidebar to see its details and test it."),i("div",{class:"quick-hint"},i("p",null,i("strong",null,"💡 Tip:")," Try the quick test buttons above for instant results!")))))))}};_.style=V;const Q=":host{display:inline-block}.euclid-button{display:inline-flex;align-items:center;justify-content:center;gap:var(--euclid-space-2);font-family:var(--euclid-font-sans);font-weight:var(--euclid-button-font-weight);text-decoration:none;cursor:pointer;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;transition:var(--euclid-button-transition);border:var(--euclid-border-1) solid transparent;border-radius:var(--euclid-button-border-radius);position:relative;overflow:hidden;outline:none;vertical-align:middle}.euclid-button:focus-visible{outline:2px solid var(--euclid-interactive-primary);outline-offset:2px}.euclid-button--sm{padding:var(--euclid-space-2) var(--euclid-space-3);font-size:var(--euclid-text-sm);min-height:var(--euclid-space-8);line-height:var(--euclid-leading-tight)}.euclid-button--md{padding:var(--euclid-space-3) var(--euclid-space-4);font-size:var(--euclid-text-base);min-height:var(--euclid-space-10);line-height:var(--euclid-leading-normal)}.euclid-button--lg{padding:var(--euclid-space-4) var(--euclid-space-6);font-size:var(--euclid-text-lg);min-height:var(--euclid-space-12);line-height:var(--euclid-leading-normal)}.euclid-button--primary{background-color:var(--euclid-interactive-primary);color:var(--euclid-text-inverse);box-shadow:var(--euclid-button-shadow)}.euclid-button--primary:hover:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-interactive-primary-hover);box-shadow:var(--euclid-button-shadow-hover);transform:translateY(-1px)}.euclid-button--primary:active:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-interactive-primary-active);transform:translateY(0);box-shadow:var(--euclid-button-shadow)}.euclid-button--secondary{background-color:var(--euclid-surface);color:var(--euclid-text-primary);border-color:var(--euclid-border);box-shadow:var(--euclid-button-shadow)}.euclid-button--secondary:hover:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-surface-secondary);border-color:var(--euclid-border-hover);box-shadow:var(--euclid-button-shadow-hover);transform:translateY(-1px)}.euclid-button--secondary:active:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-background-secondary);transform:translateY(0)}.euclid-button--danger{background-color:var(--euclid-danger-600);color:var(--euclid-text-inverse);box-shadow:var(--euclid-button-shadow)}.euclid-button--danger:hover:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-danger-700);box-shadow:var(--euclid-button-shadow-hover);transform:translateY(-1px)}.euclid-button--danger:active:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-danger-700);transform:translateY(0);box-shadow:var(--euclid-button-shadow)}.euclid-button--ghost{background-color:transparent;color:var(--euclid-text-secondary);border-color:transparent}.euclid-button--ghost:hover:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-surface-secondary);color:var(--euclid-text-primary)}.euclid-button--ghost:active:not(.euclid-button--disabled):not(.euclid-button--loading){background-color:var(--euclid-background-secondary)}.euclid-button--disabled{opacity:0.5;cursor:not-allowed;transform:none !important;box-shadow:none !important}.euclid-button--loading{cursor:default;pointer-events:none}.euclid-button--full-width{width:100%}.euclid-button__content{display:flex;align-items:center;justify-content:center;gap:var(--euclid-space-2);transition:opacity var(--euclid-transition-fast)}.euclid-button__content--hidden{opacity:0}.euclid-button__spinner{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex;align-items:center;justify-content:center}.euclid-button__spinner-icon{width:1rem;height:1rem;animation:euclid-spin 1s linear infinite;border:2px solid currentColor;border-top-color:transparent;border-radius:var(--euclid-radius-full)}.euclid-button--sm .euclid-button__spinner-icon{width:0.875rem;height:0.875rem}.euclid-button--lg .euclid-button__spinner-icon{width:1.25rem;height:1.25rem}@media (prefers-contrast: high){.euclid-button{border-width:var(--euclid-border-2)}.euclid-button--primary{border-color:var(--euclid-interactive-primary)}.euclid-button--secondary{border-color:var(--euclid-text-primary)}.euclid-button--danger{border-color:var(--euclid-danger-600)}}@media (prefers-reduced-motion: reduce){.euclid-button{transition:none}.euclid-button:hover{transform:none}.euclid-button__spinner-icon{animation:none}}@media (pointer: coarse){.euclid-button--sm{min-height:var(--euclid-space-10);padding:var(--euclid-space-2_5) var(--euclid-space-4)}.euclid-button--md{min-height:var(--euclid-space-12);padding:var(--euclid-space-3_5) var(--euclid-space-5)}.euclid-button--lg{min-height:var(--euclid-space-16);padding:var(--euclid-space-5) var(--euclid-space-7)}}";const R=class{constructor(t){e(this,t);this.variant="primary";this.size="md";this.loading=false;this.disabled=false;this.fullWidth=false;this.type="button";this.handleClick=e=>{if(this.disabled||this.loading){e.preventDefault();e.stopPropagation();return}}}render(){const e={"euclid-button":true,[`euclid-button--${this.variant}`]:true,[`euclid-button--${this.size}`]:true,"euclid-button--loading":this.loading,"euclid-button--disabled":this.disabled,"euclid-button--full-width":this.fullWidth};const t={class:e,disabled:this.disabled||this.loading,onClick:this.handleClick,"aria-busy":this.loading?"true":"false"};if(this.href&&!this.disabled&&!this.loading){return i(a,null,i("a",{href:this.href,class:e,role:"button","aria-busy":this.loading?"true":"false"},this.loading&&i("span",{class:"euclid-button__spinner","aria-hidden":"true"},i("svg",{viewBox:"0 0 24 24",class:"euclid-button__spinner-icon"},i("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-dasharray":"60","stroke-dashoffset":"60"}))),i("span",{class:{"euclid-button__content":true,"euclid-button__content--hidden":this.loading}},i("slot",null))))}return i(a,null,i("button",{type:this.type,...t},this.loading&&i("span",{class:"euclid-button__spinner","aria-hidden":"true"},i("svg",{viewBox:"0 0 24 24",class:"euclid-button__spinner-icon"},i("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-dasharray":"60","stroke-dashoffset":"60"}))),i("span",{class:{"euclid-button__content":true,"euclid-button__content--hidden":this.loading}},i("slot",null))))}};R.style=Q;const Y=class{constructor(t){e(this,t);this.environment="testnet"}componentWillLoad(){this.euclidConfig=this.computeConfiguration();this.provideConfigToChildren()}computeConfiguration(){let e={...C};if(this.environment&&D[this.environment]){e=M(e,D[this.environment])}const t={};if(this.graphqlEndpoint)t.graphqlEndpoint=this.graphqlEndpoint;if(this.restEndpoint)t.restEndpoint=this.restEndpoint;if(this.apiTimeout!==undefined)t.apiTimeout=this.apiTimeout;if(this.defaultChain)t.defaultChain=this.defaultChain;if(this.defaultWallet)t.defaultWallet=this.defaultWallet;if(this.supportedChains){t.supportedChains=this.supportedChains.split(",").map((e=>e.trim()))}if(this.supportedWallets){t.supportedWallets=this.supportedWallets.split(",").map((e=>e.trim()))}if(this.defaultSlippage!==undefined){t.ui={...e.ui,defaultSlippage:this.defaultSlippage}}if(this.refreshIntervals){try{t.refreshIntervals=JSON.parse(this.refreshIntervals)}catch(e){k.warn("Component","Invalid refreshIntervals JSON, using defaults:",e)}}if(this.featureFlags){try{t.features=JSON.parse(this.featureFlags)}catch(e){k.warn("Component","Invalid featureFlags JSON, using defaults:",e)}}return M(e,t)}provideConfigToChildren(){globalThis.__euclidConfig=this.euclidConfig;window.dispatchEvent(new CustomEvent("euclid:config-updated",{detail:{config:this.euclidConfig}}))}render(){return i("slot",{key:"d594c3b6749ad1150e83539d2aacf84a8aced58f"})}};function $(e,t){return e?t():null}function H({message:e}){return i("div",{class:"euclid-loading"},i("div",{class:"loading-spinner"}),e&&i("p",null,e))}const Z=":host{display:block;width:100%;height:100%}.euclid-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;padding:var(--euclid-spacing-8);text-align:center;color:var(--euclid-text-secondary);font-family:var(--euclid-font-family-sans)}.loading-spinner{width:var(--euclid-spacing-8);height:var(--euclid-spacing-8);border:3px solid var(--euclid-border);border-top:3px solid var(--euclid-interactive-primary);border-radius:50%;animation:euclid-spin 1s linear infinite;margin-bottom:var(--euclid-spacing-4)}.euclid-loading p{margin:0;font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium)}.euclid-provider-content{width:100%;height:100%}";const J=class{constructor(t){e(this,t);this.isInitialized=false;this.environment="testnet";this.handleWalletConnectFromModal=e=>{const{provider:t,chainId:i}=e.detail;k.info("CoreProvider","Wallet connection request from modal",{providerType:t.type,chainId:i});z(I.WALLET.CONNECT_REQUEST,{chainUID:i||"ethereum",walletType:t.type});n.closeWalletModal()};this.handleTokenSelectFromModal=e=>{const{token:t}=e.detail;k.info("CoreProvider","Token selection from modal",{symbol:t.symbol});z(I.UI.TOKEN_SELECTED,{tokenId:t.id,data:t});n.closeTokenModal()}}get configJson(){return c(this.euclidConfig)}async componentWillLoad(){this.euclidConfig=this.computeConfiguration()}async componentDidLoad(){await this.initialize()}computeConfiguration(){let e={...C};if(this.environment&&D[this.environment]){e=M(e,D[this.environment])}const t={};if(this.graphqlEndpoint)t.graphqlEndpoint=this.graphqlEndpoint;if(this.restEndpoint)t.restEndpoint=this.restEndpoint;if(this.apiTimeout!==undefined)t.apiTimeout=this.apiTimeout;if(this.defaultChain)t.defaultChain=this.defaultChain;if(this.defaultWallet)t.defaultWallet=this.defaultWallet;if(this.supportedChains){t.supportedChains=r(this.supportedChains)}if(this.supportedWallets){t.supportedWallets=r(this.supportedWallets)}if(this.defaultSlippage!==undefined){t.ui={...e.ui,defaultSlippage:this.defaultSlippage}}if(this.refreshIntervals){t.refreshIntervals=p(this.refreshIntervals,e.refreshIntervals)}if(this.featureFlags){t.features=p(this.featureFlags,e.features)}return M(e,t)}async initialize(){k.info("CoreProvider","Initializing Euclid Protocol Core Provider...");n.initialize();o.initialize();await this.loadInitialMarketData();this.isInitialized=true;k.info("CoreProvider","Euclid Protocol Core Provider initialized successfully")}async loadInitialMarketData(){k.debug("CoreProvider","Delegating initial market data loading to Market Data Controller...");z(I.MARKET.LOAD_INITIAL)}handleWalletConnect(e){k.info("CoreProvider","Wallet connection event received",e.detail)}handleWalletDisconnect(e){k.info("CoreProvider","Wallet disconnection event received",e.detail)}render(){return i(a,{key:"610af144c9e4fcffa4dd8dc80d11489cd584e345"},$(!this.isInitialized,(()=>i(H,{message:"Initializing Euclid Protocol..."}))),$(this.isInitialized,(()=>i("div",null,i("euclid-wallet-controller",{config:this.configJson}),i("euclid-market-data-controller",{config:this.configJson}),i("euclid-user-data-controller",{config:this.configJson}),i("euclid-swap-controller",{config:this.configJson}),i("euclid-liquidity-controller",{config:this.configJson}),i("euclid-tx-tracker-controller",{config:this.configJson}),i("euclid-modal",null)))),i("div",{key:"e07da5cd35b7c87b08263cc747a727cf8d970552",class:"euclid-provider-content"},i("slot",{key:"0abcdf54a5cde13dc6d90d645ff5fa2ffee34445"})))}};J.style=Z;class G{constructor(e,t,i){this.triggerElements=new Set;this.state={displayedItemsCount:0,hasMoreData:true,isLoadingMore:false,isComponentVisible:true};this.hostElement=e;this.config=t;this.callbacks=i}initialize(e){this.contentElement=e;this.setupIntersectionObservers()}updateState(e){this.state={...this.state,...e};this.callbacks.onStateChange(this.state)}updateTriggerElements(){if(!this.itemObserver)return;this.triggerElements.forEach((e=>{this.itemObserver?.unobserve(e)}));this.triggerElements.clear();const e=this.hostElement?.shadowRoot?.querySelector(".data-content");if(!e)return;const t=e.querySelectorAll(".data-item");const i=Math.min(this.config.triggerItems,t.length);for(let e=t.length-i;e<t.length;e++){if(e>=0&&t[e]){this.triggerElements.add(t[e]);this.itemObserver.observe(t[e])}}}findScrollContainer(e){let t=e.parentElement;while(t&&t!==document.documentElement){const e=window.getComputedStyle(t);const i=e.overflowY==="auto"||e.overflowY==="scroll";const a=e.overflow==="auto"||e.overflow==="scroll";const s=t.scrollHeight>t.clientHeight;const o=s&&(i||a||t.tagName==="BODY"||t.classList.contains("container")||t.classList.contains("scroll")||t.classList.contains("scrollable"));if(o){return t}t=t.parentElement}const i=document.body;if(i&&i.scrollHeight>i.clientHeight){return i}return null}setupIntersectionObservers(){let e=null;if(this.config.useParentScroll){e=this.findScrollContainer(this.hostElement)}else{e=this.contentElement||null}this.componentObserver=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.isIntersecting;this.updateState({isComponentVisible:t});if(!t){this.pauseItemObserver()}else{this.resumeItemObserver()}}))}),{root:this.config.useParentScroll?e:null,rootMargin:"50px",threshold:.1});if(this.hostElement){this.componentObserver.observe(this.hostElement)}this.itemObserver=new IntersectionObserver((e=>{if(!this.state.isComponentVisible||this.state.isLoadingMore||!this.state.hasMoreData)return;e.forEach((e=>{if(e.isIntersecting&&this.triggerElements.has(e.target)){this.handleLoadMore()}}))}),{root:e,rootMargin:"20px",threshold:this.config.threshold})}handleLoadMore(){if(this.state.isLoadingMore||!this.state.hasMoreData)return;if(this.loadMoreDebounceTimer){clearTimeout(this.loadMoreDebounceTimer)}this.loadMoreDebounceTimer=setTimeout((()=>{this.callbacks.onLoadMore()}),this.config.debounceTime)}pauseItemObserver(){if(this.itemObserver){this.triggerElements.forEach((e=>{this.itemObserver?.unobserve(e)}))}}resumeItemObserver(){if(this.itemObserver&&this.triggerElements.size>0){this.triggerElements.forEach((e=>{this.itemObserver?.observe(e)}))}}destroy(){if(this.componentObserver){this.componentObserver.disconnect();this.componentObserver=undefined}if(this.itemObserver){this.itemObserver.disconnect();this.itemObserver=undefined}this.triggerElements.clear();if(this.loadMoreDebounceTimer){clearTimeout(this.loadMoreDebounceTimer)}}}class K{constructor(e={}){this.worker=null;this.messageId=0;this.pendingMessages=new Map;this.debounceTimers=new Map;this.retryCount=0;this.maxRetries=3;this.workerDisabled=false;this.config={workerPath:"/build/workers/data-list.worker.js",batchSize:50,debounceTime:200,timeout:5e3,...e};this.initializeWorker()}initializeWorker(){if(!this.worker&&!this.workerDisabled){try{this.worker=new Worker(this.config.workerPath);this.worker.addEventListener("message",this.handleWorkerMessage.bind(this));this.worker.addEventListener("error",this.handleWorkerError.bind(this));k.info("WorkerManager","DataListWorker initialized successfully");this.retryCount=0}catch(e){k.error("WorkerManager","Failed to initialize DataListWorker",e);this.handleWorkerFailure()}}}handleWorkerMessage(e){const{id:t,type:i,payload:a}=e.data;const s=this.pendingMessages.get(t);if(!s){k.warn("WorkerManager","Received response for unknown message ID",t);return}clearTimeout(s.timeout);this.pendingMessages.delete(t);if(i==="ERROR"){s.reject(new Error(a.error||"Unknown worker error"))}else{if(a.processingTime!==undefined){k.debug("WorkerManager",`Worker processing time: ${a.processingTime.toFixed(2)}ms`)}s.resolve(a)}}handleWorkerError(e){k.error("WorkerManager","Worker error",e);this.pendingMessages.forEach((t=>{clearTimeout(t.timeout);t.reject(new Error("Worker error: "+e.message))}));this.pendingMessages.clear();this.handleWorkerFailure()}handleWorkerFailure(){this.retryCount++;k.warn("WorkerManager",`Worker failure ${this.retryCount}/${this.maxRetries}`);this.terminateWorker();if(this.retryCount>=this.maxRetries){k.error("WorkerManager","Worker failed too many times, disabling worker permanently");this.workerDisabled=true;return}const e=Math.min(1e3*Math.pow(2,this.retryCount-1),1e4);setTimeout((()=>{if(!this.workerDisabled){this.initializeWorker()}}),e)}sendMessage(e){if(!this.worker||this.workerDisabled){return Promise.reject(new Error("Worker not available"))}const t=`msg_${++this.messageId}`;const i={id:t,...e};return new Promise(((e,a)=>{const s=setTimeout((()=>{this.pendingMessages.delete(t);a(new Error("Worker timeout"))}),1e4);this.pendingMessages.set(t,{resolve:t=>e(t),reject:a,timeout:s});this.worker.postMessage(i)}))}async processData(e,t,i,a){const s=await this.sendMessage({type:"PROCESS_DATA",payload:{data:e,dataType:t,filterState:i,walletAddress:a}});return{filteredData:s.filteredData||[],totalCount:s.totalCount||0,processingTime:s.processingTime||0}}async getBatch(e,t){const i=await this.sendMessage({type:"GET_BATCH",payload:{startIndex:e,batchSize:t||this.config.batchSize}});return{batchData:i.batchData||[],totalCount:i.totalCount||0,hasMore:i.hasMore||false,processingTime:i.processingTime||0}}async searchDebounced(e,t,i="default"){return new Promise(((t,a)=>{const s=this.debounceTimers.get(i);if(s){clearTimeout(s)}const o=setTimeout((async()=>{try{this.debounceTimers.delete(i);const a=await this.sendMessage({type:"SEARCH",payload:{filterState:{search:e,sortBy:"",sortOrder:"asc"}}});t({filteredData:a.filteredData||[],totalCount:a.totalCount||0,processingTime:a.processingTime||0})}catch(e){a(e)}}),this.config.debounceTime);this.debounceTimers.set(i,o)}))}async sort(e,t){const i=await this.sendMessage({type:"SORT",payload:{filterState:{search:"",sortBy:e,sortOrder:t}}});return{filteredData:i.filteredData||[],totalCount:i.totalCount||0,processingTime:i.processingTime||0}}isWorkerAvailable(){return!this.workerDisabled&&this.worker!==null&&this.worker.constructor===Worker}getMetrics(){return{pendingMessages:this.pendingMessages.size,activeDebounceTimers:this.debounceTimers.size}}terminateWorker(){if(this.worker){this.pendingMessages.forEach((e=>{clearTimeout(e.timeout);e.reject(new Error("Worker terminated"))}));this.pendingMessages.clear();this.debounceTimers.forEach((e=>clearTimeout(e)));this.debounceTimers.clear();this.worker.terminate();this.worker=null;k.info("WorkerManager","DataListWorker terminated")}}destroy(){this.terminateWorker()}}class X{constructor(e,t,i){this.dataType=e;this.config=t;this.callbacks=i;if(t.enableWorker){this.initializeWorker()}}initializeWorker(){this.workerManager=new K({batchSize:50,debounceTime:this.config.debounceTime})}async processData(e,t,i){const a=performance.now();const s=this.config.enableWorker&&this.workerManager?.isWorkerAvailable()&&e.length>this.config.workerThreshold;if(s){try{this.callbacks.onWorkerStateChange(true);const a=await this.workerManager.processData(e,this.dataType,t,i);this.callbacks.onFilterComplete(a.filteredData,a.processingTime);this.callbacks.onPerformanceMetric({processingTime:a.processingTime,operation:"filter_sort",itemCount:e.length})}catch(s){k.error("Utils","❌ Worker processing failed, falling back to main thread:",s);const o=this.processDataSync(e,t,i);const r=performance.now()-a;this.callbacks.onFilterComplete(o,r)}finally{this.callbacks.onWorkerStateChange(false)}}else{const s=this.processDataSync(e,t,i);const o=performance.now()-a;this.callbacks.onFilterComplete(s,o)}}processDataSync(e,t,i){let a=[...e];if(t.search){const e=t.search.toLowerCase();a=a.filter((t=>this.searchInItem(t,e)))}a=this.applyTypeSpecificFilters(a,t,i);if(t.sortBy){a=this.applySorting(a,t)}return a}searchInItem(e,t){const i=this.getSearchFields();return i.some((i=>{const a=this.getItemValue(e,i);return a&&a.toString().toLowerCase().includes(t)}))}getSearchFields(){switch(this.dataType){case"tokens":return["displayName","tokenId","name"];case"chains":return["display_name","chain_id","chain_uid"];case"pools":return["token_1","token_2","pool_id"];default:return["name"]}}applyTypeSpecificFilters(e,t,i){switch(this.dataType){case"tokens":return this.applyTokenFilters(e,t);case"chains":return this.applyChainFilters(e,t);case"pools":return this.applyPoolFilters(e,t,i);default:return e}}applyTokenFilters(e,t){let i=[...e];if(t.chainFilter){i=i.filter((e=>e.chain_uids?.includes(t.chainFilter)))}return i}applyChainFilters(e,t){let i=[...e];if(t.typeFilter){i=i.filter((e=>e.type===t.typeFilter))}return i}applyPoolFilters(e,t,i){const a=[...e];return a}applySorting(e,t){return[...e].sort(((e,i)=>{let a,s;switch(this.dataType){case"tokens":({aValue:a,bValue:s}=this.getTokenSortValues(e,i,t.sortBy));break;case"chains":({aValue:a,bValue:s}=this.getChainSortValues(e,i,t.sortBy));break;case"pools":({aValue:a,bValue:s}=this.getPoolSortValues(e,i,t.sortBy));break;default:a=s=0}if(typeof a==="string"&&typeof s==="string"){const e=a.localeCompare(s);return t.sortOrder==="asc"?e:-e}const o=(a||0)-(s||0);return t.sortOrder==="asc"?o:-o}))}getTokenSortValues(e,t,i){switch(i){case"name":return{aValue:e.displayName,bValue:t.displayName};case"price":return{aValue:parseFloat(e.price||"0"),bValue:parseFloat(t.price||"0")};case"volume":return{aValue:e.total_volume_24h||0,bValue:t.total_volume_24h||0};case"marketCap":return{aValue:0,bValue:0};default:return{aValue:e.displayName,bValue:t.displayName}}}getChainSortValues(e,t,i){switch(i){case"name":return{aValue:e.display_name,bValue:t.display_name};case"type":return{aValue:e.type,bValue:t.type};case"chain_id":return{aValue:e.chain_id,bValue:t.chain_id};default:return{aValue:e.display_name,bValue:t.display_name}}}getPoolSortValues(e,t,i){switch(i){case"apr":return{aValue:parseFloat(e.apr?.replace("%","")||"0"),bValue:parseFloat(t.apr?.replace("%","")||"0")};case"tvl":return{aValue:parseFloat(e.total_liquidity||"0"),bValue:parseFloat(t.total_liquidity||"0")};case"volume":return{aValue:parseFloat(e.volume_24h||"0"),bValue:parseFloat(t.volume_24h||"0")};case"fees":return{aValue:parseFloat(e.fees_24h||"0"),bValue:parseFloat(t.fees_24h||"0")};default:return{aValue:e.token_1,bValue:t.token_1}}}getItemValue(e,t){const i=t.split(".");let a=e;for(const e of i){if(a&&typeof a==="object"&&e in a){a=a[e]}else{return null}}return a}async searchDebounced(e){if(this.config.enableWorker&&this.workerManager?.isWorkerAvailable()){try{this.callbacks.onWorkerStateChange(true);const t=await this.workerManager.searchDebounced(e,this.dataType);this.callbacks.onFilterComplete(t.filteredData,t.processingTime);this.callbacks.onPerformanceMetric({processingTime:t.processingTime,operation:"search",itemCount:t.totalCount})}catch(e){k.error("Utils","❌ Worker search failed:",e)}finally{this.callbacks.onWorkerStateChange(false)}}}destroy(){if(this.workerManager){this.workerManager.destroy()}}}class ee{constructor(e,t){this.filteredData=[];this.state={currentPage:1,totalPages:1,displayedItemsCount:0,hasMoreData:true};this.config=e;this.callbacks=t;if(e.infiniteScroll){this.state.displayedItemsCount=e.itemsPerPage}}updateData(e){this.filteredData=e;this.updatePagination()}getPaginatedData(){if(this.config.infiniteScroll){return this.filteredData.slice(0,this.state.displayedItemsCount)}if(this.config.itemsPerPage<=0){return this.filteredData}const e=(this.state.currentPage-1)*this.config.itemsPerPage;const t=e+this.config.itemsPerPage;return this.filteredData.slice(e,t)}loadMore(){if(!this.config.infiniteScroll){return{newDisplayedCount:this.state.displayedItemsCount,hasMore:false}}const e=this.state.displayedItemsCount;const t=this.filteredData.length;const i=Math.min(this.config.itemsPerPage,t-e);if(i<=0){this.state.hasMoreData=false;this.callbacks.onStateChange(this.state);return{newDisplayedCount:e,hasMore:false}}const a=Math.min(e+i,t,this.config.maxItems);this.state.displayedItemsCount=a;this.state.hasMoreData=a<t&&a<this.config.maxItems;this.callbacks.onStateChange(this.state);this.callbacks.onInfiniteScrollStateChange(false,this.state.hasMoreData,a);return{newDisplayedCount:a,hasMore:this.state.hasMoreData}}goToPage(e){if(this.config.infiniteScroll){return false}if(e>=1&&e<=this.state.totalPages){this.state.currentPage=e;this.callbacks.onStateChange(this.state);this.callbacks.onPageChange(e,this.state.totalPages,this.config.itemsPerPage);return true}return false}resetToFirstPage(){this.state.currentPage=1;if(this.config.infiniteScroll){this.state.displayedItemsCount=Math.min(this.config.itemsPerPage,this.filteredData.length);this.state.hasMoreData=this.state.displayedItemsCount<this.filteredData.length&&this.state.displayedItemsCount<this.config.maxItems}this.callbacks.onStateChange(this.state)}updatePagination(){if(this.config.infiniteScroll){this.state.displayedItemsCount=Math.min(this.state.displayedItemsCount,this.filteredData.length,this.config.maxItems);this.state.hasMoreData=this.state.displayedItemsCount<this.filteredData.length&&this.state.displayedItemsCount<this.config.maxItems;this.state.totalPages=1;this.state.currentPage=1}else{if(this.config.itemsPerPage>0){this.state.totalPages=Math.ceil(this.filteredData.length/this.config.itemsPerPage);if(this.state.currentPage>this.state.totalPages&&this.state.totalPages>0){this.state.currentPage=1}}else{this.state.totalPages=1;this.state.currentPage=1}}this.callbacks.onStateChange(this.state)}getState(){return{...this.state}}}const te=":host{display:block;width:100%;font-family:var(--euclid-font-family, 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif)}.data-list{background:var(--euclid-surface);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-2xl);overflow:visible;box-shadow:var(--euclid-shadow-sm)}.data-header{padding:24px;border-bottom:1px solid var(--euclid-border);background:var(--euclid-surface-secondary)}.data-title{margin:0;font-size:20px;font-weight:600;color:var(--euclid-text-primary)}.data-controls{display:flex;flex-wrap:wrap;gap:16px;padding:20px;background:var(--euclid-surface);border-bottom:1px solid var(--euclid-border);align-items:center}.search-input-container{position:relative;flex:1;min-width:200px}.search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:18px;height:18px;color:var(--euclid-text-secondary);pointer-events:none;z-index:1}.search-input{width:100%;padding:12px 16px 12px 44px;border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:14px;transition:border-color 0.2s ease, box-shadow 0.2s ease}.search-input:focus{outline:none;border-color:var(--euclid-interactive-primary);box-shadow:0 0 0 3px var(--euclid-interactive-primary-focus)}.search-input::placeholder{color:var(--euclid-text-secondary)}.filters-container{display:flex;flex-wrap:wrap;gap:12px;align-items:center}.filter-item{display:flex;align-items:center}.filter-select,.sort-select{padding:8px 12px;border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:14px;min-width:120px;cursor:pointer}.filter-select:focus,.sort-select:focus{outline:none;border-color:var(--euclid-interactive-primary);box-shadow:0 0 0 2px var(--euclid-interactive-primary-focus)}.filter-input{padding:8px 12px;border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:14px;min-width:150px}.filter-input:focus{outline:none;border-color:var(--euclid-interactive-primary);box-shadow:0 0 0 2px var(--euclid-interactive-primary-focus)}.filter-checkbox{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px;color:var(--euclid-text-primary)}.filter-checkbox input[type=\"checkbox\"]{width:16px;height:16px;accent-color:var(--euclid-interactive-primary)}.checkbox-label{user-select:none}.data-stats{display:flex;flex-wrap:wrap;gap:24px;padding:20px 24px;background:var(--euclid-surface-secondary);border-bottom:1px solid var(--euclid-border)}.stat-item{display:flex;flex-direction:column;gap:4px}.stat-label{font-size:12px;color:var(--euclid-text-secondary);text-transform:uppercase;letter-spacing:0.5px;font-weight:500}.stat-value{font-size:18px;font-weight:700;color:var(--euclid-text-primary)}.data-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:16px;padding:24px}.data-list-container{display:flex;flex-direction:column;gap:12px;padding:24px}.data-compact-container{display:flex;flex-wrap:wrap;gap:8px;padding:20px}.data-content--infinite{max-height:60vh;overflow-y:auto;scroll-behavior:smooth;contain:layout style;position:relative;isolation:isolate;overscroll-behavior:contain;scrollbar-gutter:stable}.data-content--parent-scroll{max-height:none;overflow-y:visible}.data-item{position:relative;transition:opacity 0.2s ease-in-out, transform 0.2s ease-in-out;contain:layout;will-change:auto;transform:translateZ(0)}.data-container--transitioning .data-item{transition:opacity 0.15s ease-in-out}.data-item--updating{opacity:0.8}.data-container--transitioning{min-height:inherit}.data-grid,.data-list-container,.data-compact-container{contain:layout;position:relative}.worker-badge{font-size:0.8em;background:linear-gradient(45deg, #667eea, #764ba2);color:white;padding:2px 6px;border-radius:4px;margin-left:8px;font-weight:normal}.search-processing{position:absolute;right:8px;top:50%;transform:translateY(-50%)}.loading-spinner-small{width:16px;height:16px;border:2px solid #f3f3f3;border-top:2px solid #667eea;border-radius:50%;animation:spin 1s linear infinite}.data-content--processing{opacity:0.8;transition:opacity 0.2s ease}.infinite-scroll-footer{padding:16px 24px;display:flex;justify-content:center;align-items:center;border-top:1px solid var(--euclid-border);background:var(--euclid-surface-secondary)}.infinite-scroll-loading{display:flex;flex-direction:column;align-items:center;gap:12px;color:var(--euclid-text-secondary)}.infinite-scroll-loading .loading-spinner{width:24px;height:24px;border:2px solid var(--euclid-border);border-top-color:var(--euclid-interactive-primary);border-radius:50%;animation:spin 1s linear infinite}.infinite-scroll-loading span{font-size:14px;font-weight:500}.infinite-scroll-end{display:flex;align-items:center;justify-content:center;padding:8px 0}.infinite-scroll-end span{font-size:14px;color:var(--euclid-text-tertiary);font-style:italic}.loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:60px 24px;text-align:center;color:var(--euclid-text-secondary)}.loading-spinner{width:32px;height:32px;border:3px solid var(--euclid-border);border-top-color:var(--euclid-interactive-primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:60px 24px;text-align:center;color:var(--euclid-text-secondary)}.empty-state svg{width:48px;height:48px;opacity:0.5}.empty-state span{font-size:16px;font-weight:500}.clear-filters-btn{padding:12px 24px;background:var(--euclid-interactive-primary);color:white;border:none;border-radius:var(--euclid-radius-lg);font-size:14px;font-weight:500;cursor:pointer;transition:background-color 0.2s ease}.clear-filters-btn:hover{background:var(--euclid-interactive-primary-hover)}.pagination{display:flex;justify-content:center;align-items:center;gap:8px;padding:20px 24px;border-top:1px solid var(--euclid-border);background:var(--euclid-surface)}.pagination-btn{padding:8px 16px;border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:14px;font-weight:500;cursor:pointer;transition:all 0.2s ease}.pagination-btn:hover:not(:disabled){border-color:var(--euclid-interactive-primary);background:var(--euclid-interactive-primary-focus)}.pagination-btn:disabled{opacity:0.5;cursor:not-allowed}.pagination-pages{display:flex;gap:4px;align-items:center}.pagination-page{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:14px;font-weight:500;cursor:pointer;transition:all 0.2s ease}.pagination-page:hover{border-color:var(--euclid-interactive-primary);background:var(--euclid-interactive-primary-focus)}.pagination-page--active{background:var(--euclid-interactive-primary);border-color:var(--euclid-interactive-primary);color:white}.pagination-page--active:hover{background:var(--euclid-interactive-primary-hover)}.pagination-ellipsis{padding:0 8px;color:var(--euclid-text-secondary);font-weight:500}@media (max-width: 768px){.data-header{padding:16px}.data-title{font-size:18px}.data-controls{flex-direction:column;align-items:stretch;gap:12px;padding:16px}.search-input-container{min-width:unset}.filters-container{justify-content:space-between}.data-stats{flex-direction:column;gap:16px;padding:16px}.data-grid{grid-template-columns:1fr;gap:12px;padding:16px}.data-list-container{gap:8px;padding:16px}.pagination{flex-direction:column;gap:12px;padding:16px}.pagination-pages{order:-1}}@media (max-width: 640px){.data-stats{text-align:center}.stat-item{align-items:center}.filter-select,.sort-select,.filter-input{min-width:unset;width:100%}.filters-container{flex-direction:column;align-items:stretch}}";const ie=class{constructor(i){e(this,i);this.itemSelected=t(this,"itemSelected");this.itemHover=t(this,"itemHover");this.filtersChanged=t(this,"filtersChanged");this.pageChanged=t(this,"pageChanged");this.loadMoreRequested=t(this,"loadMoreRequested");this.infiniteScrollStateChanged=t(this,"infiniteScrollStateChanged");this.workerPerformance=t(this,"workerPerformance");this.displayMode="card";this.cardTitle="";this.itemsPerPage=10;this.infiniteScroll=false;this.useParentScroll=false;this.infiniteScrollTriggerItems=3;this.infiniteScrollThreshold=.1;this.maxItems=1e3;this.showFields="";this.searchable=true;this.filterable=true;this.sortable=true;this.showStats=true;this.selectable=true;this.loading=false;this.enableWorker=false;this.walletAddress="";this.showEndMessage=true;this.filteredData=[];this.currentPage=1;this.totalPages=1;this.selectedItemId="";this.filterState={search:"",sortBy:"",sortOrder:"asc"};this.displayedItemsCount=0;this.hasMoreData=true;this.isLoadingMore=false;this.isComponentVisible=true;this.storeData=[];this.storeLoading=false;this.storeError=null;this.isWorkerProcessing=false;this.workerProcessingTime=0;this.componentPoolVersion=0;this.isTransitioning=false;this.memoizedItems=new Map;this.lastRenderHash="";this.updateTimeout=null;this.isConnected=true;this.dataSubscriptionId=null;this.handleSearch=async e=>{const t=e.target;const i=t.value||"";const a={...this.filterState,search:i};this.filterState=a;this.paginationManager?.resetToFirstPage();this.applyFilters()};this.handleSortChange=async e=>{const t=e.target;const[i,a]=t.value.split("_");const s={...this.filterState,sortBy:i,sortOrder:a};this.filterState=s;this.applyFilters()};this.handleFilterChange=(e,t)=>{this.filterState={...this.filterState,[e]:t};this.paginationManager?.resetToFirstPage();this.applyFilters()};this.clearFilters=()=>{const e=this.getDefaultSort();this.filterState={search:"",sortBy:e.key,sortOrder:e.order};this.paginationManager?.resetToFirstPage();this.applyFilters()};this.handleItemSelect=e=>{if(!this.isConnected)return;const t=e.detail;const i=this.getItemId(t);this.selectedItemId=i;try{this.itemSelected.emit({item:t,id:i})}catch(e){k.warn("Component","Failed to emit itemSelected event:",e)}};this.handleItemHover=e=>{if(!this.isConnected)return;const t=e.detail;const i=this.getItemId(t);try{this.itemHover.emit({item:t,id:i})}catch(e){k.warn("Component","Failed to emit itemHover event:",e)}};this.handlePageChange=e=>{this.paginationManager?.goToPage(e)}}get storeKey(){return this.dataType}get itemComponent(){switch(this.dataType){case"tokens":return"euclid-token-item";case"chains":return"euclid-chain-item";case"pools":return"euclid-pool-item";default:return"div"}}get showFieldsArray(){return this.showFields?this.showFields.split(",").map((e=>e.trim())):this.getDefaultFields()}get effectiveCardTitle(){return this.cardTitle||null}componentWillLoad(){this.initializeFilterState();this.syncWithStore();this.initializeManagers();if(this.infiniteScroll){this.displayedItemsCount=this.itemsPerPage;this.hasMoreData=true}this.subscribeToMarketData();w.onChange(this.storeKey,(()=>{this.scheduleDataUpdate()}));w.onChange("loading",(()=>{this.storeLoading=w.state.loading}));w.onChange("error",(()=>{this.storeError=w.state.error}))}scheduleDataUpdate(){if(!this.isConnected)return;if(this.updateTimeout){clearTimeout(this.updateTimeout)}this.updateTimeout=window.setTimeout((()=>{if(!this.isConnected)return;if(this.isTransitioning){this.scheduleDataUpdate();return}this.isTransitioning=true;requestAnimationFrame((()=>{if(!this.isConnected){this.isTransitioning=false;return}this.syncWithStore();this.applyFilters();setTimeout((()=>{this.isTransitioning=false;this.updateTimeout=null}),50)}))}),100)}componentDidLoad(){if(this.infiniteScroll){this.infiniteScrollManager?.initialize(this.contentElement)}}componentDidUpdate(){if(this.infiniteScroll){this.infiniteScrollManager?.updateTriggerElements()}}disconnectedCallback(){this.isConnected=false;this.unsubscribeFromMarketData();this.filterManager?.destroy();this.infiniteScrollManager?.destroy();if(this.updateTimeout){clearTimeout(this.updateTimeout);this.updateTimeout=null}}subscribeToMarketData(){let e;switch(this.dataType){case"tokens":e="tokenPrices";break;case"pools":case"chains":default:e="marketData";break}this.dataSubscriptionId=T.subscribe(`euclid-data-list-${this.dataType}`,e,{dataSubtype:this.dataType});k.info("Component",`📊 Data List subscribed to ${e} for ${this.dataType}`)}unsubscribeFromMarketData(){if(this.dataSubscriptionId){T.unsubscribe(this.dataSubscriptionId);this.dataSubscriptionId=null;k.info("Component",`📊 Data List unsubscribed from ${this.dataType} data`)}}getDefaultFields(){switch(this.dataType){case"tokens":return["logo","name","price","change","volume24h","chains","verified"];case"chains":return["logo","name","type","chain_id"];case"pools":return[];default:return[]}}initializeFilterState(){const e=this.getDefaultSort();this.filterState={search:"",sortBy:e.key,sortOrder:e.order}}initializeManagers(){const e={enableWorker:this.enableWorker||this.infiniteScroll,workerThreshold:this.infiniteScroll?25:50,debounceTime:200};this.filterManager=new X(this.dataType,e,{onFilterComplete:(e,t)=>{if(!this.isConnected)return;this.filteredData=e;this.workerProcessingTime=t||0;this.paginationManager?.updateData(e);try{this.filtersChanged.emit({filters:{...this.filterState},resultCount:e.length})}catch(e){k.warn("Component","Failed to emit filtersChanged event:",e)}},onWorkerStateChange:e=>{if(!this.isConnected)return;this.isWorkerProcessing=e},onPerformanceMetric:e=>{if(!this.isConnected)return;try{this.workerPerformance.emit(e)}catch(e){k.warn("Component","Failed to emit workerPerformance event:",e)}}});const t={itemsPerPage:this.itemsPerPage,maxItems:this.maxItems,infiniteScroll:this.infiniteScroll};this.paginationManager=new ee(t,{onStateChange:e=>{if(!this.isConnected)return;if(!this.infiniteScroll){this.currentPage=e.currentPage;this.totalPages=e.totalPages}},onPageChange:(e,t,i)=>{if(!this.isConnected)return;try{this.pageChanged.emit({page:e,totalPages:t,itemsPerPage:i})}catch(e){k.warn("Component","Failed to emit pageChanged event:",e)}},onInfiniteScrollStateChange:(e,t,i)=>{if(!this.isConnected)return;this.isLoadingMore=e;this.hasMoreData=t;this.displayedItemsCount=i;try{this.infiniteScrollStateChanged.emit({isLoading:e,hasMore:t,displayedCount:i})}catch(e){k.warn("Component","Failed to emit infiniteScrollStateChanged event:",e)}}});if(this.infiniteScroll){const e={useParentScroll:this.useParentScroll,triggerItems:this.infiniteScrollTriggerItems,threshold:this.infiniteScrollThreshold,debounceTime:100};this.infiniteScrollManager=new G(this.el,e,{onLoadMore:()=>{this.handleLoadMore()},onStateChange:e=>{this.isComponentVisible=e.isComponentVisible;this.isLoadingMore=e.isLoadingMore}})}this.applyFilters()}getDefaultSort(){switch(this.dataType){case"tokens":return{key:"name",order:"asc"};case"chains":return{key:"name",order:"asc"};case"pools":return{key:"apr",order:"desc"};default:return{key:"name",order:"asc"}}}syncWithStore(){const e=w.state[this.storeKey]||[];this.storeData=Array.isArray(e)?e:[];this.storeLoading=w.state.loading;this.storeError=w.state.error}watchPropsChange(){if(this.dataSubscriptionId){this.unsubscribeFromMarketData();this.subscribeToMarketData()}this.syncWithStore();this.initializeFilterState();this.initializeManagers();if(this.infiniteScroll){this.displayedItemsCount=this.itemsPerPage;this.hasMoreData=true}else{this.currentPage=1;this.displayedItemsCount=0;this.hasMoreData=false}this.selectedItemId="";this.applyFilters()}async applyFilters(){if(this.filterManager&&this.storeData.length>0){await this.filterManager.processData(this.storeData,this.filterState,this.walletAddress)}else if(this.storeData.length===0){this.filteredData=[];this.paginationManager?.updateData([])}if(!this.infiniteScroll&&this.filteredData.length>0){const e=Math.ceil(this.filteredData.length/this.itemsPerPage);if(this.totalPages!==e){this.totalPages=e;if(this.currentPage>e){this.currentPage=1}}}}getStableKey(e){switch(this.dataType){case"tokens":{const t=e;return`token-${t.symbol||t.name||"unknown"}`}case"chains":{const t=e;return`chain-${t.chain_uid||t.chain_id||"unknown"}`}case"pools":{const t=e;return`pool-${t.pool_id||"unknown"}`}default:return`item-${JSON.stringify(e).slice(0,50)}`}}createItemHash(e){return JSON.stringify({item:e,selected:this.selectedItemId===this.getItemId(e),displayMode:this.displayMode,showFields:this.showFieldsArray})}shouldRenderItem(e,t){const i=this.createItemHash(t);const a=this.memoizedItems.get(e);if(!a||a.hash!==i){this.memoizedItems.set(e,{item:t,props:this.getItemProps(t),hash:i});return true}return false}getItemProps(e){const t=this.getItemId(e);const i=this.selectedItemId===t;const a={[this.dataType.slice(0,-1)]:e,selected:i,displayMode:this.displayMode,showFields:this.showFieldsArray,selectable:this.selectable};return this.dataType==="pools"?{...a,tokens:w.state.tokens||[],walletAddress:this.walletAddress}:a}getPaginatedData(){if(this.infiniteScroll){return this.filteredData.slice(0,this.displayedItemsCount)}if(this.itemsPerPage<=0){return this.filteredData}const e=(this.currentPage-1)*this.itemsPerPage;const t=e+this.itemsPerPage;return this.filteredData.slice(e,t)}getItemId(e){switch(this.dataType){case"tokens":return e.tokenId;case"chains":return e.chain_uid;case"pools":return e.pool_id;default:return"unknown"}}handleLoadMore(){if(!this.isConnected||this.isLoadingMore||!this.hasMoreData)return;const e=this.displayedItemsCount;const t=this.filteredData.length;const i=Math.min(this.itemsPerPage,t-e);if(i<=0){this.hasMoreData=false;this.emitInfiniteScrollState();return}this.isLoadingMore=true;this.emitInfiniteScrollState();try{this.loadMoreRequested.emit({currentCount:e,requestedCount:i})}catch(e){k.warn("Component","Failed to emit loadMoreRequested event:",e)}setTimeout((()=>{const a=Math.min(e+i,t,this.maxItems);this.displayedItemsCount=a;this.hasMoreData=a<t&&a<this.maxItems;this.isLoadingMore=false;this.emitInfiniteScrollState();requestAnimationFrame((()=>{this.infiniteScrollManager?.updateTriggerElements()}))}),200)}emitInfiniteScrollState(){if(!this.isConnected)return;try{this.infiniteScrollStateChanged.emit({isLoading:this.isLoadingMore,hasMore:this.hasMoreData,displayedCount:this.displayedItemsCount})}catch(e){k.warn("Component","Failed to emit infiniteScrollStateChanged event:",e)}}renderSearch(){if(!this.searchable)return null;return i("div",{class:"search-input-container"},i("svg",{class:"search-icon",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),i("input",{type:"text",class:"search-input",placeholder:`Search ${this.dataType}...`,value:this.filterState.search,onInput:this.handleSearch}),this.isWorkerProcessing&&i("div",{class:"search-processing"},i("div",{class:"loading-spinner-small"})))}renderFilters(){if(!this.filterable)return null;const e=[];if(this.dataType==="tokens"){e.push(i("label",{class:"filter-checkbox"},i("input",{type:"checkbox",checked:Boolean(this.filterState.showFavorites),onChange:e=>this.handleFilterChange("showFavorites",e.target.checked)}),i("span",{class:"checkbox-label"},"Show Favorites")))}if(this.dataType==="chains"){e.push(i("select",{class:"filter-select",onChange:e=>this.handleFilterChange("typeFilter",e.target.value)},i("option",{value:""},"All Types"),i("option",{value:"EVM"},"EVM"),i("option",{value:"Cosmwasm"},"CosmWasm")))}if(this.dataType==="pools"&&this.walletAddress){e.push(i("label",{class:"filter-checkbox"},i("input",{type:"checkbox",checked:Boolean(this.filterState.showMyPools),onChange:e=>this.handleFilterChange("showMyPools",e.target.checked)}),i("span",{class:"checkbox-label"},"My Pools Only")))}return e.length>0?i("div",{class:"filters-container"},e):null}renderSorting(){if(!this.sortable)return null;const e=this.getSortOptions();return i("select",{class:"sort-select",onChange:this.handleSortChange},e.flatMap((e=>[i("option",{key:`${e.key}_asc`,value:`${e.key}_asc`,selected:this.filterState.sortBy===e.key&&this.filterState.sortOrder==="asc"},e.label," (A-Z)"),i("option",{key:`${e.key}_desc`,value:`${e.key}_desc`,selected:this.filterState.sortBy===e.key&&this.filterState.sortOrder==="desc"},e.label," (Z-A)")])))}getSortOptions(){switch(this.dataType){case"tokens":return[{key:"name",label:"Name"},{key:"price",label:"Price"},{key:"volume",label:"Volume"},{key:"marketCap",label:"Market Cap"}];case"chains":return[{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"chain_id",label:"Chain ID"}];case"pools":return[{key:"apr",label:"APR"},{key:"tvl",label:"TVL"},{key:"volume",label:"Volume"},{key:"fees",label:"Fees"}];default:return[]}}renderStats(){if(!this.showStats)return null;const e=this.getStats();return i("div",{class:"data-stats"},e.map((e=>i("div",{key:e.key,class:"stat-item"},i("div",{class:"stat-label"},e.label),i("div",{class:"stat-value"},e.value)))))}getStats(){const e=this.storeData.length;const t=this.filteredData.length;const i=[{key:"total",label:`Total ${this.dataType}`,value:e.toString()},{key:"filtered",label:"Filtered",value:t.toString()}];if(this.dataType==="tokens"){const e=this.storeData;const t=new Set(e.flatMap((e=>e.chain_uids||[]))).size;i.push({key:"chains",label:"Chains",value:t.toString()})}if((this.enableWorker||this.infiniteScroll)&&this.workerProcessingTime>0){i.push({key:"performance",label:"Processing",value:`${this.workerProcessingTime.toFixed(1)}ms (worker)`})}return i}renderPagination(){if(this.infiniteScroll||this.totalPages<=1)return null;return i("div",{class:"pagination"},i("button",{class:"pagination-btn",onClick:()=>this.handlePageChange(this.currentPage-1),disabled:this.currentPage===1,type:"button"},"Previous"),i("div",{class:"pagination-pages"},Array.from({length:Math.min(this.totalPages,5)},((e,t)=>{const a=t+1;return i("button",{key:a,class:{"pagination-page":true,"pagination-page--active":a===this.currentPage},onClick:()=>this.handlePageChange(a),type:"button"},a)})),this.totalPages>5&&i("span",{class:"pagination-ellipsis"},"...")),i("button",{class:"pagination-btn",onClick:()=>this.handlePageChange(this.currentPage+1),disabled:this.currentPage===this.totalPages,type:"button"},"Next"))}renderInfiniteScrollLoader(){if(!this.infiniteScroll)return null;if(!this.showEndMessage&&!this.isLoadingMore)return null;return i("div",{class:"infinite-scroll-footer"},this.isLoadingMore&&i("div",{class:"infinite-scroll-loading"},i("div",{class:"loading-spinner"}),i("span",null,"Loading more ",this.dataType,"...")),!this.hasMoreData&&this.displayedItemsCount>0&&this.showEndMessage&&i("div",{class:"infinite-scroll-end"},i("span",null,"All ",this.dataType," loaded (",this.displayedItemsCount," of ",this.filteredData.length,")")))}render(){const e=(this.storeLoading||this.loading)&&this.storeData.length===0;const t=this.getPaginatedData();const a=this.itemComponent;return i("div",{key:"79a5ae894ec38410ab2748150e610440c203574f",class:"data-list"},this.effectiveCardTitle&&i("div",{key:"6551c6d64331ad45e5312a555f3bb13a137ba2b5",class:"data-header"},i("h3",{key:"66c89d3fb847eacd21702c9ec9edb05d05d36bca",class:"data-title"},this.effectiveCardTitle,(this.enableWorker||this.infiniteScroll)&&i("span",{key:"9506bc16270872aaa06e8c9693052c16e58d09de",class:"worker-badge"},"⚡ Worker",this.infiniteScroll&&!this.enableWorker?" (auto)":""))),(this.searchable||this.filterable||this.sortable)&&i("div",{key:"539527efc48998d799110ef65c7751c55c62e105",class:"data-controls"},this.renderSearch(),this.renderFilters(),this.renderSorting()),this.renderStats(),i("div",{key:"30bac7f779cf44fd97752fb572123950b77f7f09",class:{"data-content":true,"data-content--infinite":this.infiniteScroll&&!this.useParentScroll,"data-content--parent-scroll":this.infiniteScroll&&this.useParentScroll,"data-content--processing":this.isWorkerProcessing},ref:e=>this.contentElement=e},e||this.isWorkerProcessing?i("div",{class:"loading-state"},i("div",{class:"loading-spinner"}),i("span",null,"Loading ",this.dataType,"...",this.isWorkerProcessing&&" (worker processing)")):t.length===0?i("div",{class:"empty-state"},i("svg",{viewBox:"0 0 64 64",fill:"currentColor"},i("path",{d:"M31.968,0c-1.9626667,28.448-3.552,29.984-32,32c28.448,1.9626667,29.984,3.552,32,32c1.9626667-28.448,3.552-29.984,32-32C35.52,29.984,33.9306667,28.448,31.968,0z"})),i("span",null,"No ",this.dataType," found"),i("button",{class:"clear-filters-btn",onClick:this.clearFilters,type:"button"},"Clear Filters")):i("div",{class:{"data-grid":this.displayMode==="card"||this.displayMode==="grid","data-list-container":this.displayMode==="list-item","data-compact-container":this.displayMode==="compact","data-container--transitioning":this.isTransitioning}},t.map((e=>{const t=this.getStableKey(e);const s=this.getItemProps(e);const o={};if(this.selectable){o.onTokenClick=this.handleItemSelect;o.onChainSelect=this.handleItemSelect;o.onPoolSelect=this.handleItemSelect;o.onItemSelect=this.handleItemSelect}o.onTokenHover=this.handleItemHover;o.onChainHover=this.handleItemHover;o.onPoolHover=this.handleItemHover;o.onItemHover=this.handleItemHover;return i(a,{key:t,class:{"data-item":true,"data-item--updating":this.isTransitioning},...s,...o})}))),this.renderInfiniteScrollLoader()),this.renderPagination())}get el(){return s(this)}static get watchers(){return{dataType:["watchPropsChange"],showFields:["watchPropsChange"],infiniteScroll:["watchPropsChange"]}}};ie.style=te;const ae=':host{display:block;width:100%;height:100%;font-family:var(--euclid-font-sans)}.demo-playground{display:flex;flex-direction:column;height:100%;background:var(--euclid-surface);border:var(--euclid-border-1) solid var(--euclid-border);border-radius:var(--euclid-radius-xl);overflow:hidden;box-shadow:var(--euclid-shadow-lg)}.component-selector{margin-bottom:var(--euclid-space-6);padding:var(--euclid-space-4);background:var(--euclid-primary-50);border:var(--euclid-border-1) solid var(--euclid-primary-200);border-radius:var(--euclid-radius-lg)}.selector-label{display:flex;flex-direction:column;gap:var(--euclid-space-2)}.selector-title{font-weight:var(--euclid-font-semibold);color:var(--euclid-primary-700);font-size:var(--euclid-text-xs);text-transform:uppercase;letter-spacing:0.05em}.component-dropdown{padding:var(--euclid-space-3);border:var(--euclid-border-1) solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:var(--euclid-text-sm);font-family:var(--euclid-font-sans);cursor:pointer;transition:var(--euclid-transition-base)}.component-dropdown:focus{outline:none;border-color:var(--euclid-border-focus);box-shadow:var(--euclid-shadow-focus)}.component-dropdown:hover{border-color:var(--euclid-border-hover)}.playground-content{display:flex;flex:1;min-height:0;}@media (max-width: 1024px){.playground-content{flex-direction:column}}.demo-section{flex:1;padding:var(--euclid-space-8);background:var(--euclid-surface);overflow:auto;min-height:0}@media (max-width: 1024px){.controls-section{flex:0 0 auto;border-right:none;border-bottom:var(--euclid-border-1) solid var(--euclid-border)}}.controls-section{flex:0 0 400px;background:var(--euclid-surface-secondary);padding:var(--euclid-space-6);border-right:var(--euclid-border-1) solid var(--euclid-border);display:flex;flex-direction:column}.controls-panel{display:flex;flex-direction:column;flex:1;width:100%;min-height:0;}.controls-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--euclid-space-6)}.controls-actions{display:flex;gap:var(--euclid-space-2);align-items:center}.controls-header h3{margin:0;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.code-toggle{background:var(--euclid-interactive-primary);color:var(--euclid-text-inverse);border:none;padding:var(--euclid-space-3);border-radius:var(--euclid-radius-md);font-size:var(--euclid-text-sm);cursor:pointer;transition:var(--euclid-transition-base);display:flex;align-items:center;justify-content:center;min-width:var(--euclid-button-height-base);height:var(--euclid-button-height-base)}.code-toggle svg{width:16px;height:16px}.code-toggle:hover{background:var(--euclid-interactive-primary-hover)}.code-toggle.active{background:var(--euclid-interactive-success)}.reset-button{background:var(--euclid-surface);color:var(--euclid-text-secondary);border:var(--euclid-border-1) solid var(--euclid-border);padding:var(--euclid-space-3);border-radius:var(--euclid-radius-md);font-size:var(--euclid-text-sm);cursor:pointer;transition:var(--euclid-transition-base);display:flex;align-items:center;justify-content:center;min-width:var(--euclid-button-height-base);height:var(--euclid-button-height-base)}.reset-button svg{width:16px;height:16px}.reset-button:hover{border-color:var(--euclid-border-hover);color:var(--euclid-interactive-primary);background:var(--euclid-primary-50)}.code-display{background:var(--euclid-gray-900);color:var(--euclid-gray-100);padding:var(--euclid-space-4);border-radius:var(--euclid-radius-md);margin-bottom:var(--euclid-space-6);font-family:var(--euclid-font-mono);font-size:var(--euclid-text-sm);overflow-x:auto;border:var(--euclid-border-1) solid var(--euclid-gray-700)}.code-display pre{margin:0;white-space:pre-wrap;word-break:break-word}.code-display code{color:var(--euclid-gray-100)}.controls-grid{display:grid;grid-template-columns:1fr;align-content:start;gap:var(--euclid-space-4);flex:1;overflow-y:auto;min-height:0;}.control-item{background:var(--euclid-surface);padding:var(--euclid-space-4);border-radius:var(--euclid-radius-lg);border:var(--euclid-border-1) solid var(--euclid-border);transition:var(--euclid-transition-base);align-self:start;}.control-item:hover{border-color:var(--euclid-border-hover);box-shadow:var(--euclid-shadow-sm)}.control-label{display:flex;flex-direction:column;gap:var(--euclid-space-2);cursor:pointer}.control-name{font-weight:var(--euclid-font-medium);color:var(--euclid-text-primary);font-size:var(--euclid-text-sm);line-height:var(--euclid-leading-snug)}.control-description{font-size:var(--euclid-text-xs);color:var(--euclid-text-secondary);margin-top:var(--euclid-space-1);line-height:var(--euclid-leading-relaxed)}input[type="text"],input[type="number"],select{width:100%;padding:var(--euclid-input-padding-y) var(--euclid-input-padding-x);border:var(--euclid-input-border-width) solid var(--euclid-border);border-radius:var(--euclid-input-border-radius);font-size:var(--euclid-input-font-size);font-family:var(--euclid-font-sans);background:var(--euclid-surface);color:var(--euclid-text-primary);transition:var(--euclid-transition-base);line-height:var(--euclid-input-line-height)}input[type="text"]:focus,input[type="number"]:focus,select:focus{outline:none;border-color:var(--euclid-border-focus);box-shadow:var(--euclid-shadow-focus)}input[type="text"]:hover,input[type="number"]:hover,select:hover{border-color:var(--euclid-border-hover)}input[type="checkbox"]{width:18px;height:18px;border:var(--euclid-border-2) solid var(--euclid-border);border-radius:var(--euclid-radius-base);background:var(--euclid-surface);cursor:pointer;position:relative;appearance:none;transition:var(--euclid-transition-base);flex-shrink:0}input[type="checkbox"]:checked{background:var(--euclid-interactive-primary);border-color:var(--euclid-interactive-primary)}input[type="checkbox"]:checked::after{content:\'✓\';position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:var(--euclid-text-inverse);font-size:12px;font-weight:var(--euclid-font-bold)}input[type="checkbox"]:hover{border-color:var(--euclid-border-hover)}input[type="checkbox"]:focus{outline:none;border-color:var(--euclid-border-focus);box-shadow:var(--euclid-shadow-focus)}.control-item:has(input[type="checkbox"]) .control-label{flex-direction:row;align-items:center;gap:var(--euclid-space-3)}.control-item:has(input[type="checkbox"]) .control-text{flex:1;display:flex;flex-direction:column;gap:var(--euclid-space-1)}.control-item:has(input[type="checkbox"]) .control-name{line-height:var(--euclid-leading-snug)}.control-item:has(input[type="checkbox"]) .control-description{margin-top:0}@media (max-width: 768px){.playground-content{grid-template-columns:1fr}.demo-section,.control-item{padding:var(--euclid-space-4)}.controls-section{padding:var(--euclid-space-4)}}.controls-grid::-webkit-scrollbar{width:6px}.controls-grid::-webkit-scrollbar-track{background:#f1f1f1}.controls-grid::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.controls-grid::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.github-link{padding-top:var(--euclid-space-6);border-top:var(--euclid-border-1) solid var(--euclid-border);flex-shrink:0;}.github-link-anchor{display:flex;align-items:center;gap:var(--euclid-space-2);padding:var(--euclid-space-3);background:var(--euclid-primary-50);border:var(--euclid-border-1) solid var(--euclid-primary-200);border-radius:var(--euclid-radius-lg);text-decoration:none;color:var(--euclid-text-primary);font-size:var(--euclid-text-sm);transition:var(--euclid-transition-base)}.github-link-anchor:hover{background:var(--euclid-primary-100);border-color:var(--euclid-primary-300);transform:translateY(-1px);box-shadow:var(--euclid-shadow-md)}.github-icon{width:18px;height:18px;color:var(--euclid-primary-600);flex-shrink:0}.github-text{font-family:var(--euclid-font-mono);font-weight:var(--euclid-font-medium);color:var(--euclid-text-secondary)}.core-provider-demo{padding:var(--euclid-spacing-lg);display:flex;flex-direction:column;gap:var(--euclid-spacing-lg)}.provider-info{background:var(--euclid-surface-secondary);padding:var(--euclid-spacing-lg);border-radius:var(--euclid-radius-md);border:1px solid var(--euclid-border-default)}.provider-info h3{color:var(--euclid-text-primary);margin:0 0 var(--euclid-spacing-md) 0;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-semibold)}.provider-info p{color:var(--euclid-text-secondary);margin:0 0 var(--euclid-spacing-lg) 0;line-height:var(--euclid-line-height-relaxed)}.config-summary{background:var(--euclid-surface-primary);padding:var(--euclid-spacing-md);border-radius:var(--euclid-radius-sm);border:1px solid var(--euclid-border-subtle)}.config-summary h4{color:var(--euclid-text-primary);margin:0 0 var(--euclid-spacing-md) 0;font-size:var(--euclid-text-base);font-weight:var(--euclid-font-medium)}.config-details{display:flex;flex-direction:column;gap:var(--euclid-spacing-xs)}.config-details>div{font-family:var(--euclid-font-mono);font-size:var(--euclid-text-sm);color:var(--euclid-text-secondary)}.config-details strong{color:var(--euclid-text-primary);font-weight:var(--euclid-font-medium)}.provider-children{background:var(--euclid-surface-secondary);padding:var(--euclid-spacing-lg);border-radius:var(--euclid-radius-md);border:1px solid var(--euclid-border-default)}.provider-children h4{color:var(--euclid-text-primary);margin:0 0 var(--euclid-spacing-sm) 0;font-size:var(--euclid-text-base);font-weight:var(--euclid-font-medium)}.provider-children p{color:var(--euclid-text-secondary);margin:0 0 var(--euclid-spacing-md) 0;font-size:var(--euclid-text-sm)}.demo-components{border:1px solid var(--euclid-border-subtle);border-radius:var(--euclid-radius-sm);overflow:hidden}';const se=class{constructor(t){e(this,t);this.selectedDemo="api-tester";this.environment="testnet";this.activeTab="api-tester";this.currentProps={};this.showCode=false;this.componentDemos=[{id:"api-tester",name:"🧪 API Tester",description:"Test and explore all Euclid Protocol API endpoints with live data",category:"Developer Tools",tagName:"euclid-api-tester",defaultProps:{selectedCategory:"all",showImplementedOnly:false},propDefinitions:[{name:"selectedCategory",type:"select",defaultValue:"all",description:"Filter endpoints by category",options:[{value:"all",label:"All Categories"},{value:"Chain",label:"Chain"},{value:"Token",label:"Token"},{value:"Pool",label:"Pool"},{value:"Factory",label:"Factory"},{value:"Router",label:"Router"},{value:"VLP",label:"VLP"},{value:"Virtual Balance",label:"Virtual Balance"},{value:"CosmWasm",label:"CosmWasm"},{value:"Routes",label:"Routes"},{value:"Transactions",label:"Transactions"}]},{name:"showImplementedOnly",type:"boolean",defaultValue:false,description:"Show only implemented endpoints"}]},{id:"data-list-tokens",name:"📋 Data List",description:"Interactive data list with search, filtering, and infinite scroll - supports tokens, pools, and chains",category:"Display",tagName:"euclid-data-list",defaultProps:{dataType:"tokens",displayMode:"list-item",cardTitle:"Available Tokens",itemsPerPage:10,infiniteScroll:true,searchable:true,sortable:true,showStats:true,enableWorker:true,filterable:true,selectable:true,loading:false,maxItems:1e3,infiniteScrollTriggerItems:3,infiniteScrollThreshold:.1,useParentScroll:false,showFields:"",walletAddress:""},propDefinitions:[{name:"dataType",type:"select",defaultValue:"tokens",description:"Type of data to display",options:[{value:"tokens",label:"Tokens"},{value:"pools",label:"Pools"},{value:"chains",label:"Chains"}]},{name:"displayMode",type:"select",defaultValue:"list-item",description:"How to display the items",options:[{value:"card",label:"Card View"},{value:"list-item",label:"List Item"},{value:"compact",label:"Compact"}]},{name:"cardTitle",type:"string",defaultValue:"Available Tokens",description:"Title displayed at the top of the component"},{name:"itemsPerPage",type:"number",defaultValue:10,description:"Number of items per page",min:1,max:100},{name:"infiniteScroll",type:"boolean",defaultValue:true,description:"Enable infinite scrolling instead of pagination"},{name:"searchable",type:"boolean",defaultValue:true,description:"Show search input"},{name:"sortable",type:"boolean",defaultValue:true,description:"Enable sorting controls"},{name:"filterable",type:"boolean",defaultValue:true,description:"Enable filtering options"},{name:"showStats",type:"boolean",defaultValue:true,description:"Show statistics and counts"},{name:"enableWorker",type:"boolean",defaultValue:true,description:"Use web worker for data processing"},{name:"selectable",type:"boolean",defaultValue:true,description:"Allow item selection"},{name:"loading",type:"boolean",defaultValue:false,description:"Show loading state"},{name:"useParentScroll",type:"boolean",defaultValue:false,description:"Use parent element for scroll detection"},{name:"maxItems",type:"number",defaultValue:1e3,description:"Maximum number of items to display",min:1,max:1e4},{name:"infiniteScrollTriggerItems",type:"number",defaultValue:3,description:"Items from bottom to trigger load more",min:1,max:20}]},{id:"swap-card",name:"🔄 Token Swap",description:"Token swap interface with advanced options",category:"Trading",tagName:"euclid-swap-card",defaultProps:{cardTitle:"Swap Tokens",showAdvanced:true,loading:false,disabled:false,walletAddress:"",defaultSlippage:.5},propDefinitions:[{name:"cardTitle",type:"string",defaultValue:"Swap Tokens",description:"Title of the swap card"},{name:"showAdvanced",type:"boolean",defaultValue:true,description:"Show advanced trading options"},{name:"loading",type:"boolean",defaultValue:false,description:"Show loading state"},{name:"disabled",type:"boolean",defaultValue:false,description:"Disable the swap interface"},{name:"walletAddress",type:"string",defaultValue:"",description:"Connected wallet address"},{name:"defaultSlippage",type:"number",defaultValue:.5,description:"Default slippage tolerance",min:.1,max:10}]},{id:"liquidity-card",name:"💧 Liquidity Pool",description:"Add/remove liquidity interface",category:"Trading",tagName:"euclid-liquidity-card",defaultProps:{cardTitle:"Manage Liquidity",mode:"add",loading:false,disabled:false,walletAddress:"",defaultSlippage:.5},propDefinitions:[{name:"cardTitle",type:"string",defaultValue:"Manage Liquidity",description:"Title of the liquidity card"},{name:"mode",type:"select",defaultValue:"add",description:"Liquidity operation mode",options:[{value:"add",label:"Add Liquidity"},{value:"remove",label:"Remove Liquidity"}]},{name:"loading",type:"boolean",defaultValue:false,description:"Show loading state"},{name:"disabled",type:"boolean",defaultValue:false,description:"Disable the liquidity interface"},{name:"walletAddress",type:"string",defaultValue:"",description:"Connected wallet address"},{name:"defaultSlippage",type:"number",defaultValue:.5,description:"Default slippage tolerance",min:.1,max:10}]},{id:"portfolio",name:"🌐 Portfolio",description:"Multi-chain portfolio tracking with connected and custom wallets",category:"Portfolio",tagName:"euclid-portfolio",defaultProps:{cardTitle:"Portfolio",walletAddress:"",customChainUID:"osmosis-1",includeCustomWallets:true,autoRefresh:true,refreshIntervalMs:6e4,showAnalytics:true},propDefinitions:[{name:"cardTitle",type:"string",defaultValue:"Portfolio",description:"Title of the portfolio card"},{name:"walletAddress",type:"string",defaultValue:"",description:"Custom wallet addresses (comma-separated for multiple)"},{name:"customChainUID",type:"select",defaultValue:"osmosis-1",description:"Chain for custom wallet addresses",options:[{value:"osmosis-1",label:"Osmosis"},{value:"cosmoshub-4",label:"Cosmos Hub"},{value:"ethereum",label:"Ethereum"},{value:"polygon",label:"Polygon"}]},{name:"includeCustomWallets",type:"boolean",defaultValue:true,description:"Include custom wallet addresses"},{name:"autoRefresh",type:"boolean",defaultValue:true,description:"Automatically refresh portfolio data"},{name:"refreshIntervalMs",type:"number",defaultValue:6e4,description:"Auto-refresh interval in milliseconds"},{name:"showAnalytics",type:"boolean",defaultValue:true,description:"Show analytics tab"}]},{id:"address-book",name:"📇 Address Book",description:"Manage and organize saved wallet addresses across multiple chains",category:"Wallet",tagName:"euclid-address-book",defaultProps:{},propDefinitions:[]}]}onSelectedDemoChange(e){this.activeTab=e;this.saveActiveTabToStorage();this.initializeProps()}componentWillLoad(){this.activeTab=this.loadActiveTabFromStorage();this.initializeProps()}getStorageKey(e){return`euclid-demo-props-${e}`}getActiveTabStorageKey(){return"euclid-demo-active-tab"}saveActiveTabToStorage(){try{localStorage.setItem(this.getActiveTabStorageKey(),this.activeTab)}catch(e){k.warn("Component","Failed to save active tab to localStorage:",e)}}loadActiveTabFromStorage(){try{const e=localStorage.getItem(this.getActiveTabStorageKey());if(e&&this.componentDemos.find((t=>t.id===e))){return e}}catch(e){k.warn("Component","Failed to load active tab from localStorage:",e)}return this.selectedDemo||this.componentDemos[0]?.id||"api-tester"}savePropsToStorage(){try{const e=this.getStorageKey(this.activeTab);localStorage.setItem(e,c(this.currentProps))}catch(e){k.warn("Component","Failed to save props to localStorage:",e)}}loadPropsFromStorage(e){try{const t=this.getStorageKey(e.id);const i=localStorage.getItem(t);if(i){const t=JSON.parse(i);return{...e.defaultProps,...t}}}catch(e){k.warn("Component","Failed to load props from localStorage:",e)}return{...e.defaultProps}}initializeProps(){const e=this.componentDemos.find((e=>e.id===this.activeTab));if(e){this.currentProps=this.loadPropsFromStorage(e)}}getCurrentDemo(){return this.componentDemos.find((e=>e.id===this.activeTab))}updateProp(e,t){this.currentProps={...this.currentProps,[e]:t};this.savePropsToStorage()}resetToDefaults(){const e=this.getCurrentDemo();if(e){this.currentProps={...e.defaultProps};this.savePropsToStorage()}}generateComponentCode(){const e=this.getCurrentDemo();if(!e)return"";const t=Object.entries(this.currentProps).filter((([e,t])=>t!==""&&t!==null&&t!==undefined)).map((([e,t])=>{if(typeof t==="boolean"){return t?e:`${e}="false"`}return`${e}="${t}"`})).join("\n    ");return`<${e.tagName}\n    ${t}>\n</${e.tagName}>`}renderControlsPanel(){const e=this.getCurrentDemo();if(!e)return null;return i("div",{class:"controls-panel"},i("div",{class:"component-selector"},i("label",{class:"selector-label"},i("span",{class:"selector-title"},"Component"),i("select",{class:"component-dropdown",onChange:e=>{this.activeTab=e.target.value;this.saveActiveTabToStorage();this.initializeProps()}},this.componentDemos.map((e=>i("option",{value:e.id,selected:this.activeTab===e.id},e.name)))))),i("div",{class:"controls-header"},i("h3",null,"Component Properties"),i("div",{class:"controls-actions"},i("button",{class:"reset-button",onClick:()=>this.resetToDefaults(),title:"Reset to default values"},i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}))),i("button",{class:`code-toggle ${this.showCode?"active":""}`,onClick:()=>this.showCode=!this.showCode,title:this.showCode?"Hide Code":"Show Code"},i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0L19.2 12l-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))))),this.showCode&&i("div",{class:"code-display"},i("pre",null,i("code",null,this.generateComponentCode()))),i("div",{class:"controls-grid"},e.propDefinitions.map((e=>this.renderControl(e)))),i("div",{class:"github-link"},i("a",{href:"https://github.com/monkeyscanjump/euclid",target:"_blank",rel:"noopener noreferrer",class:"github-link-anchor"},i("svg",{class:"github-icon",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"})),i("span",{class:"github-text"},"/ monkeyscanjump/euclid"))))}renderControl(e){const t=this.currentProps[e.name];switch(e.type){case"boolean":return i("div",{class:"control-item"},i("label",{class:"control-label"},i("input",{type:"checkbox",checked:Boolean(t),onChange:t=>this.updateProp(e.name,t.target.checked)}),i("div",{class:"control-text"},i("span",{class:"control-name"},e.name),e.description&&i("div",{class:"control-description"},e.description))));case"number":return i("div",{class:"control-item"},i("label",{class:"control-label"},i("span",{class:"control-name"},e.name),i("input",{type:"number",min:e.min,max:e.max,value:String(t),onChange:t=>this.updateProp(e.name,parseInt(t.target.value))})),e.description&&i("div",{class:"control-description"},e.description));case"string":return i("div",{class:"control-item"},i("label",{class:"control-label"},i("span",{class:"control-name"},e.name),i("input",{type:"text",value:String(t),onChange:t=>this.updateProp(e.name,t.target.value)})),e.description&&i("div",{class:"control-description"},e.description));case"select":return i("div",{class:"control-item"},i("label",{class:"control-label"},i("span",{class:"control-name"},e.name),i("select",{onChange:t=>this.updateProp(e.name,t.target.value)},e.options?.map((e=>i("option",{value:String(e.value),selected:t===e.value},e.label))))),e.description&&i("div",{class:"control-description"},e.description));default:return null}}renderDemo(){const e=this.getCurrentDemo();if(!e)return null;const t=this.currentProps;let a;switch(e.tagName){case"euclid-data-list":a=i("euclid-data-list",{key:`${e.id}-${c(t)}`,dataType:t.dataType||"tokens",displayMode:t.displayMode||"list-item",cardTitle:String(t.cardTitle||"Available Tokens"),itemsPerPage:Number(t.itemsPerPage||10),infiniteScroll:Boolean(t.infiniteScroll),searchable:Boolean(t.searchable),sortable:Boolean(t.sortable),filterable:Boolean(t.filterable),showStats:Boolean(t.showStats),enableWorker:Boolean(t.enableWorker),selectable:Boolean(t.selectable),loading:Boolean(t.loading),useParentScroll:Boolean(t.useParentScroll),maxItems:Number(t.maxItems||1e3),infiniteScrollTriggerItems:Number(t.infiniteScrollTriggerItems||3),showFields:String(t.showFields||""),walletAddress:String(t.walletAddress||"")});break;case"euclid-swap-card":a=i("euclid-swap-card",{key:`${e.id}-${c(t)}`,cardTitle:String(t.cardTitle||"Swap Tokens"),showAdvanced:Boolean(t.showAdvanced),loading:Boolean(t.loading),disabled:Boolean(t.disabled),walletAddress:String(t.walletAddress||"")});break;case"euclid-liquidity-card":a=i("euclid-liquidity-card",{key:`${e.id}-${JSON.stringify(t)}`,cardTitle:String(t.cardTitle||"Manage Liquidity"),mode:t.mode||"add",loading:Boolean(t.loading),disabled:Boolean(t.disabled),walletAddress:String(t.walletAddress||"")});break;case"euclid-portfolio":a=i("euclid-portfolio",{key:`${e.id}-${JSON.stringify(t)}`,cardTitle:String(t.cardTitle||"Portfolio"),walletAddress:String(t.walletAddress||""),customChainUID:String(t.customChainUID||"osmosis-1"),includeCustomWallets:Boolean(t.includeCustomWallets??true),autoRefresh:Boolean(t.autoRefresh??true),refreshIntervalMs:Number(t.refreshIntervalMs)||6e4});break;case"euclid-address-book":a=i("euclid-address-book",null);break;case"euclid-api-tester":a=i("euclid-api-tester",{key:`${e.id}-${JSON.stringify(t)}`});break;default:a=i("div",null,"Component not found")}return a}render(){return i("div",{key:"ab0386c466e1470d0b50adc9532dc67a3e616864",class:"demo-playground"},i("div",{key:"5ed91faaf08d79c6dcdab5841b55534641d23ef4",class:"playground-content"},i("div",{key:"603b1a193e8ea07badc7e3c4d7c2959985c9f9e5",class:"controls-section"},this.renderControlsPanel()),i("div",{key:"ca37299df53cec6c009675ebdcee4fb14652f504",class:"demo-section"},i("euclid-config-provider",{key:"28962d8894b41cee41004478fad9a704b8db92b2",environment:this.environment},this.renderDemo()))))}get el(){return s(this)}static get watchers(){return{selectedDemo:["onSelectedDemoChange"]}}};se.style=ae;const oe=":host{display:contents}.liquidity-card{background:var(--euclid-surface);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-2xl);padding:var(--euclid-spacing-6);max-width:480px;width:100%;box-shadow:var(--euclid-shadow-xl);display:flex;flex-direction:column;gap:var(--euclid-spacing-6)}.liquidity-header{display:flex;justify-content:space-between;align-items:center}.liquidity-title{font-size:var(--euclid-text-size-xl);font-weight:var(--euclid-font-weight-semibold);color:var(--euclid-text-primary);margin:0}.mode-toggle{display:flex;background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-lg);padding:var(--euclid-spacing-1)}.mode-button{padding:var(--euclid-spacing-2) var(--euclid-spacing-4);border:none;background:transparent;color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);cursor:pointer;border-radius:var(--euclid-radius-md);transition:all var(--euclid-transition-duration-fast)}.mode-button--active{background:var(--euclid-surface);color:var(--euclid-text-primary);box-shadow:var(--euclid-shadow-sm)}.mode-button:hover:not(.mode-button--active){color:var(--euclid-text-primary)}.pool-section{display:flex;flex-direction:column;gap:var(--euclid-spacing-4)}.section-header{display:flex;justify-content:space-between;align-items:center}.section-label{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-secondary)}.pool-selector{cursor:pointer}.pool-selector:hover{opacity:0.8}.selected-pool{display:flex;align-items:center;gap:var(--euclid-spacing-4);padding:var(--euclid-spacing-4);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-xl);background:var(--euclid-surface);transition:all var(--euclid-transition-duration-fast)}.select-pool-button{display:flex;align-items:center;justify-content:center;gap:var(--euclid-spacing-2);padding:var(--euclid-spacing-4) var(--euclid-spacing-6);border:2px dashed var(--euclid-border);border-radius:var(--euclid-radius-xl);background:var(--euclid-surface-secondary);color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-base);font-weight:var(--euclid-font-weight-medium);cursor:pointer;transition:all var(--euclid-transition-duration-fast)}.select-pool-button:hover{border-color:var(--euclid-border-hover)}.pool-tokens{display:flex;align-items:center}.token-pair{display:flex;align-items:center}.token-logo{width:2rem;height:2rem;border-radius:50%;background:var(--euclid-surface-secondary);border:2px solid var(--euclid-surface)}.token-logo--overlap{margin-left:-0.5rem}.pool-info{display:flex;flex-direction:column;gap:var(--euclid-spacing-1)}.pool-name{font-size:var(--euclid-text-size-base);font-weight:var(--euclid-font-weight-semibold);color:var(--euclid-text-primary)}.pool-fee{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.pool-stats{display:flex;gap:var(--euclid-spacing-6)}.stat{display:flex;flex-direction:column;gap:var(--euclid-spacing-1)}.stat-label{font-size:var(--euclid-text-size-xs);color:var(--euclid-text-muted)}.stat-value{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-primary)}.position-info{padding:var(--euclid-spacing-4);background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-xl)}.position-header{margin-bottom:var(--euclid-spacing-3)}.position-label{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-secondary)}.position-details{display:flex;flex-direction:column;gap:var(--euclid-spacing-3)}.position-row{display:flex;justify-content:space-between;align-items:center}.position-item-label{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.position-item-value{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-primary)}.liquidity-inputs{display:flex;flex-direction:column;gap:var(--euclid-spacing-4)}.token-input-section{position:relative}.input-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--euclid-spacing-2)}.input-label{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.balance-label{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-muted);cursor:pointer;transition:color var(--euclid-transition-duration-fast)}.balance-label:hover{color:var(--euclid-text-secondary)}.plus-icon{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);z-index:10;width:2rem;height:2rem;background:var(--euclid-surface);border:2px solid var(--euclid-border);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--euclid-text-secondary)}.plus-icon svg{width:1rem;height:1rem}.token-selector{cursor:pointer}.token-selector:hover{opacity:0.8}.selected-token{display:flex;align-items:center;gap:var(--euclid-spacing-3);padding:var(--euclid-spacing-4);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-xl);background:var(--euclid-surface)}.select-token-button{display:flex;align-items:center;justify-content:center;gap:var(--euclid-spacing-2);padding:var(--euclid-spacing-4) var(--euclid-spacing-6);border:2px dashed var(--euclid-border);border-radius:var(--euclid-radius-xl);background:var(--euclid-surface-secondary);color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-base);font-weight:var(--euclid-font-weight-medium);cursor:pointer;transition:all var(--euclid-transition-duration-fast)}.select-token-button:hover{border-color:var(--euclid-border-hover)}.token-info{display:flex;flex-direction:column;gap:var(--euclid-spacing-1);flex:1}.token-symbol{font-size:var(--euclid-text-size-base);font-weight:var(--euclid-font-weight-semibold);color:var(--euclid-text-primary)}.token-name{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.dropdown-arrow{color:var(--euclid-text-muted);transition:transform var(--euclid-transition-duration-fast)}.dropdown-arrow--open{transform:rotate(180deg)}.remove-liquidity{display:flex;flex-direction:column;gap:var(--euclid-spacing-4)}.percentage-section{display:flex;flex-direction:column;gap:var(--euclid-spacing-3)}.percentage-label{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-secondary)}.percentage-buttons{display:flex;gap:var(--euclid-spacing-2)}.percentage-btn{flex:1;padding:var(--euclid-spacing-3);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);background:var(--euclid-surface);color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);cursor:pointer;transition:all var(--euclid-transition-duration-fast)}.percentage-btn:hover{border-color:var(--euclid-border-hover);color:var(--euclid-text-primary)}.percentage-btn--active{border-color:var(--euclid-interactive-primary);background:var(--euclid-primary-50);color:var(--euclid-primary-700)}.lp-token-display{display:flex;align-items:center;gap:var(--euclid-spacing-3);padding:var(--euclid-spacing-4);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-xl);background:var(--euclid-surface-secondary)}.lp-token-info{display:flex;flex-direction:column;gap:var(--euclid-spacing-1);flex:1}.lp-symbol{font-size:var(--euclid-text-size-base);font-weight:var(--euclid-font-weight-semibold);color:var(--euclid-text-primary)}.quote-info{padding:var(--euclid-spacing-4);background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-xl)}.quote-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--euclid-spacing-2)}.quote-row:last-child{margin-bottom:0}.quote-label{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.quote-value{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-primary)}.quote-value--warning{color:var(--euclid-warning-600)}.quote-value--danger{color:var(--euclid-danger-600)}.advanced-section{border-top:1px solid var(--euclid-border);padding-top:var(--euclid-spacing-4)}.advanced-toggle{display:flex;align-items:center;gap:var(--euclid-spacing-2);padding:var(--euclid-spacing-2) 0;background:transparent;border:none;color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-sm);cursor:pointer;transition:color var(--euclid-transition-duration-fast)}.advanced-toggle:hover{color:var(--euclid-text-primary)}.advanced-panel{margin-top:var(--euclid-spacing-4);padding:var(--euclid-spacing-4);background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-lg)}.setting-item{display:flex;flex-direction:column;gap:var(--euclid-spacing-2)}.setting-label{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-secondary)}.slippage-controls{display:flex;gap:var(--euclid-spacing-2);align-items:center}.slippage-btn{padding:var(--euclid-spacing-2) var(--euclid-spacing-3);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-sm);cursor:pointer;transition:all var(--euclid-transition-duration-fast)}.slippage-btn:hover{border-color:var(--euclid-border-hover);color:var(--euclid-text-primary)}.slippage-btn--active{border-color:var(--euclid-interactive-primary);background:var(--euclid-primary-50);color:var(--euclid-primary-700)}.slippage-input{padding:var(--euclid-spacing-2) var(--euclid-spacing-3);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:var(--euclid-text-size-sm);width:80px;text-align:center}.slippage-input:focus{outline:none;border-color:var(--euclid-border-focus);box-shadow:0 0 0 3px rgba(37, 99, 235, 0.1)}@media (max-width: 480px){.liquidity-card{padding:var(--euclid-spacing-4);gap:var(--euclid-spacing-4)}.liquidity-header{flex-direction:column;gap:var(--euclid-spacing-3);align-items:flex-start}.mode-toggle{width:100%}.mode-button{flex:1;text-align:center}.pool-stats{flex-direction:column;gap:var(--euclid-spacing-3)}.percentage-buttons{flex-wrap:wrap}.percentage-btn{min-width:calc(50% - var(--euclid-spacing-1))}.slippage-controls{flex-wrap:wrap;gap:var(--euclid-spacing-2)}.selected-pool,.selected-token,.lp-token-display{flex-direction:column;align-items:flex-start;gap:var(--euclid-spacing-2)}.pool-tokens{order:-1}.token-pair{gap:var(--euclid-spacing-2)}.token-logo--overlap{margin-left:0}.pool-info,.token-info,.lp-token-info{width:100%}}@media (prefers-reduced-motion: reduce){.mode-button,.pool-selector,.token-selector,.percentage-btn,.slippage-btn{transition:none}}.token-selector:focus-within,.pool-selector:focus-within{outline:2px solid var(--euclid-border-focus);outline-offset:2px}.mode-button:focus{outline:2px solid var(--euclid-border-focus);outline-offset:2px}.percentage-btn:focus,.slippage-btn:focus{outline:2px solid var(--euclid-border-focus);outline-offset:2px}.quote-info.loading{position:relative;pointer-events:none}.quote-info.loading::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:1.5rem;height:1.5rem;border:2px solid var(--euclid-border);border-top:2px solid var(--euclid-interactive-primary);border-radius:50%;animation:euclid-spin 1s linear infinite}@media (prefers-contrast: high){.liquidity-card,.selected-pool,.selected-token,.lp-token-display,.position-info,.quote-info,.advanced-panel{border-width:2px;border-color:var(--euclid-text-primary)}.mode-button--active,.percentage-btn--active,.slippage-btn--active{border-color:var(--euclid-text-primary);background:var(--euclid-text-primary);color:var(--euclid-surface)}}";const re=class{constructor(i){e(this,i);this.liquidityAdded=t(this,"liquidityAdded");this.liquidityRemoved=t(this,"liquidityRemoved");this.poolSelected=t(this,"poolSelected");this.quoteRequested=t(this,"quoteRequested");this.tokens=[];this.pools=[];this.positions=[];this.storePools=[];this.storeTokens=[];this.storeLoading=false;this.selectedStorePool=null;this.selectedPool=null;this.mode="add";this.tokenAAmount="";this.tokenBAmount="";this.lpTokenAmount="";this.loading=false;this.disabled=false;this.walletAddress="";this.cardTitle="Manage Liquidity";this.isPoolSelectorOpen=false;this.currentQuote=null;this.removeQuote=null;this.isQuoting=false;this.slippage=.5;this.isAdvancedOpen=false;this.lpPercentage=0;this.quoteTimer=null;this.handleModeChange=e=>{this.mode=e;this.resetAmounts();this.currentQuote=null;this.removeQuote=null};this.resetAmounts=()=>{this.tokenAAmount="";this.tokenBAmount="";this.lpTokenAmount="";this.lpPercentage=0};this.openPoolSelector=()=>{this.isPoolSelectorOpen=true};this.selectStorePool=e=>{this.selectedStorePool=e;this.isPoolSelectorOpen=false;this.resetAmounts();this.poolSelected.emit(e);k.info("LiquidityCard","Pool selected",{poolId:e.pool_id,token1:e.token_1,token2:e.token_2,totalLiquidity:e.total_liquidity,apr:e.apr})};this.handleMaxClick=e=>{if(e==="tokenA"&&this.selectedPool?.tokenA.balance){this.tokenAAmount=this.selectedPool.tokenA.balance;this.calculateTokenBFromA()}else if(e==="tokenB"&&this.selectedPool?.tokenB.balance){this.tokenBAmount=this.selectedPool.tokenB.balance;this.calculateTokenAFromB()}else if(e==="lp"){const e=this.getUserPosition();if(e){this.lpTokenAmount=e.lpTokenBalance;this.startQuoteTimer()}}};this.handlePercentageClick=e=>{this.lpPercentage=e;const t=this.getUserPosition();if(t){const i=(parseFloat(t.lpTokenBalance)*e/100).toFixed(6);this.lpTokenAmount=i;this.startQuoteTimer()}};this.handleLiquidity=()=>{if(!this.isWalletConnectedForLiquidity()){const e=this.getFirstDisconnectedChain();n.openWalletModal(e);return}if(!this.selectedPool)return;const e={pool_id:this.selectedPool.address,id:this.selectedPool.address,token_1:this.selectedPool.tokenA.address,token_2:this.selectedPool.tokenB.address,token1:this.selectedPool.tokenA.address,token2:this.selectedPool.tokenB.address,total_liquidity:this.selectedPool.totalSupply};h.setSelectedPool(e);if(this.mode==="add"&&this.currentQuote){h.setToken1Amount(this.tokenAAmount);h.setToken2Amount(this.tokenBAmount);z(I.LIQUIDITY.ADD_REQUEST);this.liquidityAdded.emit({pool:this.selectedPool,tokenAAmount:this.tokenAAmount,tokenBAmount:this.tokenBAmount,expectedLpTokens:this.currentQuote.lpTokensReceived,slippage:this.slippage})}else if(this.mode==="remove"&&this.removeQuote){z(I.LIQUIDITY.REMOVE_REQUEST,{poolId:this.selectedPool.address,lpTokenAmount:this.lpTokenAmount});this.liquidityRemoved.emit({pool:this.selectedPool,lpTokenAmount:this.lpTokenAmount,expectedTokenA:this.removeQuote.tokenAReceived,expectedTokenB:this.removeQuote.tokenBReceived,slippage:this.slippage})}}}async componentWillLoad(){this.syncWithStore();w.onChange("pools",(()=>{this.syncWithStore()}));w.onChange("tokens",(()=>{this.syncWithStore()}))}componentDidLoad(){this.startQuoteTimer()}disconnectedCallback(){if(this.quoteTimer){clearTimeout(this.quoteTimer)}}syncWithStore(){this.storePools=f(w.state.pools)?w.state.pools:[];this.storeTokens=f(w.state.tokens)?w.state.tokens:[];this.storeLoading=w.state.loading;k.debug("LiquidityCard","Liquidity card store sync",{storePools:this.storePools.length,storeTokens:this.storeTokens.length,storeLoading:this.storeLoading})}handleInputChange(e){const t=e.target.id;if(t==="token-a-input"){this.tokenAAmount=e.detail.value;this.calculateTokenBFromA()}else if(t==="token-b-input"){this.tokenBAmount=e.detail.value;this.calculateTokenAFromB()}else if(t==="lp-token-input"){this.lpTokenAmount=e.detail.value;this.startQuoteTimer()}}handleModalClose(){this.isPoolSelectorOpen=false}calculateTokenBFromA(){if(!this.selectedPool||!this.tokenAAmount||parseFloat(this.tokenAAmount)<=0){this.tokenBAmount="";return}const e=this.selectedPool;const t=parseFloat(e.reserveA);const i=parseFloat(e.reserveB);const a=parseFloat(this.tokenAAmount);const s=a*i/t;this.tokenBAmount=s.toFixed(6);this.startQuoteTimer()}calculateTokenAFromB(){if(!this.selectedPool||!this.tokenBAmount||parseFloat(this.tokenBAmount)<=0){this.tokenAAmount="";return}const e=this.selectedPool;const t=parseFloat(e.reserveA);const i=parseFloat(e.reserveB);const a=parseFloat(this.tokenBAmount);const s=a*t/i;this.tokenAAmount=s.toFixed(6);this.startQuoteTimer()}startQuoteTimer(){if(this.quoteTimer){clearTimeout(this.quoteTimer)}if(this.shouldRequestQuote()){this.quoteTimer=setTimeout((()=>{this.requestQuote()}),800)}else{this.currentQuote=null;this.removeQuote=null}}shouldRequestQuote(){if(!this.selectedPool)return false;if(this.mode==="add"){return!!(this.tokenAAmount&&this.tokenBAmount&&parseFloat(this.tokenAAmount)>0&&parseFloat(this.tokenBAmount)>0)}else{return!!(this.lpTokenAmount&&parseFloat(this.lpTokenAmount)>0)}}async requestQuote(){if(!this.selectedPool)return;this.isQuoting=true;const e={pool_id:this.selectedPool.address,id:this.selectedPool.address,token_1:this.selectedPool.tokenA.address,token_2:this.selectedPool.tokenB.address,token1:this.selectedPool.tokenA.address,token2:this.selectedPool.tokenB.address,total_liquidity:this.selectedPool.totalSupply};this.quoteRequested.emit({pool:e,tokenAAmount:this.mode==="add"?this.tokenAAmount:undefined,tokenBAmount:this.mode==="add"?this.tokenBAmount:undefined,lpTokenAmount:this.mode==="remove"?this.lpTokenAmount:undefined,mode:this.mode});setTimeout((()=>{if(this.selectedPool){if(this.mode==="add"&&this.tokenAAmount&&this.tokenBAmount){const e=this.selectedPool;const t=parseFloat(e.totalSupply);const i=parseFloat(e.reserveA);const a=parseFloat(this.tokenAAmount);const s=t>0?a/i*t:Math.sqrt(parseFloat(this.tokenAAmount)*parseFloat(this.tokenBAmount));this.currentQuote={tokenAAmount:this.tokenAAmount,tokenBAmount:this.tokenBAmount,lpTokensReceived:s.toFixed(6),shareOfPool:s/(t+s)*100,priceImpact:Math.random()*.5,minimumLpReceived:(s*(1-this.slippage/100)).toFixed(6)}}else if(this.mode==="remove"&&this.lpTokenAmount){const e=this.selectedPool;const t=parseFloat(e.totalSupply);const i=parseFloat(this.lpTokenAmount);const a=i/t*100;const s=i/t*parseFloat(e.reserveA);const o=i/t*parseFloat(e.reserveB);this.removeQuote={lpTokenAmount:this.lpTokenAmount,tokenAReceived:s.toFixed(6),tokenBReceived:o.toFixed(6),shareRemoved:a,minimumTokenAReceived:(s*(1-this.slippage/100)).toFixed(6),minimumTokenBReceived:(o*(1-this.slippage/100)).toFixed(6)}}}this.isQuoting=false}),1e3)}getUserPosition(){if(!this.selectedPool)return null;return this.positions.find((e=>e.poolAddress===this.selectedPool.address))||null}getFirstDisconnectedChain(){if(!this.selectedPool)return"ethereum";const e=o.isWalletConnected(this.selectedPool.tokenA.chainUID);if(!e)return this.selectedPool.tokenA.chainUID;return this.selectedPool.tokenB.chainUID}canExecute(){if(!this.selectedPool||!this.walletAddress||this.loading||this.disabled||this.isQuoting){return false}if(this.mode==="add"){return!!(this.currentQuote&&this.tokenAAmount&&this.tokenBAmount)}else{return!!(this.removeQuote&&this.lpTokenAmount)}}getButtonText(){if(!this.isWalletConnectedForLiquidity()){const e=this.getRequiredChainName();return`Connect ${e}`}if(!this.selectedPool)return"Select Pool";if(this.mode==="add"){if(!this.tokenAAmount||!this.tokenBAmount)return"Enter Amounts";if(this.isQuoting)return"Getting Quote...";if(this.loading)return"Adding Liquidity...";return"Add Liquidity"}else{if(!this.lpTokenAmount)return"Enter LP Amount";if(this.isQuoting)return"Getting Quote...";if(this.loading)return"Removing Liquidity...";return"Remove Liquidity"}}isWalletConnectedForLiquidity(){if(!this.selectedPool)return false;const e=o.isWalletConnected(this.selectedPool.tokenA.chainUID);const t=o.isWalletConnected(this.selectedPool.tokenB.chainUID);return e&&t}getRequiredChainName(){if(!this.selectedPool)return"Wallet";const e=o.isWalletConnected(this.selectedPool.tokenA.chainUID);const t=o.isWalletConnected(this.selectedPool.tokenB.chainUID);if(!e&&!t){return"Wallets"}else if(!e){return this.getChainDisplayName(this.selectedPool.tokenA.chainUID)}else if(!t){return this.getChainDisplayName(this.selectedPool.tokenB.chainUID)}return"Wallet"}getChainDisplayName(e){const t={ethereum:"Ethereum",polygon:"Polygon",arbitrum:"Arbitrum",optimism:"Optimism","cosmoshub-4":"Cosmos Hub","osmosis-1":"Osmosis"};return t[e]||"Wallet"}render(){const e=this.getUserPosition();return i("div",{key:"4ad7abe1aa156bdad10895e95611faa3ff217764",class:"liquidity-card"},i("div",{key:"f30673dbe7bb55fbb6a16077b61123a3857dd62d",class:"liquidity-header"},i("h3",{key:"1d40710188bccf5bdf22f4cd7da49e13bae4b630",class:"liquidity-title"},this.cardTitle),i("div",{key:"f5c829caed06ac2efb7e74292d39f85508c224f5",class:"mode-toggle"},i("button",{key:"23135335f8e3781f736cbfddeb72603f8aa67812",class:{"mode-button":true,"mode-button--active":this.mode==="add"},onClick:()=>this.handleModeChange("add"),type:"button"},"Add"),i("button",{key:"4e93685870b500764b983ebdc6622fb57e0f55e3",class:{"mode-button":true,"mode-button--active":this.mode==="remove"},onClick:()=>this.handleModeChange("remove"),type:"button"},"Remove"))),i("div",{key:"03aa8a8510cd6ef88630e0d95fc634c75e69eeb9",class:"pool-section"},i("div",{key:"c61ca3f0c3d7bab8c629c0d12d0674711a4825f0",class:"section-header"},i("span",{key:"61e0f67017a072c9a7e931f5c9e3d4b4095b5a36",class:"section-label"},"Pool")),i("div",{key:"88765d937c64b7f78c3d5eddcb47893949766d5e",class:"pool-selector",onClick:this.openPoolSelector},this.selectedStorePool?i("div",{class:"selected-pool"},i("div",{class:"pool-tokens"},i("div",{class:"token-pair"}),i("div",{class:"pool-info"},i("span",{class:"pool-name"},this.selectedStorePool.token_1.toUpperCase(),"/",this.selectedStorePool.token_2.toUpperCase()),i("span",{class:"pool-fee"},"Pool Fee"))),i("div",{class:"pool-stats"},i("div",{class:"stat"},i("span",{class:"stat-label"},"APR"),i("span",{class:"stat-value"},this.selectedStorePool.apr||"N/A")),i("div",{class:"stat"},i("span",{class:"stat-label"},"TVL"),i("span",{class:"stat-value"},"$",parseFloat(this.selectedStorePool.total_liquidity||"0").toLocaleString())))):i("div",{class:"select-pool-button"},i("span",null,"Select Pool"),i("svg",{class:"dropdown-arrow",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M7 10l5 5 5-5z"}))))),this.mode==="remove"&&e&&i("div",{key:"589b4e10ef4152285daec23c050c4bf0666fa84b",class:"position-info"},i("div",{key:"6e82a16f6683990d4d1ea80615ec76daa2a22e9a",class:"position-header"},i("span",{key:"b4db1c0694ed2deda3f00308af5411e9cb1dbe6a",class:"position-label"},"Your Position")),i("div",{key:"53ca4ce4bfea8b37684534329dd8d044b843fe62",class:"position-details"},i("div",{key:"2d51de935a275e3b155ba6921e1c4e7243b7b956",class:"position-row"},i("span",{key:"c46db84ee1efe2935eb81c5ab3231265428c56a0",class:"position-item-label"},"LP Tokens"),i("span",{key:"44b27b3727513fcacba6d9d9204a44e3af62b20a",class:"position-item-value"},parseFloat(e.lpTokenBalance).toLocaleString())),i("div",{key:"031b7a6f3da2960a373a7a09094c64346ed3adf1",class:"position-row"},i("span",{key:"694ecdcd684e3bedb46b080f9dcde8e14fdc53a3",class:"position-item-label"},"Pool Share"),i("span",{key:"825011a0a64106bfec5fd9ffaa8afbd3db55677c",class:"position-item-value"},e.shareOfPool.toFixed(4),"%")),i("div",{key:"4418937b2784f91ae83abc7739c44992433140e0",class:"position-row"},i("span",{key:"5e8d74c64553b8871f39af7ced364e3c2f3739f6",class:"position-item-label"},this.selectedPool?.tokenA.symbol),i("span",{key:"32c8ada660bcd6e6d309d3a2a824c0e56b54c279",class:"position-item-value"},parseFloat(e.tokenAAmount).toLocaleString())),i("div",{key:"3c6861f0dafbde3f75af45340ed404fe027bab22",class:"position-row"},i("span",{key:"c511d398de964afb32517e84898a0b3a5fbf6654",class:"position-item-label"},this.selectedPool?.tokenB.symbol),i("span",{key:"b7feac7f56d9fc3cccbea8e33d0c727acc8f3aaf",class:"position-item-value"},parseFloat(e.tokenBAmount).toLocaleString())))),this.mode==="add"?this.renderAddLiquidity():this.renderRemoveLiquidity(),(this.currentQuote||this.removeQuote)&&i("div",{key:"e35ca08ed32348ca2d86b4828945faaaff1fb89d",class:"quote-info"},this.mode==="add"&&this.currentQuote?i("div",null,i("div",{class:"quote-row"},i("span",{class:"quote-label"},"LP Tokens Received"),i("span",{class:"quote-value"},parseFloat(this.currentQuote.lpTokensReceived).toLocaleString())),i("div",{class:"quote-row"},i("span",{class:"quote-label"},"Pool Share"),i("span",{class:"quote-value"},this.currentQuote.shareOfPool.toFixed(4),"%")),this.currentQuote.priceImpact>.1&&i("div",{class:"quote-row"},i("span",{class:"quote-label"},"Price Impact"),i("span",{class:{"quote-value":true,"quote-value--warning":this.currentQuote.priceImpact>1,"quote-value--danger":this.currentQuote.priceImpact>3}},this.currentQuote.priceImpact.toFixed(3),"%"))):this.mode==="remove"&&this.removeQuote?i("div",null,i("div",{class:"quote-row"},i("span",{class:"quote-label"},"Pool Share Removed"),i("span",{class:"quote-value"},this.removeQuote.shareRemoved.toFixed(4),"%")),i("div",{class:"quote-row"},i("span",{class:"quote-label"},this.selectedPool?.tokenA.symbol," Received"),i("span",{class:"quote-value"},parseFloat(this.removeQuote.tokenAReceived).toLocaleString())),i("div",{class:"quote-row"},i("span",{class:"quote-label"},this.selectedPool?.tokenB.symbol," Received"),i("span",{class:"quote-value"},parseFloat(this.removeQuote.tokenBReceived).toLocaleString()))):null),i("div",{key:"7f93ea736c2dd68bcd3fa95a405e39c46a499d29",class:"advanced-section"},i("button",{key:"ed62dcff4d54bc6466258e49b2a3afc66c0c6429",class:"advanced-toggle",onClick:()=>this.isAdvancedOpen=!this.isAdvancedOpen,type:"button"},i("span",{key:"d168660898c986aedc77eceee6ba292337dcd020"},"Advanced Settings"),i("svg",{key:"8d4fcc5f1b125bbfb480f15cceb00ad765b27fdd",class:{"dropdown-arrow":true,"dropdown-arrow--open":this.isAdvancedOpen},viewBox:"0 0 24 24",fill:"currentColor"},i("path",{key:"48f7e954d0974b0d203a8e1c273500bc9920d83d",d:"M7 10l5 5 5-5z"}))),this.isAdvancedOpen&&i("div",{key:"06dfeb427e2caa61d8e6b32f8456e561e2638383",class:"advanced-panel"},i("div",{key:"0f8e3954f9c4ef0ef4cf74b77e23812da2867a87",class:"setting-item"},i("label",{key:"f92e843c03a5332f12ee643605bfbba8cf5536cf",class:"setting-label"},"Slippage Tolerance"),i("div",{key:"71cd80e0a0499ed4aefa5dcca821cf7d43eb66cb",class:"slippage-controls"},[.1,.5,1].map((e=>i("button",{class:{"slippage-btn":true,"slippage-btn--active":this.slippage===e},onClick:()=>this.slippage=e,type:"button"},e,"%"))),i("input",{key:"fd3a24c975a423396b29e5ba1a9f7a41a685f972",class:"slippage-input",type:"number",min:"0",max:"50",step:"0.1",value:this.slippage,onInput:e=>this.slippage=parseFloat(e.target.value),placeholder:"Custom"}))))),i("euclid-button",{key:"89259d44e752520b3ec9f88d9cc8386a574d06a0",variant:"primary",size:"lg","full-width":true,loading:this.loading,disabled:!this.canExecute(),onClick:this.handleLiquidity},this.getButtonText()),this.isPoolSelectorOpen&&i("div",{key:"4dc8262ec91d793fd4560d582f4e974a1a0669fa",class:"pool-selector-dropdown"},i("div",{key:"e675f234684c5a179c0c4a6a4d6cfe59194fc1ea",class:"dropdown-header"},i("h4",{key:"cb2399bd85837dc3a8a5e0adec003a8e202aed2a"},"Select Pool"),i("button",{key:"998d6cd3235c0c3998a32315c6dd6c9f8f515496",class:"close-button",onClick:()=>this.isPoolSelectorOpen=false},"×")),i("div",{key:"d378f838252e827239f518d71925b97422554737",class:"pool-list"},f(this.storePools)?this.storePools.map((e=>i("div",{key:e.pool_id,class:"pool-item",onClick:()=>this.selectStorePool(e)},i("div",{class:"pool-tokens"},i("span",{class:"pool-name"},e.token_1.toUpperCase(),"/",e.token_2.toUpperCase())),i("div",{class:"pool-stats"},i("span",{class:"apr"},"APR: ",e.apr||"0.00%"),i("span",{class:"tvl"},"TVL: $",parseFloat(e.total_liquidity||"0").toLocaleString()))))):i("div",{class:"no-pools"},"No pools available"))))}renderAddLiquidity(){return i("div",{class:"liquidity-inputs"},i("div",{class:"token-input-section"},i("div",{class:"input-header"},i("span",{class:"input-label"},"First Token"),this.selectedPool?.tokenA.balance&&i("span",{class:"balance-label",onClick:()=>this.handleMaxClick("tokenA")},"Balance: ",parseFloat(this.selectedPool.tokenA.balance).toLocaleString())),i("euclid-token-input",{id:"token-a-input",value:this.tokenAAmount,placeholder:"0.0","show-max":!!this.selectedPool?.tokenA.balance,onMaxClick:()=>this.handleMaxClick("tokenA")},i("div",{slot:"token",class:"token-display"},this.selectedStorePool?i("div",{class:"selected-token"},i("div",{class:"token-info"},i("span",{class:"token-symbol"},this.selectedStorePool.token_1.toUpperCase()),i("span",{class:"token-name"},this.selectedStorePool.token_1))):i("div",{class:"no-pool-selected"},i("span",{class:"token-symbol"},"TOKEN"),i("span",{class:"token-name"},"Select pool first"))))),i("div",{class:"token-input-section"},i("div",{class:"input-header"},i("span",{class:"input-label"},"Second Token"),this.selectedPool?.tokenB.balance&&i("span",{class:"balance-label",onClick:()=>this.handleMaxClick("tokenB")},"Balance: ",parseFloat(this.selectedPool.tokenB.balance).toLocaleString())),i("euclid-token-input",{id:"token-b-input",value:this.tokenBAmount,placeholder:"0.0","show-max":!!this.selectedPool?.tokenB.balance,onMaxClick:()=>this.handleMaxClick("tokenB")},i("div",{slot:"token",class:"token-display"},this.selectedStorePool?i("div",{class:"selected-token"},i("div",{class:"token-info"},i("span",{class:"token-symbol"},this.selectedStorePool.token_2.toUpperCase()),i("span",{class:"token-name"},this.selectedStorePool.token_2))):i("div",{class:"no-pool-selected"},i("span",{class:"token-symbol"},"TOKEN"),i("span",{class:"token-name"},"Select pool first"))))))}renderRemoveLiquidity(){const e=this.getUserPosition();return i("div",{class:"remove-liquidity"},i("div",{class:"percentage-section"},i("div",{class:"percentage-label"},"Amount to Remove"),i("div",{class:"percentage-buttons"},[25,50,75,100].map((e=>i("button",{class:{"percentage-btn":true,"percentage-btn--active":this.lpPercentage===e},onClick:()=>this.handlePercentageClick(e),type:"button"},e,"%"))))),i("div",{class:"token-input-section"},i("div",{class:"input-header"},i("span",{class:"input-label"},"LP Tokens to Remove"),e&&i("span",{class:"balance-label",onClick:()=>this.handleMaxClick("lp")},"Balance: ",parseFloat(e.lpTokenBalance).toLocaleString())),i("euclid-token-input",{id:"lp-token-input",value:this.lpTokenAmount,placeholder:"0.0","show-max":!!e,onMaxClick:()=>this.handleMaxClick("lp")},i("div",{slot:"token",class:"lp-token-display"},this.selectedPool?i("div",{class:"lp-token-info"},i("div",{class:"token-pair"},this.selectedPool.tokenA.logoUrl&&i("img",{src:this.selectedPool.tokenA.logoUrl,alt:this.selectedPool.tokenA.symbol,class:"token-logo"}),this.selectedPool.tokenB.logoUrl&&i("img",{src:this.selectedPool.tokenB.logoUrl,alt:this.selectedPool.tokenB.symbol,class:"token-logo token-logo--overlap"})),i("span",{class:"lp-symbol"},this.selectedPool.lpTokenSymbol)):i("span",null,"Select Pool")))))}get element(){return s(this)}};re.style=oe;const ne=class{constructor(t){e(this,t);this.isInitialized=false;this.api=B}async componentWillLoad(){await this.initialize()}async componentDidLoad(){}async initialize(){k.info("Component","💧 Initializing Liquidity Controller...");const e=this.config?JSON.parse(this.config):C;k.info("Component","Using config:",e);h.onChange("selectedPool",(()=>this.handlePoolChange()));this.isInitialized=true;k.info("Component","✅ Liquidity Controller initialized")}handlePoolChange(){const{selectedPool:e}=h.state;if(e){k.info("Component","🏊 Pool selected for liquidity operations:",e.id)}}async executeAddLiquidity(){try{const{selectedPool:e,token1:t,token2:i,token1Amount:a,token2Amount:s}=h.state;if(!e||!t||!i||!a||!s){return{success:false,error:"Missing required liquidity parameters"}}const r=o.getWallet(t.chainUID);const n=o.getWallet(i.chainUID);if(!r){return{success:false,error:`No wallet found for ${t.symbol} chain`}}if(!n){return{success:false,error:`No wallet found for ${i.symbol} chain`}}if(!o.hasSufficientBalance(t.chainUID,t.id,a)){return{success:false,error:`Insufficient ${t.symbol} balance`}}if(!o.hasSufficientBalance(i.chainUID,i.id,s)){return{success:false,error:`Insufficient ${i.symbol} balance`}}h.setAddingLiquidity(true);k.info("Component","💧 Executing add liquidity...",{pool:e.id,token1:t.symbol,token2:i.symbol,amount1:a,amount2:s});const l=await this.api.buildAddLiquidityTransaction({slippage_tolerance_bps:50,timeout:(Math.floor(Date.now()/1e3)+1200).toString(),pair_info:{token_1:{token:t.id,amount:a,token_type:t.token_type||{native:{denom:t.id}}},token_2:{token:i.id,amount:s,token_type:i.token_type||{native:{denom:i.id}}}},sender:{address:r.address,chain_uid:t.chainUID}});if(l.success&&l.data){const e="pending";const t=o.getAllWallets();const i=t[0];const a=i.chainUID;o.addTransaction(a,{txHash:e,timestamp:Date.now(),type:"add_liquidity"});z(I.TRANSACTION.SUBMITTED,{txHash:e,chainUID:a,type:"add_liquidity"});k.info("Component","✅ Add liquidity transaction submitted:",e);return{success:true,txHash:e}}else{return{success:false,error:l.error||"Add liquidity execution failed"}}}catch(e){const t=e instanceof Error?e.message:"Unknown error occurred";k.error("Component","❌ Add liquidity execution error:",t);return{success:false,error:t}}finally{h.setAddingLiquidity(false)}}async executeRemoveLiquidity(e,t){try{const i=h.getPosition(e);if(!i){return{success:false,error:"Liquidity position not found"}}const a=w.state.pools;const s=a.find((t=>t.id===e));if(!s){return{success:false,error:"Pool not found"}}const r=w.state.tokens;const n=r.find((e=>e.address===s.token_1));if(!n){return{success:false,error:"Token metadata not found"}}const l=o.getWallet(n.chain_uid);if(!l){return{success:false,error:`No wallet found for ${n.chain_uid} chain`}}const c=o.getWalletBalance(n.chain_uid,`lp-${e}`);if(!c||BigInt(c.amount)<BigInt(t)){return{success:false,error:"Insufficient LP token balance"}}h.setRemovingLiquidity(true);k.info("Component","💧 Executing remove liquidity...",{poolId:e,lpAmount:t});const d=await this.api.buildRemoveLiquidityTransaction({slippage_tolerance_bps:50,timeout:(Math.floor(Date.now()/1e3)+1200).toString(),lp_token_amount:t,sender:{address:l.address,chain_uid:n.chain_uid}});if(d.success&&d.data){const e=d.data;const{txHash:t}=e;o.addTransaction(n.chain_uid,{txHash:t,timestamp:Date.now(),type:"remove_liquidity"});z(I.TRANSACTION.SUBMITTED,{txHash:t,chainUID:n.chain_uid,type:"remove_liquidity"});k.info("Component","✅ Remove liquidity transaction submitted:",t);return{success:true,txHash:t}}else{return{success:false,error:d.error||"Remove liquidity execution failed"}}}catch(e){const t=e instanceof Error?e.message:"Unknown error occurred";k.error("Component","❌ Remove liquidity execution error:",t);return{success:false,error:t}}finally{h.setRemovingLiquidity(false)}}async handleAddLiquidityExecution(){k.info("Component","💧 Add liquidity execution requested via event");const e=await N.request("add-liquidity-execution",(()=>this.executeAddLiquidity()),{ttl:1e3});if(e.success){z(I.LIQUIDITY.ADD_SUCCESS,{txHash:e.txHash})}else{z(I.LIQUIDITY.ADD_FAILED,{error:e.error})}}async handleLiquidityPositionsSubscribe(){k.info("Component","🏊 Component subscribed to liquidity position data - triggering fetch if needed")}handleLiquidityPositionsUnsubscribe(){k.info("Component","🏊 Component unsubscribed from liquidity position data")}async handleRemoveLiquidityExecution(e){k.info("Component","💧 Remove liquidity execution requested via event");const{poolId:t,lpTokenAmount:i}=e.detail;const a=await this.executeRemoveLiquidity(t,i);if(a.success){z(I.LIQUIDITY.REMOVE_SUCCESS,{txHash:a.txHash})}else{z(I.LIQUIDITY.REMOVE_FAILED,{error:a.error})}}onInitializedChange(e){if(e){k.info("Component","💧 Liquidity Controller ready for operations")}}render(){return null}static get watchers(){return{isInitialized:["onInitializedChange"]}}};const le=class{constructor(t){e(this,t);this.isInitialized=false;this.api=B}async componentWillLoad(){this.euclidConfig=this.config?JSON.parse(this.config):C;await this.initialize()}async componentDidLoad(){}disconnectedCallback(){j.unregister("market-token-metadata");j.unregister("market-pools-data")}async initialize(){k.info("Component","📊 Initializing Market Data Controller...");await this.loadInitialData();this.setupCoreDataPolling();this.isInitialized=true;k.info("Component","📊 Market Data Controller initialized")}async loadInitialData(){return N.request("market-initial-data",(async()=>{try{w.setLoading(true);k.info("Component","📊 Loading initial market data...");k.info("Component","🌐 Loading chains (once per session)...");const e=await this.api.getChains({showAllChains:false});if(e&&e.length>0){const t=e.map((e=>({...e,type:e.type?.toLowerCase()==="evm"?"EVM":"Cosmwasm"})));w.setChains(t);k.info("Component","📡 Loaded chains:",e.length)}else{k.warn("Component","No chains data received")}k.info("Component","🪙 Loading token metadata...");const t=await this.api.getTokenMetadata();if(t&&t.length>0){w.setTokens(t);k.info("Component","🪙 Loaded tokens:",t.length)}else{k.warn("Component","No tokens data received")}k.info("Component","🏊 Loading pools with liquidity...");const i=await this.api.getAllPools();if(i.success&&i.data){w.setPools(i.data);k.info("Component","🏊 Loaded pools:",i.data.length)}else{k.warn("Component","Failed to load pools:",i.error)}return{success:true}}catch(e){k.error("Component","Failed to load initial market data:",e);throw e}finally{w.setLoading(false)}}),{ttl:this.euclidConfig.performance.cache.chains})}setupCoreDataPolling(){k.info("Component","📊 Setting up optimized core data polling using configuration:",{activeInterval:this.euclidConfig.performance.polling.active.marketData,backgroundInterval:this.euclidConfig.performance.polling.background.marketData,cacheTTL:this.euclidConfig.performance.cache.marketData});j.register("market-token-metadata",(async()=>{if(!T.hasSubscriptions("marketData")&&!T.hasSubscriptions("tokenPrices")){k.info("Component","⏭️ No token metadata subscriptions - skipping fetch");return}k.info("Component","🪙 Refreshing token metadata (subscription-driven)...");await this.refreshTokenMetadata()}),{activeInterval:this.euclidConfig.performance.polling.active.marketData,backgroundInterval:this.euclidConfig.performance.polling.background.marketData,pauseOnHidden:this.euclidConfig.performance.pauseOnHidden});j.register("market-pools-data",(async()=>{if(!T.hasSubscriptions("marketData")&&!T.hasSubscriptions("liquidityPositions")){k.info("Component","⏭️ No pools data subscriptions - skipping fetch");return}k.info("Component","🏊 Refreshing pools data (subscription-driven)...");await this.refreshPoolsData()}),{activeInterval:this.euclidConfig.performance.polling.active.marketData,backgroundInterval:this.euclidConfig.performance.polling.background.marketData,pauseOnHidden:this.euclidConfig.performance.pauseOnHidden});k.info("Component","📊 Optimized core data polling setup complete - will poll only when subscriptions exist")}async refreshTokenMetadata(){return N.request("token-metadata-refresh",(async()=>{try{const e=await this.api.getTokenMetadata();if(e&&e.length>0){w.setTokens(e);k.info("Component","💰 Refreshed token metadata:",e.length)}return{success:true}}catch(e){k.error("Component","❌ Failed to refresh token metadata:",e);throw e}}),{ttl:this.euclidConfig.performance.cache.tokens})}async refreshPoolsData(){return N.request("pools-data-refresh",(async()=>{try{const e=await this.api.getAllPools();if(e.success&&e.data){w.setPools(e.data);k.info("Component","🏊 Refreshed pools data:",e.data.length)}return{success:true}}catch(e){k.error("Component","❌ Failed to refresh pools data:",e);throw e}}),{ttl:this.euclidConfig.performance.cache.marketData})}async handleInitialDataLoad(){k.info("Component","📊 Loading initial market data...");await this.loadInitialData()}async handleRefreshRequest(){k.info("Component","� Manual market data refresh requested");await Promise.all([this.refreshTokenMetadata(),this.refreshPoolsData()])}async handleTokenDetailsRequest(e){const{tokenId:t}=e.detail;k.info("Component","📋 Loading token details for:",t);try{k.info("Component","📄 Token denoms not yet implemented for:",t);z(I.MARKET.TOKEN_DETAILS_SUCCESS,{tokenId:t,data:{denoms:[]}});k.info("Component","📄 Token escrows not yet implemented for:",t);z(I.MARKET.ESCROWS_LOADED,{tokenId:t,data:{escrows:[]}})}catch(e){k.error("Component","Failed to load token details:",e);z(I.MARKET.TOKEN_DETAILS_FAILED,{tokenId:t,error:e.message})}}async handleChainDetailsRequest(e){const{chainUID:t}=e.detail;k.info("Component","🔗 Loading chain details for:",t);try{const e=w.getChain(t);if(e){z(I.MARKET.CHAIN_DETAILS_SUCCESS,{chainUID:t,data:{chain:e}})}else{await this.loadInitialData()}}catch(e){k.error("Component","Failed to load chain details:",e);z(I.MARKET.CHAIN_DETAILS_FAILED,{chainUID:t,error:e.message})}}render(){return null}};const ce=":host{display:contents}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:var(--euclid-z-modal-backdrop);background:var(--euclid-surface-overlay);display:flex;align-items:center;justify-content:center;padding:var(--euclid-space-4);animation:fadeIn var(--euclid-transition-base);isolation:isolate}.modal-container{background:var(--euclid-surface);border-radius:var(--euclid-radius-2xl);box-shadow:var(--euclid-shadow-2xl);border:var(--euclid-border-1) solid var(--euclid-border);max-width:var(--euclid-modal-max-width-base);width:100%;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;animation:slideUp var(--euclid-transition-base);outline:none;position:relative}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:var(--euclid-space-6);border-bottom:var(--euclid-border-1) solid var(--euclid-border)}.modal-title{margin:0;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.close-button{display:flex;align-items:center;justify-content:center;width:var(--euclid-space-8);height:var(--euclid-space-8);background:transparent;border:none;border-radius:var(--euclid-radius-lg);color:var(--euclid-text-tertiary);cursor:pointer;transition:all var(--euclid-transition-fast)}.close-button:hover{background:var(--euclid-surface-secondary);color:var(--euclid-text-secondary)}.close-button svg{width:var(--euclid-space-4);height:var(--euclid-space-4)}.modal-content{padding:var(--euclid-space-6);overflow-y:auto;flex:1;min-height:0;}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideUp{from{opacity:0;transform:translateY(var(--euclid-space-8))}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.modal-overlay{padding:var(--euclid-space-2)}.modal-container{max-width:100%}.modal-header,.modal-content{padding:var(--euclid-space-4)}}@media (max-width: 480px){.modal-container{width:100%;height:100%;max-height:100vh;border-radius:0}.modal-header{padding:var(--euclid-space-3) var(--euclid-space-4)}.modal-title{font-size:var(--euclid-text-base)}.modal-content{padding:var(--euclid-space-3) var(--euclid-space-4)}}.close-button:focus-visible{outline:2px solid var(--euclid-border-focus);outline-offset:2px}@media (prefers-reduced-motion: reduce){.modal-overlay,.modal-container{animation:none}}";const de=class{constructor(t){e(this,t);this.appState=n.state;this.previousActiveElement=null;this.previousBodyOverflow="";this.previousBodyPaddingRight="";this.scrollBarWidth=0;this.handleOverlayClick=e=>{if(e.target===e.currentTarget){this.closeModal()}}}componentWillLoad(){k.info("Component","🚀 Modal componentWillLoad");k.info("Component","📊 Initial appState:",this.appState);k.info("Component","📊 Initial store state:",n.state);this.scrollBarWidth=this.getScrollBarWidth();k.info("Component","📏 Scrollbar width:",this.scrollBarWidth);n.onChange("walletModalOpen",(()=>{k.info("Component","👛 Wallet modal state changed:",n.state.walletModalOpen);const e=this.appState.walletModalOpen||this.appState.tokenModalOpen;const t={...n.state};const i=t.walletModalOpen||t.tokenModalOpen;this.appState=t;k.info("Component","👛 Wallet modal state transition:",{wasOpen:e,isNowOpen:i});this.handleModalStateChange(e,i)}));n.onChange("tokenModalOpen",(()=>{k.info("Component","🪙 Token modal state changed:",n.state.tokenModalOpen);const e=this.appState.walletModalOpen||this.appState.tokenModalOpen;const t={...n.state};const i=t.walletModalOpen||t.tokenModalOpen;this.appState=t;k.info("Component","🪙 Token modal state transition:",{wasOpen:e,isNowOpen:i});this.handleModalStateChange(e,i)}))}componentDidLoad(){k.info("Component","🎬 componentDidLoad called");const e=this.appState.walletModalOpen||this.appState.tokenModalOpen;k.info("Component","🎬 componentDidLoad isOpen:",e);if(e){k.info("Component","🎬 componentDidLoad calling onModalOpen");this.onModalOpen()}}disconnectedCallback(){this.onModalClose()}handleKeyDown(e){const t=this.appState.walletModalOpen||this.appState.tokenModalOpen;if(!t)return;if(e.key==="Escape"){this.closeModal()}if(e.key==="Tab"){this.handleTabKey(e)}}closeModal(){n.closeWalletModal();n.closeTokenModal()}getScrollBarWidth(){if(typeof window==="undefined")return 0;const e=document.createElement("div");e.style.visibility="hidden";e.style.overflow="scroll";document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const i=e.offsetWidth-t.offsetWidth;document.body.removeChild(e);return i}handleModalStateChange(e,t){k.info("Component","🔄 handleModalStateChange:",{wasOpen:e,isNowOpen:t});if(!e&&t){k.info("Component","▶️ Opening modal");this.onModalOpen()}else if(e&&!t){k.info("Component","⏹️ Closing modal");this.onModalClose()}else{k.info("Component","➡️ No state change needed")}}onModalOpen(){k.info("Component","🔒 onModalOpen called");if(typeof window==="undefined"){k.info("Component","❌ No window, returning");return}try{this.previousActiveElement=document.activeElement;k.info("Component","💾 Stored active element:",this.previousActiveElement);const e=document.body;this.previousBodyOverflow=e.style.overflow||"";e.style.overflow="hidden";k.info("Component","🔒 BODY SCROLL LOCKED!",{previousOverflow:this.previousBodyOverflow,newOverflow:e.style.overflow});requestAnimationFrame((()=>{const e=this.el.shadowRoot?.querySelector(".modal-container");if(e){e.focus();k.info("Component","🎯 Modal focused")}}))}catch(e){k.error("Component","❌ Error in onModalOpen:",e)}}onModalClose(){k.info("Component","🔓 onModalClose called");if(typeof window==="undefined"){k.info("Component","❌ No window, returning");return}try{const e=document.body;e.style.overflow=this.previousBodyOverflow;k.info("Component","🔓 BODY SCROLL RESTORED!",{restoredOverflow:this.previousBodyOverflow,currentOverflow:e.style.overflow});if(this.previousActiveElement&&typeof this.previousActiveElement.focus==="function"){this.previousActiveElement.focus();k.info("Component","🎯 Focus restored to:",this.previousActiveElement)}this.previousActiveElement=null}catch(e){k.error("Component","❌ Error in onModalClose:",e)}}handleTabKey(e){const t=this.el.shadowRoot;if(!t)return;const i=t.querySelector(".modal-container");if(!i)return;const a=i.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(a.length===0)return;const s=a[0];const o=a[a.length-1];const r=t.activeElement||document.activeElement;if(e.shiftKey){if(r===s||!i.contains(r)){o?.focus();e.preventDefault()}}else{if(r===o||!i.contains(r)){s?.focus();e.preventDefault()}}}render(){const e=this.appState.walletModalOpen||this.appState.tokenModalOpen;k.info("Component","🎭 Modal render called:",{isOpen:e,walletOpen:this.appState.walletModalOpen,tokenOpen:this.appState.tokenModalOpen});if(!e){k.info("Component","🚫 Modal not open, returning null");if(document.body.style.overflow==="hidden"){k.info("Component","🔓 FORCE restoring scroll on closed modal");document.body.style.overflow=this.previousBodyOverflow||""}return null}if(document.body.style.overflow!=="hidden"){k.info("Component","🔒 FORCE locking scroll in render");this.previousBodyOverflow=document.body.style.overflow||"";document.body.style.overflow="hidden"}let t="";let a=null;if(this.appState.walletModalOpen){t="Connect Wallet";a=i("euclid-wallet-content",null);k.info("Component","👛 Rendering wallet modal")}else if(this.appState.tokenModalOpen){t="Select Token";a=i("euclid-token-content",null);k.info("Component","🪙 Rendering token modal")}return i("div",{class:"modal-overlay",onClick:this.handleOverlayClick,role:"dialog","aria-modal":"true","aria-hidden":"false"},i("div",{class:"modal-container",role:"document",tabindex:"-1","aria-labelledby":"modal-title","aria-describedby":"modal-content"},i("div",{class:"modal-header"},i("h2",{id:"modal-title",class:"modal-title"},t),i("button",{class:"close-button",onClick:()=>this.closeModal(),type:"button","aria-label":"Close modal"},i("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})))),i("div",{id:"modal-content",class:"modal-content"},a)))}get el(){return s(this)}};de.style=ce;const ue=":host{display:block;width:100%;font-family:var(--euclid-font-sans)}.portfolio{background:var(--euclid-surface);border:var(--euclid-border-1) solid var(--euclid-border);border-radius:var(--euclid-radius-xl);overflow:hidden;box-shadow:var(--euclid-shadow-base)}.portfolio-header{display:flex;flex-direction:column;gap:var(--euclid-space-4);padding:var(--euclid-space-6);border-bottom:var(--euclid-border-1) solid var(--euclid-border);background:var(--euclid-surface-secondary)}.portfolio-title{margin:0;font-size:var(--euclid-text-2xl);font-weight:var(--euclid-font-bold);color:var(--euclid-text-primary)}.portfolio-summary{display:grid;grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));gap:var(--euclid-space-4)}.summary-item{display:flex;flex-direction:column;align-items:center;text-align:center;padding:var(--euclid-space-3);background:var(--euclid-surface);border-radius:var(--euclid-radius-lg);border:var(--euclid-border-1) solid var(--euclid-border)}.summary-item .label{font-size:var(--euclid-text-xs);font-weight:var(--euclid-font-medium);color:var(--euclid-text-muted);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:var(--euclid-space-1)}.summary-item .value{font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-bold);color:var(--euclid-text-primary)}.portfolio-tabs{display:flex;border-bottom:var(--euclid-border-1) solid var(--euclid-border);background:var(--euclid-surface-secondary)}.tab-btn{padding:var(--euclid-space-4) var(--euclid-space-6);background:transparent;border:none;border-bottom:2px solid transparent;color:var(--euclid-text-secondary);font-size:var(--euclid-text-sm);font-weight:var(--euclid-font-medium);cursor:pointer;transition:var(--euclid-transition-base)}.tab-btn:hover{background:var(--euclid-interactive-secondary-hover);color:var(--euclid-text-primary)}.tab-btn--active{color:var(--euclid-interactive-primary);border-bottom-color:var(--euclid-interactive-primary);background:var(--euclid-surface);font-weight:var(--euclid-font-semibold)}.portfolio-content{padding:var(--euclid-space-6)}.overview-tab{display:flex;flex-direction:column;gap:var(--euclid-space-8)}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:var(--euclid-space-5)}.stat-card{padding:var(--euclid-space-5);background:var(--euclid-surface-secondary);border:var(--euclid-border-1) solid var(--euclid-border);border-radius:var(--euclid-radius-xl);display:flex;flex-direction:column;gap:var(--euclid-space-2);transition:var(--euclid-transition-base)}.stat-card:hover{border-color:var(--euclid-border-hover);box-shadow:var(--euclid-shadow-md)}.stat-label{font-size:var(--euclid-text-xs);color:var(--euclid-text-muted);font-weight:var(--euclid-font-medium);text-transform:uppercase;letter-spacing:0.5px}.stat-value{font-size:var(--euclid-text-2xl);font-weight:var(--euclid-font-bold);color:var(--euclid-text-primary)}.portfolio-analytics{padding:var(--euclid-space-8) var(--euclid-space-6);background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-xl);text-align:center}.portfolio-analytics h3{margin:0 0 var(--euclid-space-4) 0;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.portfolio-analytics p{margin:0;color:var(--euclid-text-secondary)}.wallets-tab{display:flex;flex-direction:column;gap:var(--euclid-space-5)}.wallets-header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--euclid-space-4)}.wallets-header h3{margin:0;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.wallet-list{display:flex;flex-direction:column;gap:var(--euclid-space-4)}.empty-portfolio,.empty-wallets{display:flex;flex-direction:column;align-items:center;padding:var(--euclid-space-12) var(--euclid-space-6);text-align:center}.empty-icon{font-size:3rem;margin-bottom:var(--euclid-space-4);opacity:0.5}.empty-portfolio h3,.empty-wallets h4{margin:0 0 var(--euclid-space-2) 0;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-semibold);color:var(--euclid-text-primary)}.empty-portfolio p,.empty-wallets p{margin:0 0 var(--euclid-space-6) 0;font-size:var(--euclid-text-base);color:var(--euclid-text-secondary);max-width:400px}@media (max-width: 768px){.portfolio-header{padding:var(--euclid-space-4)}.portfolio-content{padding:var(--euclid-space-4)}.stats-grid{grid-template-columns:repeat(2, 1fr);gap:var(--euclid-space-3)}.wallets-header{flex-direction:column;align-items:flex-start}}@media (max-width: 640px){.portfolio-summary{grid-template-columns:repeat(2, 1fr);gap:var(--euclid-space-2)}.stats-grid{grid-template-columns:1fr}}";const pe=class{constructor(i){e(this,i);this.portfolioUpdated=t(this,"portfolioUpdated");this.cardTitle="Portfolio";this.walletAddress="";this.customChainUID="osmosis-1";this.includeCustomWallets=true;this.autoRefresh=true;this.refreshIntervalMs=6e4;this.refreshTrigger=0;this.activeTab="overview";this.subscriptionId=null;this.handleConnectWallet=()=>{n.openWalletModal()}}componentDidLoad(){this.subscriptionId=T.subscribe("euclid-portfolio","balances");E((()=>{this.refreshTrigger=Date.now()}));this.refreshTrigger=Date.now()}disconnectedCallback(){if(this.subscriptionId){T.unsubscribe(this.subscriptionId);this.subscriptionId=null}}handleWalletConnected(){this.refreshTrigger=Date.now()}handleWalletDisconnected(){this.refreshTrigger=Date.now()}getWallets(){const e=S();if(this.includeCustomWallets&&this.walletAddress){return O(e,this.walletAddress,this.customChainUID)}return e}formatAddress(e){return`${e.slice(0,6)}...${e.slice(-4)}`}renderOverviewTab(){const e=this.getWallets();if(e.length===0){return i("div",{class:"overview-tab"},i("div",{class:"empty-portfolio"},i("div",{class:"empty-icon"},"�"),i("h3",null,"No Portfolio Data"),i("p",null,"Connect a wallet to start tracking your portfolio and see detailed analytics."),i("euclid-button",{variant:"primary",onClick:this.handleConnectWallet},"+ Add Wallet")))}return i("div",{class:"overview-tab"},i("div",{class:"stats-grid"},i("div",{class:"stat-card"},i("div",{class:"stat-label"},"Total Value"),i("div",{class:"stat-value"},"$0.00")),i("div",{class:"stat-card"},i("div",{class:"stat-label"},"24h Change"),i("div",{class:"stat-value"},"$0.00")),i("div",{class:"stat-card"},i("div",{class:"stat-label"},"Total Chains"),i("div",{class:"stat-value"},new Set(e.map((e=>e.chainUID))).size)),i("div",{class:"stat-card"},i("div",{class:"stat-label"},"Total Tokens"),i("div",{class:"stat-value"},"0"))),i("div",{class:"portfolio-analytics"},i("h3",null,"Portfolio Analytics"),i("p",null,"Advanced portfolio analytics and charts will be available here soon.")))}renderWalletsTab(){const e=this.getWallets();return i("div",{class:"wallets-tab"},i("div",{class:"wallets-header"},i("h3",null,"Connected Wallets (",e.length,")"),i("euclid-button",{variant:"primary",onClick:this.handleConnectWallet},"+ Add Wallet")),i("div",{class:"wallets-list"},e.length===0?i("div",{class:"empty-wallets"},i("div",{class:"empty-icon"},"💼"),i("h4",null,"No connected wallets"),i("p",null,"Connect a wallet to start managing your multi-chain portfolio"),i("euclid-button",{variant:"primary",onClick:this.handleConnectWallet},"+ Add Wallet")):i("div",{class:"wallet-list"},e.map((e=>i("euclid-wallet",{key:e.id,wallet:{id:e.id,address:e.address,chainUID:e.chainUID,chainName:e.chainName,chainLogo:e.chainLogo,chainType:e.chainType,walletType:e.walletType,provider:e.provider,label:e.label},clickable:false,showConnectionStatus:true,showChainInfo:true}))))))}render(){const e=this.getWallets();this.portfolioUpdated.emit(e);return i("div",{key:"ef64af014030184c7025bc67a23314ad9ea61272",class:"portfolio"},i("div",{key:"74c8ffbe740f225401db2226fcfeb27b980a8ac9",class:"portfolio-header"},i("h2",{key:"51dd8b747c7a427ad0585c780031e7451369ebae",class:"portfolio-title"},this.cardTitle),i("div",{key:"cdd9f5f57d4063ad914a73e8b84d43cb63d041ed",class:"portfolio-summary"},i("div",{key:"bc1b1ab53f56dac7374b007b7997906eeec9f0d9",class:"summary-item"},i("span",{key:"42dc9683896c627d1d3cc31f34fd0fabc5b6dd65",class:"label"},"Wallets:"),i("span",{key:"af8351bd6bf6642e44ee7526a934df5930a68a48",class:"value"},e.length)),i("div",{key:"0d82d23e2efea6047ca1d591b61461a5217c6dd0",class:"summary-item"},i("span",{key:"5e7da4edca60a8772ccbc131035cb510ef02dd7b",class:"label"},"Chains:"),i("span",{key:"ad70e1fa85f602a739a6b7356db311b462eafddb",class:"value"},new Set(e.map((e=>e.chainUID))).size)))),i("div",{key:"91fee698171c0675155bf6427dc8aad4501046ca",class:"portfolio-tabs"},i("button",{key:"384ec557aa8bc4cc1895869af2d8831aacb11eb1",class:{"tab-btn":true,"tab-btn--active":this.activeTab==="overview"},onClick:()=>this.activeTab="overview",type:"button"},"Overview"),i("button",{key:"eab9862aad1fa077d8518df86dafe9ca1ec3f930",class:{"tab-btn":true,"tab-btn--active":this.activeTab==="wallets"},onClick:()=>this.activeTab="wallets",type:"button"},"Wallets (",e.length,")")),i("div",{key:"944636add45bc0a5f3fa78cc339274fd973c2dbe",class:"portfolio-content"},this.activeTab==="overview"&&this.renderOverviewTab(),this.activeTab==="wallets"&&this.renderWalletsTab()))}get element(){return s(this)}};pe.style=ue;const he=":host{display:contents}.swap-card{background:var(--euclid-surface);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-2xl);padding:var(--euclid-spacing-6);max-width:420px;width:100%;box-shadow:var(--euclid-shadow-xl);display:flex;flex-direction:column;gap:var(--euclid-spacing-4)}.swap-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--euclid-spacing-2)}.swap-title{font-size:var(--euclid-text-size-xl);font-weight:var(--euclid-font-weight-semibold);color:var(--euclid-text-primary);margin:0}.settings-button{display:flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;background:var(--euclid-surface-secondary);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);color:var(--euclid-text-secondary);cursor:pointer;transition:all var(--euclid-transition-duration-fast)}.settings-button:hover{background:var(--euclid-surface-tertiary);color:var(--euclid-text-primary);border-color:var(--euclid-border-hover)}.settings-button:focus{outline:2px solid var(--euclid-border-focus);outline-offset:2px}.settings-button svg{width:1.25rem;height:1.25rem}.settings-panel{background:var(--euclid-surface-secondary);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);padding:var(--euclid-spacing-4);margin-bottom:var(--euclid-spacing-2)}.setting-item{margin-bottom:var(--euclid-spacing-4)}.setting-item:last-child{margin-bottom:0}.setting-label{display:block;font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-secondary);margin-bottom:var(--euclid-spacing-2)}.slippage-buttons{display:flex;gap:var(--euclid-spacing-2);align-items:center}.slippage-btn{padding:var(--euclid-spacing-2) var(--euclid-spacing-3);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-sm);cursor:pointer;transition:all var(--euclid-transition-duration-fast)}.slippage-btn:hover{border-color:var(--euclid-interactive-primary);color:var(--euclid-interactive-primary)}.slippage-btn--active{background:var(--euclid-interactive-primary);color:var(--euclid-white);border-color:var(--euclid-interactive-primary)}.slippage-input{padding:var(--euclid-spacing-2) var(--euclid-spacing-3);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:var(--euclid-text-size-sm);width:80px;text-align:center}.slippage-input:focus{outline:none;border-color:var(--euclid-border-focus);box-shadow:0 0 0 2px rgba(37, 99, 235, 0.25)}.deadline-input{display:flex;align-items:center;gap:var(--euclid-spacing-2)}.deadline-input input{padding:var(--euclid-spacing-2) var(--euclid-spacing-3);border:1px solid var(--euclid-border);border-radius:var(--euclid-radius-md);background:var(--euclid-surface);color:var(--euclid-text-primary);font-size:var(--euclid-text-size-sm);width:100px}.deadline-input input:focus{outline:none;border-color:var(--euclid-border-focus);box-shadow:0 0 0 2px rgba(37, 99, 235, 0.25)}.deadline-input span{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.token-input-section{position:relative}.input-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--euclid-spacing-2)}.input-label{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.balance-label{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-muted);cursor:pointer;transition:color var(--euclid-transition-duration-fast)}.balance-label:hover{color:var(--euclid-text-secondary)}.token-selector{cursor:pointer}.token-selector:hover{opacity:0.8}.selected-token{display:flex;align-items:center;gap:var(--euclid-spacing-3);padding:var(--euclid-spacing-4);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-xl);background:var(--euclid-surface)}.select-token-button{display:flex;align-items:center;justify-content:center;gap:var(--euclid-spacing-2);padding:var(--euclid-spacing-4) var(--euclid-spacing-6);border:2px dashed var(--euclid-border);border-radius:var(--euclid-radius-xl);background:var(--euclid-surface-secondary);color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-base);font-weight:var(--euclid-font-weight-medium);cursor:pointer;transition:all var(--euclid-transition-duration-fast)}.select-token-button:hover{border-color:var(--euclid-border-hover)}.token-logo{width:2rem;height:2rem;border-radius:50%;background:var(--euclid-surface-secondary)}.token-info{display:flex;flex-direction:column;gap:var(--euclid-spacing-1);flex:1}.token-symbol{font-size:var(--euclid-text-size-base);font-weight:var(--euclid-font-weight-semibold);color:var(--euclid-text-primary)}.token-name{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.dropdown-arrow{color:var(--euclid-text-muted);transition:transform var(--euclid-transition-duration-fast)}.token-selector:hover .dropdown-arrow{color:var(--euclid-text-secondary)}.swap-direction{display:flex;justify-content:center;margin:var(--euclid-spacing-2) 0;position:relative}.swap-button{display:flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;background:var(--euclid-surface);border:2px solid var(--euclid-border);border-radius:50%;color:var(--euclid-text-secondary);cursor:pointer;transition:all var(--euclid-transition-duration-fast);z-index:10}.swap-button:hover{background:var(--euclid-surface-secondary);border-color:var(--euclid-border-hover);color:var(--euclid-text-primary);transform:rotate(180deg)}.swap-button:focus{outline:2px solid var(--euclid-border-focus);outline-offset:2px}.swap-button svg{width:1.25rem;height:1.25rem}.quote-info{padding:var(--euclid-spacing-4);background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-xl)}.quote-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--euclid-spacing-2)}.quote-row:last-child{margin-bottom:0}.quote-label{font-size:var(--euclid-text-size-sm);color:var(--euclid-text-secondary)}.quote-value{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-primary)}.quote-value--warning{color:var(--euclid-warning-600)}.quote-value--danger{color:var(--euclid-danger-600)}@media (max-width: 480px){.swap-card{padding:var(--euclid-spacing-4);gap:var(--euclid-spacing-3)}.swap-header{margin-bottom:var(--euclid-spacing-2)}.settings-panel{padding:var(--euclid-spacing-3)}.slippage-buttons{flex-wrap:wrap}.deadline-input{flex-direction:column;align-items:flex-start;gap:var(--euclid-spacing-1)}.deadline-input input{width:100%}.selected-token{flex-direction:column;align-items:flex-start;gap:var(--euclid-spacing-2)}.token-info{width:100%}.quote-info{padding:var(--euclid-spacing-3)}}@media (prefers-reduced-motion: reduce){.settings-button,.slippage-btn,.token-selector,.swap-button,.dropdown-arrow{transition:none}.swap-button:hover{transform:none}}.token-selector:focus-within{outline:2px solid var(--euclid-border-focus);outline-offset:2px}.quote-info.loading{position:relative;pointer-events:none}.quote-info.loading::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:1.5rem;height:1.5rem;border:2px solid var(--euclid-border);border-top:2px solid var(--euclid-interactive-primary);border-radius:50%;animation:euclid-spin 1s linear infinite}@media (prefers-contrast: high){.swap-card,.settings-panel,.selected-token,.quote-info{border-width:2px;border-color:var(--euclid-text-primary)}.slippage-btn--active{border-color:var(--euclid-text-primary);background:var(--euclid-text-primary)}}";const fe=class{constructor(i){e(this,i);this.swapInitiated=t(this,"swapInitiated");this.tokenSelect=t(this,"tokenSelect");this.quoteRequested=t(this,"quoteRequested");this.settingsChanged=t(this,"settingsChanged");this.tokens=[];this.storeTokens=[];this.storeLoading=false;this.inputToken=null;this.outputToken=null;this.inputAmount="";this.loading=false;this.disabled=false;this.walletAddress="";this.showAdvanced=false;this.cardTitle="Swap Tokens";this.outputAmount="";this.isSettingsOpen=false;this.tokenSelectorType="input";this.currentQuote=null;this.isQuoting=false;this.swapSettings={slippage:.5,deadline:20,infiniteApproval:false};this.quoteTimer=null;this.handleSwapTokens=()=>{const e=this.inputToken;const t=this.inputAmount;this.inputToken=this.outputToken;this.outputToken=e;this.inputAmount=this.outputAmount;this.outputAmount=t;this.startQuoteTimer()};this.handleMaxClick=()=>{if(this.inputToken?.balance){this.inputAmount=this.inputToken.balance;this.startQuoteTimer()}};this.openTokenSelector=e=>{k.info("Component","🔧 Opening token selector for:",e);this.tokenSelectorType=e;n.openTokenModal(e)};this.toggleSettings=()=>{this.isSettingsOpen=!this.isSettingsOpen};this.handleSlippageChange=e=>{this.swapSettings={...this.swapSettings,slippage:e};this.settingsChanged.emit(this.swapSettings);this.startQuoteTimer()};this.handleSwap=()=>{if(!this.inputToken||!this.isWalletConnectedForSwap()){n.openWalletModal(this.inputToken?.chainUID);return}if(!this.outputToken||!this.currentQuote)return;z(I.SWAP.EXECUTE_REQUEST);this.swapInitiated.emit({inputToken:this.inputToken,outputToken:this.outputToken,inputAmount:this.inputAmount,outputAmount:this.outputAmount,settings:this.swapSettings,quote:this.currentQuote})}}componentWillLoad(){this.syncWithStore()}componentDidLoad(){w.onChange("tokens",(()=>{this.syncWithStore()}));this.startQuoteTimer()}syncWithStore(){this.storeTokens=w.state.tokens.length>0?w.state.tokens:[];this.storeLoading=w.state.loading}getAvailableTokens(){const e=this.storeTokens.length>0?this.storeTokens:this.tokens;return e.map((e=>{if("tokenId"in e&&"displayName"in e&&"coinDecimal"in e){return{id:e.tokenId,symbol:e.symbol||e.displayName.toUpperCase(),name:e.displayName,address:e.address||e.tokenId,chainUID:e.chainUID||e.chain_uid||e.chain_uids?.[0]||"",decimals:e.coinDecimal,logoUrl:e.logo||e.image||undefined,balance:undefined,price:e.price?parseFloat(e.price):undefined}}else{return e}}))}getAvailableChains(){const e=this.getAvailableTokens();const t=new Map;e.forEach((e=>{if(!t.has(e.chainUID)){t.set(e.chainUID,{chain_uid:e.chainUID,display_name:this.getChainDisplayName(e.chainUID)})}}));return Array.from(t.values())}disconnectedCallback(){if(this.quoteTimer){clearTimeout(this.quoteTimer)}}handleInputChange(e){if(e.target===this.element.querySelector("#input-amount")){this.inputAmount=e.detail.value;this.startQuoteTimer()}}handleTokenModalSelect(e){if(!e.detail||!e.detail.token||!e.detail.selectorType){return}k.info("Component","🔧 Swap - received token selection:",e.detail);const{token:t,selectorType:i}=e.detail;const a={id:t.tokenId||t.id,symbol:t.symbol,name:t.name||t.displayName,address:t.address||t.tokenId,chainUID:t.chainUID||t.chain_uid,decimals:t.decimals||t.coinDecimal,logoUrl:t.logoUrl||t.logo,balance:t.balance,price:t.price};if(i==="input"){if(this.outputToken&&a.address===this.outputToken.address){this.outputToken=this.inputToken}this.inputToken=a}else{if(this.inputToken&&a.address===this.inputToken.address){this.inputToken=this.outputToken}this.outputToken=a}this.tokenSelect.emit({type:i,token:a});this.startQuoteTimer()}startQuoteTimer(){if(this.quoteTimer){clearTimeout(this.quoteTimer)}if(this.inputToken&&this.outputToken&&this.inputAmount&&parseFloat(this.inputAmount)>0){this.quoteTimer=setTimeout((()=>{this.requestQuote()}),800)}else{this.outputAmount="";this.currentQuote=null}}async requestQuote(){if(!this.inputToken||!this.outputToken||!this.inputAmount)return;this.isQuoting=true;this.quoteRequested.emit({inputToken:this.inputToken,outputToken:this.outputToken,inputAmount:this.inputAmount});setTimeout((()=>{if(this.inputToken&&this.outputToken&&this.inputAmount){const e=1.2+Math.random()*.3;const t=(parseFloat(this.inputAmount)*e).toFixed(6);this.currentQuote={inputAmount:this.inputAmount,outputAmount:t,exchangeRate:e,priceImpact:Math.random()*2,minimumReceived:(parseFloat(t)*(1-this.swapSettings.slippage/100)).toFixed(6),gasEstimate:(.001+Math.random()*.002).toFixed(4),route:[{protocol:"Euclid Protocol",poolAddress:"0x123...abc",fee:.3,inputToken:this.inputToken.symbol,outputToken:this.outputToken.symbol}]};this.outputAmount=t}this.isQuoting=false}),1e3)}canSwap(){if(!this.inputToken||!this.isWalletConnectedForSwap()){return true}return!!(this.inputToken&&this.outputToken&&this.inputAmount&&parseFloat(this.inputAmount)>0&&this.currentQuote&&!this.isQuoting&&!this.loading&&!this.disabled)}getSwapButtonText(){if(!this.inputToken||!this.isWalletConnectedForSwap()){const e=this.inputToken?.chainUID?this.getChainDisplayName(this.inputToken.chainUID):"Wallet";return`Connect ${e}`}if(!this.inputToken)return"Select Input Token";if(!this.outputToken)return"Select Output Token";if(!this.inputAmount||parseFloat(this.inputAmount)<=0)return"Enter Amount";if(this.isQuoting)return"Getting Quote...";if(this.loading)return"Swapping...";if(!this.currentQuote)return"Unable to Quote";return`Swap ${this.inputToken.symbol} for ${this.outputToken.symbol}`}isWalletConnectedForSwap(){if(!this.inputToken)return false;return o.isWalletConnected(this.inputToken.chainUID)}getChainDisplayName(e){const t={ethereum:"Ethereum",polygon:"Polygon",arbitrum:"Arbitrum",optimism:"Optimism","cosmoshub-4":"Cosmos Hub","osmosis-1":"Osmosis"};return t[e]||"Wallet"}render(){return i("div",{key:"bc4e0af6a087b29e531446635d86ef24526c27d1",class:"swap-card"},i("div",{key:"29d04b99300520a9b870f4d3dc7b419d538bb9bd",class:"swap-header"},i("h3",{key:"b4a94bb92d40708e1349cdf39d8f0c3a8137c58e",class:"swap-title"},this.cardTitle),i("button",{key:"487654b04c0ca8c238ca6891b6627633d54b8560",class:"settings-button",onClick:this.toggleSettings,type:"button","aria-label":"Swap settings"},i("svg",{key:"8ffcffad4eff03d37f4d13502c216238642c587f",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{key:"d931116e81ff3af846269cdaf8fad8f7d24eb1eb",d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})))),this.isSettingsOpen&&i("div",{key:"b0043b474124bf2ec60c1bfb94231ee77a12b9a2",class:"settings-panel"},i("div",{key:"0cff00c450c1fcefca1d2a56cd440e7e1881ceaa",class:"setting-item"},i("label",{key:"abeff86a5b2803b43019cc6141f7e6d3b313d1c0",class:"setting-label"},"Slippage Tolerance"),i("div",{key:"389b6c154cdbf54b4e6b8a83dbf02686396339c5",class:"slippage-buttons"},[.1,.5,1].map((e=>i("button",{class:{"slippage-btn":true,"slippage-btn--active":this.swapSettings.slippage===e},onClick:()=>this.handleSlippageChange(e),type:"button"},e,"%"))),i("input",{key:"88543e3ebfbc93c1ef9db40c537b547660b68b6a",class:"slippage-input",type:"number",min:"0",max:"50",step:"0.1",value:this.swapSettings.slippage,onInput:e=>this.handleSlippageChange(parseFloat(e.target.value)),placeholder:"Custom"}))),i("div",{key:"5051fbb78946e2f24cb24f1ac48d8f0264eff1b1",class:"setting-item"},i("label",{key:"6153d7f511a5e032b1f69614be678b3a30287e77",class:"setting-label"},"Transaction Deadline"),i("div",{key:"af9b5800664823aac771a1426097fa8d54636242",class:"deadline-input"},i("input",{key:"81e7edab06d17452a967ecf60fd94ceaa23f3160",type:"number",min:"1",max:"4320",value:this.swapSettings.deadline,onInput:e=>this.swapSettings={...this.swapSettings,deadline:parseInt(e.target.value)}}),i("span",{key:"a01a046ac0895474b64547761aac015699e76228"},"minutes")))),i("div",{key:"e2046ebc99bbb927ea34370116a3855fe034a87e",class:"token-input-section"},i("div",{key:"e760973e25b1c482edfa1fed15ac514877477f80",class:"input-header"},i("span",{key:"815f3397cdd9e007c90ca079a2fe08520671eb68",class:"input-label"},"From"),this.inputToken?.balance&&i("span",{key:"1737f3137f31564d629785cb8f4648b557ec598c",class:"balance-label"},"Balance: ",parseFloat(this.inputToken.balance).toLocaleString())),i("euclid-token-input",{key:"8d89c52a78d9c4eeff0b0a27d448e37fbc719f2d",id:"input-amount",value:this.inputAmount,placeholder:"0.0","show-max":!!this.inputToken?.balance,"token-selectable":false,onMaxClick:this.handleMaxClick},i("div",{key:"4318d9023b5cfd4b14f153084156e6b5c127e50a",slot:"token",class:"token-selector",onClick:e=>{e.preventDefault();e.stopPropagation();this.openTokenSelector("input")}},this.inputToken?i("div",{class:"selected-token"},this.inputToken.logoUrl&&i("img",{src:this.inputToken.logoUrl,alt:this.inputToken.symbol,class:"token-logo"}),i("div",{class:"token-info"},i("span",{class:"token-symbol"},this.inputToken.symbol),i("span",{class:"token-name"},this.inputToken.name)),i("svg",{class:"dropdown-arrow",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M7 10l5 5 5-5z"}))):i("div",{class:"select-token-button"},i("span",null,"Select Token"),i("svg",{class:"dropdown-arrow",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M7 10l5 5 5-5z"})))))),i("div",{key:"d2fcac3a4a402fd27b2f151fef62fe7596315150",class:"swap-direction"},i("button",{key:"79771bfd288ceb3f1641746e027b7ae627a73ca2",class:"swap-button",onClick:this.handleSwapTokens,type:"button","aria-label":"Swap token directions"},i("svg",{key:"50fdfa31c2160f7929e0f0663321982a00c16b7d",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{key:"2c3ea1ae0a58196151098e75549dc4837849073b",d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"})))),i("div",{key:"7550e2a97173ebca7f6ca69f5c214b0ff26acb3e",class:"token-input-section"},i("div",{key:"003212b23da28617a44af28a2f05e533949b1d76",class:"input-header"},i("span",{key:"83470a440c439bba0e95eaf5adbaea9c81fea6b0",class:"input-label"},"To"),this.outputToken?.balance&&i("span",{key:"dfb802bf80c0ef7bfd468c08d836868db6822a22",class:"balance-label"},"Balance: ",parseFloat(this.outputToken.balance).toLocaleString())),i("euclid-token-input",{key:"9c4bcc191422119bf4a6463d4c301ed390410c00",id:"output-amount",value:this.outputAmount,placeholder:"0.0",disabled:true,loading:this.isQuoting,"token-selectable":false},i("div",{key:"5823fdf860f11023c753e55fd5bf12496446c80d",slot:"token",class:"token-selector",onClick:e=>{e.preventDefault();e.stopPropagation();this.openTokenSelector("output")}},this.outputToken?i("div",{class:"selected-token"},this.outputToken.logoUrl&&i("img",{src:this.outputToken.logoUrl,alt:this.outputToken.symbol,class:"token-logo"}),i("div",{class:"token-info"},i("span",{class:"token-symbol"},this.outputToken.symbol),i("span",{class:"token-name"},this.outputToken.name)),i("svg",{class:"dropdown-arrow",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M7 10l5 5 5-5z"}))):i("div",{class:"select-token-button"},i("span",null,"Select Token"),i("svg",{class:"dropdown-arrow",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M7 10l5 5 5-5z"})))))),this.currentQuote&&i("div",{key:"51fb72397ef75ebce155952eef3d0d00a69ae333",class:"quote-info"},i("div",{key:"f7ea16d918c801d8df047c7c2818cfe1bb90653d",class:"quote-row"},i("span",{key:"7c63249f64e81fb1e25ae918355a511e87ec1bf1",class:"quote-label"},"Rate"),i("span",{key:"e66e0b9342206b08d7bc3058ef286ce74d2a3bbc",class:"quote-value"},"1 ",this.inputToken?.symbol," = ",this.currentQuote.exchangeRate.toFixed(6)," ",this.outputToken?.symbol)),this.currentQuote.priceImpact>.1&&i("div",{key:"80f0a161a394afde29470bceaa215be1e6222b37",class:"quote-row"},i("span",{key:"2aa6c34fa7451b3d2ab31f088e44fc279cf2a22d",class:"quote-label"},"Price Impact"),i("span",{key:"84af6f689479904e17288e3996fc7123f7e07f64",class:{"quote-value":true,"quote-value--warning":this.currentQuote.priceImpact>3,"quote-value--danger":this.currentQuote.priceImpact>15}},this.currentQuote.priceImpact.toFixed(2),"%")),i("div",{key:"25d3bdd52c951a2819d28b67cc1452ba7138b1ad",class:"quote-row"},i("span",{key:"25904e7d38a9fd10d1f21f3dcea66e374db1c127",class:"quote-label"},"Minimum Received"),i("span",{key:"7f5bb630a026a3d88786c003fa82960a30b2ffa5",class:"quote-value"},this.currentQuote.minimumReceived," ",this.outputToken?.symbol)),i("div",{key:"b9cc03d65af00cc62e7fb312111a850666b022c2",class:"quote-row"},i("span",{key:"4fed853f300d6a805a4f415aab509711ad109937",class:"quote-label"},"Network Fee"),i("span",{key:"3c5e546212693cdaedefcf5ec70da03e826f19d9",class:"quote-value"},this.currentQuote.gasEstimate," ETH"))),i("euclid-button",{key:"11c311a5aaec61a29150e0ac03d2538f095d6ae7",variant:"primary",size:"lg","full-width":true,loading:this.loading,disabled:!this.canSwap(),onClick:this.handleSwap},this.getSwapButtonText()))}get element(){return s(this)}};fe.style=he;var me;class ge{get keplr(){return window.keplr}isInstalled(){return!!window.keplr}async connect(e){try{if(!this.isInstalled()){return{success:false,error:"Keplr wallet not installed"}}if(e.type==="Cosmwasm"){try{await this.keplr.experimentalSuggestChain({chainId:e.chain_id,chainName:e.display_name,rpc:"https://rpc.cosmos.network",rest:"https://api.cosmos.network",bip44:{coinType:118},bech32Config:{bech32PrefixAccAddr:this.getAddressPrefix(e.chain_id),bech32PrefixAccPub:this.getAddressPrefix(e.chain_id)+"pub",bech32PrefixValAddr:this.getAddressPrefix(e.chain_id)+"valoper",bech32PrefixValPub:this.getAddressPrefix(e.chain_id)+"valoperpub",bech32PrefixConsAddr:this.getAddressPrefix(e.chain_id)+"valcons",bech32PrefixConsPub:this.getAddressPrefix(e.chain_id)+"valconspub"},currencies:[{coinDenom:"ATOM",coinMinimalDenom:"uatom",coinDecimals:6}],feeCurrencies:[{coinDenom:"ATOM",coinMinimalDenom:"uatom",coinDecimals:6}],stakeCurrency:{coinDenom:"ATOM",coinMinimalDenom:"uatom",coinDecimals:6}})}catch(e){k.warn("Utils","Failed to suggest chain to Keplr:",e)}}await this.keplr.enable(e.chain_id);const t=this.keplr.getOfflineSigner(e.chain_id);const i=await t.getAccounts();if(i.length===0){return{success:false,error:"No accounts found"}}return{success:true,address:i[0].address,chainId:e.chain_id}}catch(e){return{success:false,error:e instanceof Error?e.message:"Failed to connect to Keplr"}}}async disconnect(e){k.info("Utils","Keplr disconnect requested for:",e)}async getAddress(e){try{if(!this.isInstalled())return null;const t=await this.keplr.getKey(e);return t.bech32Address}catch{return null}}async switchChain(e){try{await this.keplr.enable(e.chain_id);return true}catch{return false}}getAddressPrefix(e){const t={"cosmoshub-4":"cosmos","osmosis-1":"osmo","juno-1":"juno","stargaze-1":"stars"};return t[e]||"cosmos"}}class be{get ethereum(){return window.ethereum}isInstalled(){return!!window.ethereum&&window.ethereum.isMetaMask}async connect(e){try{if(!this.isInstalled()){return{success:false,error:"MetaMask not installed"}}if(e.type!=="EVM"){return{success:false,error:"MetaMask only supports EVM chains"}}const t=await this.ethereum.request({method:"eth_requestAccounts"});if(!Array.isArray(t)||t.length===0){return{success:false,error:"No accounts found"}}const i=await this.switchChain(e);if(!i){return{success:false,error:"Failed to switch network"}}return{success:true,address:t[0],chainId:e.chain_id}}catch(e){return{success:false,error:e instanceof Error?e.message:"Failed to connect to MetaMask"}}}async disconnect(e){}async getAddress(e){try{if(!this.isInstalled())return null;const e=await this.ethereum.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0?e[0]:null}catch{return null}}async switchChain(e){try{const t=`0x${parseInt(e.chain_id).toString(16)}`;try{await this.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]});return true}catch(i){if(i.code===4902){await this.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:e.display_name,rpcUrls:["https://rpc.example.com"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},blockExplorerUrls:e.explorer_url?[e.explorer_url]:[]}]});return true}throw i}}catch{return false}}}class ve{get cosmostation(){return window.cosmostation}isInstalled(){return!!window.cosmostation}async connect(e){try{if(!this.isInstalled()){return{success:false,error:"Cosmostation wallet not installed"}}if(e.type!=="Cosmwasm"){return{success:false,error:"Cosmostation only supports Cosmos chains"}}const t=await this.cosmostation.cosmos.request({method:"cos_requestAccount",params:{chainName:e.chain_id}});return{success:true,address:t.address,chainId:e.chain_id}}catch(e){return{success:false,error:e instanceof Error?e.message:"Failed to connect to Cosmostation"}}}async disconnect(e){k.info("Utils","Cosmostation disconnect requested for:",e)}async getAddress(e){try{if(!this.isInstalled())return null;const t=await this.cosmostation.cosmos.request({method:"cos_account",params:{chainName:e}});return t?.address||null}catch{return null}}async switchChain(e){return true}}class ye{get phantom(){return window.phantom?.ethereum}get phantomSolana(){return window.phantom?.solana}isInstalled(){return!!(this.phantom||this.phantomSolana?.isPhantom)}async connect(e){try{if(!this.isInstalled()){return{success:false,error:"Phantom wallet not installed"}}if(e.type!=="EVM"){return{success:false,error:"Phantom only supports EVM chains"}}if(!this.phantom){return{success:false,error:"Phantom Ethereum provider not available. Please enable Ethereum support in Phantom."}}const t=await this.phantom.request({method:"eth_requestAccounts"});if(!Array.isArray(t)||t.length===0){return{success:false,error:"No accounts found"}}return{success:true,address:t[0],chainId:e.chain_id}}catch(e){return{success:false,error:e instanceof Error?e.message:"Failed to connect to Phantom"}}}async disconnect(e){}async getAddress(e){try{if(!this.isInstalled())return null;const e=await this.phantom.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0?e[0]:null}catch{return null}}async switchChain(e){try{const t=`0x${parseInt(e.chain_id).toString(16)}`;await this.phantom.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]});return true}catch{return false}}}class xe{static getAdapter(e){let t=e;if(e==="cosmostation"){t="cosmostation"}else if(e==="walletconnect"){t="metamask"}else if(e==="custom"){t="metamask"}else if(e==="other"){t="metamask"}return this.adapters.get(t)||null}static getAvailableWallets(){return Array.from(this.adapters.entries()).map((([e,t])=>({type:e,installed:t.isInstalled()})))}static async connectWallet(e,t){const i=this.getAdapter(e);if(!i){return{success:false,error:`Adapter not found for ${e}`}}return i.connect(t)}static async disconnectWallet(e,t){const i=this.getAdapter(e);if(i){await i.disconnect(t)}}}me=xe;xe.adapters=new Map;(()=>{me.adapters.set("keplr",new ge);me.adapters.set("metamask",new be);me.adapters.set("phantom",new ye);me.adapters.set("cosmostation",new ve)})();const we=class{constructor(t){e(this,t);this.isInitialized=false;this.routePollingActive=false}async componentWillLoad(){await this.initialize()}async componentDidLoad(){}disconnectedCallback(){this.stopRoutePolling();j.unregister("swap-routes")}async initialize(){k.info("Component","🔄 Initializing Swap Controller...");m.onChange("fromToken",(()=>this.handleTokenChange()));m.onChange("toToken",(()=>this.handleTokenChange()));m.onChange("fromAmount",(()=>this.handleAmountChange()));this.isInitialized=true;k.info("Component","✅ Swap Controller initialized")}handleTokenChange(){m.setRoutes([]);m.setSelectedRoute(undefined);this.stopRoutePolling();if(m.state.fromToken&&m.state.toToken&&m.state.fromAmount){this.startRoutePolling()}}handleAmountChange(){const{fromToken:e,toToken:t,fromAmount:i}=m.state;if(e&&t&&i&&parseFloat(i)>0){this.debounceRouteFetch()}else{this.stopRoutePolling();m.setRoutes([])}}debounceRouteFetch(){if(this.debounceTimeout){clearTimeout(this.debounceTimeout)}this.debounceTimeout=window.setTimeout((()=>{this.startRoutePolling()}),500)}startRoutePolling(){if(this.routePollingActive)return;k.info("Component","🔄 Starting route polling...");this.routePollingActive=true;this.fetchRoutes();j.register("swap-routes",(async()=>{await this.fetchRoutes()}),{activeInterval:g.ROUTE_REFRESH_INTERVAL,backgroundInterval:g.ROUTE_REFRESH_INTERVAL*3,pauseOnHidden:false})}stopRoutePolling(){if(!this.routePollingActive)return;k.info("Component","⏹️ Stopping route polling...");this.routePollingActive=false;j.unregister("swap-routes");if(this.routePollingInterval){clearInterval(this.routePollingInterval)}}async fetchRoutes(){const{fromToken:e,toToken:t,fromAmount:i}=m.state;if(!e||!t||!i||parseFloat(i)<=0){return}const a=`routes-${e.id}-${t.id}-${i}`;return N.request(a,(async()=>{try{m.setLoadingRoutes(true);k.info("Component","🛣️ Fetching swap routes:",{from:e.symbol,to:t.symbol,amount:i});const a=await b.getRoutesWrapped({amount_in:i,token_in:e.id,token_out:t.id,external:true});if(a.success&&a.data){const e=a.data.paths||[];m.setRoutes(e);if(e.length>0&&!m.state.selectedRoute){m.setSelectedRoute(e[0])}k.info("Component",`✅ Found ${e.length} swap routes`);return{success:true,routeCount:e.length}}else{k.warn("Component","⚠️ Failed to fetch routes:",a.error);m.setRoutes([]);return{success:false,error:a.error}}}catch(e){k.error("Component","❌ Error fetching routes:",e);m.setRoutes([]);throw e}finally{m.setLoadingRoutes(false)}}),{ttl:5e3})}getUserAddressForChain(e){const t=o.getWallet(e);return t?.address}async executeSwap(){try{const{fromToken:e,toToken:t,fromAmount:i,selectedRoute:a,slippage:s}=m.state;if(!e||!t||!i||!a){return{success:false,error:"Missing required swap parameters"}}const r=o.getWallet(e.chainUID);if(!r?.address){return{success:false,error:`Wallet not connected for ${e.chainUID}`}}if(!o.hasSufficientBalance(e.chainUID,e.id,i)){return{success:false,error:"Insufficient balance"}}m.setSwapping(true);k.info("Component","🔄 Executing swap...",{from:e.symbol,to:t.symbol,amount:i,route:a.id});const n=xe.getAdapter(r.walletType);if(!n){return{success:false,error:`Wallet adapter not found for ${r.walletType}`}}const l=await b.createSwapTransactionWrapped({amount_in:i,asset_in:{token:e.id,token_type:{native:{denom:e.id}}},slippage:s.toString(),minimum_receive:this.calculateMinimumReceived(a.outputAmount,s),sender:{address:r.address,chain_uid:e.chain_uid||e.chainUID},swap_path:{path:a.path||[]},timeout:(Math.floor(Date.now()/1e3)+1200).toString()});if(l.success&&l.data){const t=`swap_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;o.addTransaction(e.chainUID,{txHash:t,timestamp:Date.now(),type:"swap"});z(I.TRANSACTION.SUBMITTED,{txHash:t,chainUID:e.chainUID,type:"swap"});k.info("Component","✅ Swap transaction submitted:",t);return{success:true,txHash:t}}else{return{success:false,error:l.error||"Swap execution failed"}}}catch(e){const t=e instanceof Error?e.message:"Unknown error occurred";k.error("Component","❌ Swap execution error:",t);return{success:false,error:t}}finally{m.setSwapping(false)}}calculateMinimumReceived(e,t){try{const i=BigInt(e);const a=BigInt(Math.floor((100-t)*100));const s=i*a/BigInt(1e4);return s.toString()}catch{return e}}async handleSwapExecution(){k.info("Component","🔄 Swap execution requested via event");const e=await this.executeSwap();if(e.success){z(I.SWAP.EXECUTE_SUCCESS,{txHash:e.txHash})}else{z(I.SWAP.EXECUTE_FAILED,{error:e.error})}}handleRouteRefresh(){k.info("Component","🔄 Manual route refresh requested");this.fetchRoutes()}handleStopPolling(){this.stopRoutePolling()}handleStartPolling(){this.startRoutePolling()}onInitializedChange(e){if(e){k.info("Component","📊 Swap Controller ready for route polling")}}render(){return null}static get watchers(){return{isInitialized:["onInitializedChange"]}}};const ke=":host{display:block;width:100%}.token-content{width:100%}";const Me=class{constructor(i){e(this,i);this.tokenSelect=t(this,"tokenSelect");this.handleTokenSelected=e=>{const t=e.detail.item;const i=this.convertTokenMetadataToTokenInfo(t);const a=n.state.tokenSelectorType||"input";this.tokenSelect.emit({token:i,selectorType:a});n.closeTokenModal()}}convertTokenMetadataToTokenInfo(e){return{tokenId:e.tokenId,symbol:e.symbol||e.displayName.toUpperCase(),name:e.displayName,decimals:e.coinDecimal,logoUrl:e.logo||e.image,balance:"0",displayName:e.displayName,coinDecimal:e.coinDecimal,chain_uid:e.chain_uid||e.chain_uids?.[0]||"",chainUID:e.chainUID||e.chain_uid||e.chain_uids?.[0]||"",address:e.address||e.tokenId,logo:e.logo||e.image,price:e.price?parseFloat(e.price):undefined,priceUsd:e.price}}render(){return i("div",{key:"793167ba76f2614aa1e0153362b1ea8db02eafa1",class:"token-content"},i("euclid-data-list",{key:"8578d645dd684323aba3849468e8cd9385fa7327",dataType:"tokens",displayMode:"list-item",itemsPerPage:20,infiniteScroll:true,useParentScroll:true,searchable:true,sortable:true,showStats:false,onItemSelected:this.handleTokenSelected}))}};Me.style=ke;const Ce=":host{display:block;width:100%}.token-input-wrapper{width:100%}.token-input-label{display:block;font-size:var(--euclid-text-sm);font-weight:var(--euclid-font-medium);color:var(--euclid-text-secondary);margin-bottom:var(--euclid-space-2)}.token-input{position:relative;background:var(--euclid-surface);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-xl);transition:all var(--euclid-transition-fast);overflow:hidden}.token-input:hover:not(.token-input--disabled){border-color:var(--euclid-border-hover)}.token-input--focused{border-color:var(--euclid-interactive-primary);box-shadow:0 0 0 3px rgba(37, 99, 235, 0.1)}.token-input--disabled{background:var(--euclid-surface-secondary);border-color:var(--euclid-border);opacity:0.6;cursor:not-allowed}.token-input--error{border-color:var(--euclid-danger-500);box-shadow:0 0 0 3px rgba(239, 68, 68, 0.1)}.token-input--loading{pointer-events:none}.token-input-main{display:flex;align-items:center;min-height:3.5rem;padding:var(--euclid-space-3) var(--euclid-space-4)}.input-section{flex:1;position:relative;display:flex;align-items:center}.amount-input{width:100%;background:transparent;border:none;outline:none;font-size:var(--euclid-text-lg);font-weight:var(--euclid-font-medium);color:var(--euclid-text-primary);padding:0;margin:0}.amount-input::placeholder{color:var(--euclid-text-muted);font-weight:var(--euclid-font-normal)}.amount-input:disabled{cursor:not-allowed}.loading-spinner{position:absolute;right:0;display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}.spinner{width:1rem;height:1rem;border:2px solid var(--euclid-border);border-top:2px solid var(--euclid-interactive-primary);border-radius:50%;animation:euclid-spin 1s linear infinite}.token-selector{display:flex;align-items:center;margin-left:var(--euclid-space-4);padding:var(--euclid-space-2) var(--euclid-space-3);border-radius:var(--euclid-radius-lg);background:var(--euclid-surface-secondary);border:1px solid var(--euclid-border);transition:all var(--euclid-transition-fast);min-width:120px;justify-content:center}.token-selector--clickable{cursor:pointer}.token-selector--clickable:hover:not(.token-selector--empty){background:var(--euclid-surface-secondary);transform:translateY(-1px)}.token-selector--empty{border-style:dashed;color:var(--euclid-text-muted)}.token-selector--clickable.token-selector--empty:hover{background:var(--euclid-surface-secondary);border-color:var(--euclid-interactive-primary);color:var(--euclid-interactive-primary)}.token-info{display:flex;align-items:center;gap:var(--euclid-space-2);font-weight:var(--euclid-font-medium);color:var(--euclid-text-primary)}.token-logo{width:var(--euclid-space-6);height:var(--euclid-space-6);border-radius:50%;background:var(--euclid-surface-secondary)}.token-symbol{font-size:var(--euclid-text-base);font-weight:var(--euclid-font-semibold)}.select-token{display:flex;align-items:center;gap:var(--euclid-space-2);font-size:var(--euclid-text-sm);font-weight:var(--euclid-font-medium)}.chevron-icon{width:1rem;height:1rem;transition:transform var(--euclid-transition-fast);color:var(--euclid-text-muted)}.token-selector--clickable:hover .chevron-icon{color:var(--euclid-interactive-primary);transform:translateY(1px)}.token-input-footer{display:flex;align-items:center;justify-content:space-between;padding:var(--euclid-space-2) var(--euclid-space-4);background:var(--euclid-surface-secondary);border-top:1px solid var(--euclid-border)}.balance-section{display:flex;align-items:center;gap:var(--euclid-space-1);font-size:var(--euclid-text-sm)}.balance-label{color:var(--euclid-text-secondary);font-weight:var(--euclid-font-normal)}.balance-value{color:var(--euclid-text-primary);font-weight:var(--euclid-font-medium)}.max-button{padding:var(--euclid-space-1) var(--euclid-space-3);background:var(--euclid-interactive-primary);color:var(--euclid-white);border:none;border-radius:var(--euclid-radius-lg);font-size:var(--euclid-text-sm);font-weight:var(--euclid-font-semibold);cursor:pointer;transition:all var(--euclid-transition-fast)}.max-button:hover:not(:disabled){background:var(--euclid-interactive-primary-hover);transform:translateY(-1px)}.max-button:active:not(:disabled){transform:translateY(0)}.max-button:disabled{background:var(--euclid-text-muted);cursor:not-allowed;transform:none}.error-message{margin-top:var(--euclid-space-2);font-size:var(--euclid-text-sm);color:var(--euclid-danger-500);font-weight:var(--euclid-font-medium)}@media (max-width: 640px){.token-input-main{min-height:3rem;flex-direction:column;align-items:stretch;gap:var(--euclid-space-3)}.input-section{order:2}.token-selector{order:1;margin-left:0;justify-content:flex-start}}@media (prefers-reduced-motion: reduce){.token-selector,.max-button,.spinner,.chevron-icon{animation:none !important;transition:none !important}}.token-selector--clickable:focus-visible,.max-button:focus-visible{outline:2px solid var(--euclid-interactive-primary);outline-offset:2px}.amount-input:focus-visible{outline:none}@media (prefers-color-scheme: dark){:host{--gray-100:#212529;--gray-200:#343a40;--gray-300:#495057;--gray-400:#6c757d;--gray-500:#adb5bd;--gray-600:#ced4da;--gray-700:#dee2e6;--gray-800:#e9ecef;--gray-900:#f8f9fa;--white-color:#212529;--dark-color:#f8f9fa}}.token-input-wrapper{width:100%}.token-input-label{display:block;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--gray-700);margin-bottom:0.5rem}.token-input{position:relative;background:var(--white-color);border:2px solid var(--gray-300);border-radius:var(--border-radius-lg);transition:all var(--transition-fast);overflow:hidden}.token-input:hover:not(.token-input--disabled){border-color:var(--gray-400)}.token-input--focused{border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(0, 123, 255, 0.1)}.token-input--disabled{background:var(--gray-100);border-color:var(--gray-200);opacity:0.6;cursor:not-allowed}.token-input--error{border-color:var(--danger-color);box-shadow:0 0 0 3px rgba(220, 53, 69, 0.1)}.token-input--loading{pointer-events:none}.token-input-main{display:flex;align-items:center;min-height:3.5rem;padding:0.75rem 1rem}.input-section{flex:1;position:relative;display:flex;align-items:center}.amount-input{width:100%;background:transparent;border:none;outline:none;font-size:var(--font-size-lg);font-weight:var(--font-weight-medium);color:var(--gray-900);padding:0;margin:0}.amount-input::placeholder{color:var(--gray-400);font-weight:var(--font-weight-normal)}.amount-input:disabled{cursor:not-allowed}.loading-spinner{position:absolute;right:0;display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}.spinner{width:1rem;height:1rem;border:2px solid var(--gray-300);border-top:2px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.token-selector{display:flex;align-items:center;margin-left:1rem;padding:0.5rem 0.75rem;border-radius:var(--border-radius);background:var(--gray-100);border:1px solid var(--gray-200);transition:all var(--transition-fast);min-width:120px;justify-content:center}.token-selector--clickable{cursor:pointer}.token-selector--clickable:hover:not(.token-selector--empty){background:var(--gray-200);transform:translateY(-1px)}.token-selector--empty{border-style:dashed;color:var(--gray-500)}.token-selector--clickable.token-selector--empty:hover{background:var(--gray-200);border-color:var(--primary-color);color:var(--primary-color)}.token-info{display:flex;align-items:center;gap:0.5rem;font-weight:var(--font-weight-medium);color:var(--gray-900)}.token-logo{width:1.5rem;height:1.5rem;border-radius:50%;background:var(--gray-200)}.token-symbol{font-size:var(--font-size-base);font-weight:var(--font-weight-semibold)}.select-token{display:flex;align-items:center;gap:0.5rem;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}.chevron-icon{width:1rem;height:1rem;transition:transform var(--transition-fast);color:var(--gray-500)}.token-selector--clickable:hover .chevron-icon{color:var(--primary-color);transform:translateY(1px)}.token-input-footer{display:flex;align-items:center;justify-content:space-between;padding:0.5rem 1rem;background:var(--gray-50);border-top:1px solid var(--gray-200)}@media (prefers-color-scheme: dark){.token-input-footer{background:var(--gray-200)}}.balance-section{display:flex;align-items:center;gap:0.25rem;font-size:var(--font-size-sm)}.balance-label{color:var(--gray-600);font-weight:var(--font-weight-normal)}.balance-value{color:var(--gray-900);font-weight:var(--font-weight-medium)}.max-button{padding:0.25rem 0.75rem;background:var(--primary-color);color:var(--white-color);border:none;border-radius:var(--border-radius);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);cursor:pointer;transition:all var(--transition-fast)}.max-button:hover:not(:disabled){background:var(--primary-color-dark);transform:translateY(-1px)}.max-button:active:not(:disabled){transform:translateY(0)}.max-button:disabled{background:var(--gray-400);cursor:not-allowed;transform:none}.error-message{margin-top:0.5rem;font-size:var(--font-size-sm);color:var(--danger-color);font-weight:var(--font-weight-medium)}@media (max-width: 640px){.token-input-main{flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem}.input-section{order:2}.token-selector{order:1;margin-left:0;justify-content:space-between;min-width:auto}.token-input-footer{flex-direction:column;gap:0.5rem;align-items:stretch}.balance-section{justify-content:center}.max-button{align-self:stretch}}@media (prefers-contrast: high){.token-input{border-width:3px}.token-input--focused{box-shadow:0 0 0 4px rgba(0, 123, 255, 0.3)}.token-input--error{box-shadow:0 0 0 4px rgba(220, 53, 69, 0.3)}}@media (prefers-reduced-motion: reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important}.spinner{animation:none}}.token-selector--clickable:focus-visible,.max-button:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}.amount-input:focus-visible{outline:none;}";const De=class{constructor(i){e(this,i);this.valueChange=t(this,"valueChange");this.tokenSelect=t(this,"tokenSelect");this.maxClick=t(this,"maxClick");this.value="";this.placeholder="0.0";this.disabled=false;this.showBalance=true;this.showMax=true;this.loading=false;this.tokenSelectable=true;this.focused=false;this.hasError=false;this.handleInputChange=e=>{const t=e.target;let i=t.value;i=i.replace(/[^0-9.]/g,"");const a=i.split(".");if(a.length>2){i=a[0]+"."+a.slice(1).join("")}if(this.token?.decimals&&a.length===2){const e=a[1];if(e.length>this.token.decimals){i=a[0]+"."+e.slice(0,this.token.decimals)}}this.value=i;t.value=i;this.valueChange.emit(i)};this.handleInputFocus=()=>{this.focused=true};this.handleInputBlur=()=>{this.focused=false};this.handleTokenClick=()=>{if(this.tokenSelectable&&!this.disabled){this.tokenSelect.emit()}};this.handleMaxClick=()=>{if(this.token?.balance&&!this.disabled){this.value=this.token.balance;if(this.inputRef){this.inputRef.value=this.token.balance}this.valueChange.emit(this.token.balance);this.maxClick.emit()}}}onValueChange(e){this.validateInput(e)}onErrorChange(e){this.hasError=!!e}onTokenChange(){this.updateUserBalance()}componentWillLoad(){this.setupStoreSubscriptions();this.updateUserBalance()}disconnectedCallback(){}setupStoreSubscriptions(){o.onChange("balances",(()=>{this.updateUserBalance()}))}updateUserBalance(){if(this.token?.symbol){const e=o.getAllConnectedWallets();if(e.length>0){const t=e[0].chainUID;const i=o.getWalletBalance(t,this.token.symbol);this.userBalance=i?.amount||"0"}else{this.userBalance="0"}}}validateInput(e){this.hasError=false;if(!e)return;const t=parseFloat(e);if(isNaN(t)||t<0){this.hasError=true;return}if(this.token?.balance&&this.showBalance){const e=parseFloat(this.token.balance);if(t>e){this.hasError=true;return}}}formatBalance(e){const t=parseFloat(e);if(isNaN(t))return"0";if(t<.001)return"<0.001";if(t<1)return t.toFixed(6);if(t<1e3)return t.toFixed(3);if(t<1e6)return(t/1e3).toFixed(2)+"K";return(t/1e6).toFixed(2)+"M"}render(){const e={"token-input":true,"token-input--focused":this.focused,"token-input--disabled":this.disabled,"token-input--error":this.hasError||!!this.error,"token-input--loading":this.loading};const t={"token-selector":true,"token-selector--clickable":this.tokenSelectable&&!this.disabled,"token-selector--empty":!this.token};return i("div",{key:"43703f9aa34c0c90ec321465e59db955687de73a",class:"token-input-wrapper"},this.label&&i("label",{key:"2cdc1d7b2389d306503e6eb156a37048640494b2",class:"token-input-label"},this.label),i("div",{key:"64431f565be3c1d3b93a3a13f74ff9df0f2590b4",class:e},i("div",{key:"39cb8411c08af4c8b9e9b03e142cab7bb823b23f",class:"token-input-main"},i("div",{key:"3574b42b04dfb1eba8e746e47578821c4508d82e",class:"input-section"},i("input",{key:"e435d0181793fbfb4172fa45eb64a9db45b3b36a",ref:e=>this.inputRef=e,type:"text",inputMode:"decimal",placeholder:this.placeholder,value:this.value,disabled:this.disabled,onInput:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,class:"amount-input"}),this.loading&&i("div",{key:"1eb8c4db0dff65bf95f99d2c46bd2c133dece8fd",class:"loading-spinner"},i("div",{key:"fb6041a9cefcd57b498dcac7ece8bd67347a4c79",class:"spinner"}))),i("div",{key:"f33a3bc36d713b2b37c6da4c366faac9e2f4bc05",class:t,onClick:this.tokenSelectable&&!this.disabled?this.handleTokenClick:undefined},i("slot",{key:"0eb6b4e727f9f1717804b3367a8b36bfed51df47",name:"token"},this.token?i("div",{class:"token-info"},this.token.logoUrl&&i("img",{src:this.token.logoUrl,alt:this.token.symbol,class:"token-logo"}),i("span",{class:"token-symbol"},this.token.symbol),this.tokenSelectable&&!this.disabled&&i("svg",{class:"chevron-icon",viewBox:"0 0 20 20",fill:"currentColor"},i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"}))):i("div",{class:"select-token"},i("span",null,"Select Token"),this.tokenSelectable&&!this.disabled&&i("svg",{class:"chevron-icon",viewBox:"0 0 20 20",fill:"currentColor"},i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})))))),(this.showBalance||this.showMax)&&this.token&&i("div",{key:"0efe6c51df528d85504ad865856e2afcc42ee9b8",class:"token-input-footer"},this.showBalance&&(this.userBalance||this.token.balance)&&i("div",{key:"c04e2cd7b02b42836f5bd882cab0fd11b4c46e91",class:"balance-section"},i("span",{key:"98451aa55e045cd4a72c77b9e2906e98b39c7516",class:"balance-label"},"Balance:"),i("span",{key:"d0e7c3e5af1a4e193ee25e9f2db381da445d5495",class:"balance-value"},this.formatBalance(this.userBalance||this.token.balance||"0")," ",this.token.symbol)),this.showMax&&this.token.balance&&i("button",{key:"f5ed0eec24c363f1b21e62eef821e7a021eb46c5",class:"max-button",onClick:this.handleMaxClick,disabled:this.disabled,type:"button"},"MAX"))),(this.error||this.hasError)&&i("div",{key:"da9fdc11e55e09737cab612fb18e5eeb2c4ceb65",class:"error-message"},this.error||"Invalid amount"))}static get watchers(){return{value:["onValueChange"],error:["onErrorChange"],token:["onTokenChange"]}}};De.style=Ce;const ze=class{constructor(t){e(this,t);this.isInitialized=false;this.trackingTransactions=new Map}async componentWillLoad(){await this.initialize()}async componentDidLoad(){}disconnectedCallback(){this.stopTracking();j.unregister("tx-tracker")}async initialize(){k.info("Component","🔍 Initializing Transaction Tracker Controller...");this.startTracking();this.isInitialized=true;k.info("Component","✅ Transaction Tracker Controller initialized")}startTracking(){j.register("tx-tracker",(async()=>{await this.checkPendingTransactions()}),{activeInterval:1e4,backgroundInterval:3e4,pauseOnHidden:false})}stopTracking(){j.unregister("tx-tracker");if(this.trackingInterval){clearInterval(this.trackingInterval)}}async trackTransaction(e,t,i){k.info("Component","🔍 Starting to track transaction:",{txHash:e,chainUID:t,type:i});this.trackingTransactions.set(e,{chainUID:t,type:i,pollCount:0});await this.checkTransactionStatus(e,t,i)}async checkPendingTransactions(){const e=Array.from(this.trackingTransactions.entries()).map((([e,{chainUID:t,type:i,pollCount:a}])=>this.checkTransactionStatus(e,t,i,a)));await Promise.allSettled(e)}async checkTransactionStatus(e,t,i,a=0){const s=`tx-status-${e}-${t}`;await N.request(s,(async()=>{try{k.info("Component",`🔍 Checking transaction status: ${e}`);const s=await b.trackTransactionWrapped(e,t);if(s.success&&s.data){const{status:r}=s.data;o.updateTransactionStatus(t,e,r);if(r==="confirmed"||r==="failed"){this.trackingTransactions.delete(e);z(I.TRANSACTION.FINALIZED,{txHash:e,chainUID:t,type:i,status:r});k.info("Component",`✅ Transaction finalized: ${e} - Status: ${r}`);if(r==="confirmed"){this.refreshUserDataAfterSuccess(t,i)}}else{const s=a+1;if(s>=120){k.warn("Component",`⚠️ Transaction tracking timeout: ${e}`);this.trackingTransactions.delete(e);o.updateTransactionStatus(t,e,"failed");z(I.TRANSACTION.TIMEOUT,{txHash:e,chainUID:t,type:i})}else{this.trackingTransactions.set(e,{chainUID:t,type:i,pollCount:s})}}}else{k.warn("Component",`⚠️ Failed to check transaction status: ${e}`,s.error)}return{success:true}}catch(t){k.error("Component",`❌ Error checking transaction status: ${e}`,t);throw t}}),{ttl:5e3})}refreshUserDataAfterSuccess(e,t){z(I.USER.REFRESH_DATA);if(t==="add_liquidity"||t==="remove_liquidity"){z(I.LIQUIDITY.POSITIONS_REFRESH)}z(I.USER.BALANCES_REFRESH,{chainUID:e})}getTrackingStats(){const e={totalTracking:this.trackingTransactions.size,byType:{},byChain:{}};this.trackingTransactions.forEach((({chainUID:t,type:i})=>{e.byType[i]=(e.byType[i]||0)+1;e.byChain[t]=(e.byChain[t]||0)+1}));return e}async checkTransactionManually(e,t){try{const i=await b.trackTransactionWrapped(e,t);if(i.success&&i.data){return{success:true,status:i.data.status}}else{return{success:false,error:i.error||"Failed to check transaction status"}}}catch(e){return{success:false,error:e instanceof Error?e.message:"Unknown error"}}}async handleTransactionSubmitted(e){const{txHash:t,chainUID:i,type:a}=e.detail;k.info("Component","🔍 Transaction submitted, starting tracking:",e.detail);await this.trackTransaction(t,i,a)}async handleTrackTransactionRequest(e){const{txHash:t,chainUID:i,type:a}=e.detail;k.info("Component","🔍 Manual transaction tracking requested:",e.detail);await this.trackTransaction(t,i,a)}handleStopTrackingTransaction(e){const{txHash:t}=e.detail;k.info("Component","⏹️ Stopping transaction tracking:",t);this.trackingTransactions.delete(t)}handleGetTrackingStats(){const e=this.getTrackingStats();z(I.TRANSACTION.STATS_RESPONSE,e)}onInitializedChange(e){if(e){k.info("Component","🔍 Transaction Tracker Controller ready")}}render(){return null}static get watchers(){return{isInitialized:["onInitializedChange"]}}};const Ie=class{constructor(t){e(this,t);this.isInitialized=false;this.isLoading=false;this.error=null;this.retryCount=0;this.maxRetries=3;this.walletChangeTimeout=null}async componentWillLoad(){this.euclidConfig=this.config?JSON.parse(this.config):C;await this.initialize()}async componentDidLoad(){}disconnectedCallback(){j.unregister("subscription-balances");j.unregister("subscription-liquidityPositions");j.unregister("subscription-transactions");this.clearPeriodicRefresh();o.dispose?.()}async initialize(){k.info("Component","👤 Initializing User Data Controller...");o.onChange("wallets",(async e=>{if(this.walletChangeTimeout){clearTimeout(this.walletChangeTimeout)}this.walletChangeTimeout=window.setTimeout((async()=>{const t=Object.values(e).filter((e=>e.address));if(t.length>0){await this.handleWalletConnection(t)}else{this.handleWalletDisconnection()}this.walletChangeTimeout=null}),200)}));const e=o.getAllConnectedWallets();if(e.length>0){await this.handleWalletConnection(e)}this.isInitialized=true;k.info("Component","✅ User Data Controller initialized")}async handleWalletConnection(e){try{this.isLoading=true;this.error=null;k.info("Component","🔗 Wallets connected, loading user data...");await Promise.all([this.loadUserBalances(),this.loadLiquidityPositions(),this.loadUserTransactions()]);this.setupPeriodicRefresh();this.retryCount=0}catch(e){k.error("Component","❌ Failed to load user data:",e);await this.handleLoadError(e)}finally{this.isLoading=false}}handleWalletDisconnection(){if(o.state.isConnected||o.getAllConnectedWallets().length>0){k.info("Component","🔌 Wallets disconnected, clearing user data...");this.clearPeriodicRefresh();this.retryCount=0;o.clear()}}async loadUserBalances(){if(!T.hasSubscriptions("balances")){k.info("Component","💰 Skipping balance fetch - no active subscriptions");return}const e=o.getAllConnectedWallets();return N.request("user-balances-fetch",(async()=>{const t="user-balances";L.startLoading(t,"Loading balances...",{showProgress:true});try{const i=e.map((async(i,a)=>{k.info("Component",`💰 Loading balances for ${i.chainUID}:${i.address.slice(0,8)}...`);const s=(a+1)/e.length*100;L.updateProgress(t,s,`Loading ${i.chainUID} balances...`);try{const e=await B.getBalances(i.address,i.chainUID);if(e.balances&&e.balances.length>0){const t=e.balances.map((e=>({amount:e.amount,token_id:e.denom,token:e.denom,balance:e.amount,chain_uid:e.chain_uid,token_type:{native:{denom:e.denom}}})));o.updateWalletBalances(i.chainUID,t);return t}return[]}catch(e){k.warn("Component",`⚠️ Failed to load balance for ${i.chainUID}:`,e.message);return[]}}));const a=await Promise.all(i);const s=a.flat().length;L.stopLoading(t);k.info("Component",`✅ Updated ${s} balances for ${e.length} connected wallets`);return{success:true,balancesCount:s}}catch(e){L.stopLoading(t,e.message);throw e}}),{ttl:15e3})}async loadLiquidityPositions(){if(!T.hasSubscriptions("liquidityPositions")){k.info("Component","🏊 Skipping liquidity positions fetch - no active subscriptions");return}const e=o.getAllConnectedWallets();return N.request("user-liquidity-positions",(async()=>{const t="liquidity-positions";L.startLoading(t,"Loading liquidity positions...",{showProgress:true});try{const i=e.map((async(i,a)=>{k.info("Component",`🏊 Loading liquidity positions for ${i.chainUID}:${i.address.slice(0,8)}...`);const s=(a+1)/e.length*100;L.updateProgress(t,s,`Loading ${i.chainUID} positions...`);try{k.info("Component","Liquidity positions loading - implementation pending");return[]}catch(e){k.warn("Component",`⚠️ Failed to load liquidity positions for ${i.chainUID}:`,e.message);return[]}}));const a=await Promise.all(i);const s=a.flat().length;L.stopLoading(t);k.info("Component",`✅ Updated ${s} liquidity positions for ${e.length} connected wallets`);return{success:true,positionsCount:s}}catch(e){L.stopLoading(t,e.message);throw e}}),{ttl:2e4})}async loadUserTransactions(){if(!T.hasSubscriptions("transactions")){k.info("Component","📊 Skipping transactions fetch - no active subscriptions");return}const e=o.getAllConnectedWallets();for(const t of e){try{k.info("Component",`📊 Loading transactions for ${t.chainUID}:${t.address.slice(0,8)}...`);k.info("Component","Transactions loading - implementation pending")}catch(e){k.warn("Component",`⚠️ Failed to load transactions for ${t.chainUID}:`,e.message)}}}calculatePoolShare(e,t){try{const i=parseFloat(e);const a=parseFloat(String(t.totalSupply||t.liquidity||"0"));if(a===0)return 0;return i/a*100}catch{return 0}}calculateTokenAmount(e,t){try{const i=parseFloat(String(t.reserve||t.balance||"0"));const a=i*e/100;return a.toString()}catch{return"0"}}calculatePositionValue(e,t){try{const i=parseFloat(String(t.tvl||t.liquidity||"0"));const a=i*e/100;return a.toString()}catch{return"0"}}setupPeriodicRefresh(){this.clearPeriodicRefresh();this.refreshTimer=window.setInterval((async()=>{const e=o.getAllConnectedWallets();if(e.length>0){k.info("Component","🔄 Refreshing wallet data...");await this.refreshUserData()}}),this.euclidConfig.refreshIntervals.balances);k.info("Component",`👤 User data refresh interval set to ${this.euclidConfig.refreshIntervals.balances}ms`)}clearPeriodicRefresh(){if(this.refreshTimer){clearInterval(this.refreshTimer);this.refreshTimer=null}}async refreshUserData(){const e=o.getAllConnectedWallets();if(e.length===0)return;try{this.isLoading=true;await Promise.all([this.loadUserBalances(),this.loadLiquidityPositions()]);k.info("Component","Portfolio value calculation - implementation pending");this.retryCount=0}catch(e){k.warn("Component","⚠️ Failed to refresh user data:",e);await this.handleLoadError(e)}finally{this.isLoading=false}}async handleLoadError(e){this.retryCount++;if(this.retryCount<this.maxRetries){k.info("Component",`🔄 Retrying user data load (${this.retryCount}/${this.maxRetries})...`);const e=Math.pow(2,this.retryCount)*1e3;setTimeout((()=>{this.refreshUserData()}),e)}else{k.error("Component","❌ Max retries reached for user data loading");this.error=e.message||"Failed to load user data"}}async handleRefreshRequest(){k.info("Component","🔄 Manual user data refresh requested");await this.refreshUserData()}async handleBalancesSubscribe(){k.info("Component","💰 Component subscribed to balance data - triggering fetch");await this.loadUserBalances()}handleBalancesUnsubscribe(){k.info("Component","💰 Component unsubscribed from balance data")}async handleLiquidityPositionsSubscribe(){k.info("Component","🏊 Component subscribed to liquidity position data - triggering fetch");await this.loadLiquidityPositions()}handleLiquidityPositionsUnsubscribe(){k.info("Component","🏊 Component unsubscribed from liquidity position data")}handleClearRequest(){k.info("Component","🗑️ User data clear requested");o.clear();this.clearPeriodicRefresh()}onInitializedChange(e){if(e){z(I.USER.CONTROLLER_READY,{timestamp:Date.now()})}}render(){return null}static get watchers(){return{isInitialized:["onInitializedChange"]}}};const Te=":host{display:block}.wallet-card{display:flex;align-items:center;gap:12px;padding:16px;border-radius:8px;background:var(--euclid-secondary-900, #ffffff);transition:all 0.2s ease;position:relative;box-shadow:0 1px 3px rgba(0, 0, 0, 0.1)}.wallet-card.clickable{cursor:pointer}.wallet-card.clickable:hover{box-shadow:0 4px 12px rgba(0, 0, 0, 0.15);transform:translateY(-1px)}.wallet-chain-logo{flex-shrink:0;width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background:var(--euclid-muted-bg, #f8fafc)}.wallet-chain-logo img{width:100%;height:100%;object-fit:cover}.wallet-info{flex:1;min-width:0}.wallet-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}.wallet-provider{display:flex;align-items:center;gap:8px}.provider-name{font-weight:600;color:var(--euclid-text-primary, #1e293b);font-size:14px}.connection-indicator{font-size:11px;font-weight:500;padding:2px 6px;border-radius:12px;text-transform:uppercase;letter-spacing:0.025em}.connection-indicator.connected{background:var(--euclid-success-bg, #dcfce7);color:var(--euclid-success-color, #16a34a)}.connection-indicator.disconnected{background:var(--euclid-error-bg, #fee2e2);color:var(--euclid-error-color, #dc2626)}.connection-indicator.checking{background:var(--euclid-warning-bg, #fef3c7);color:var(--euclid-warning-color, #d97706)}.connection-indicator.saved{background:var(--euclid-muted-bg, #f1f5f9);color:var(--euclid-text-secondary, #64748b)}.wallet-address{font-family:var(--euclid-mono-font, 'JetBrains Mono', monospace);font-size:13px;color:var(--euclid-text-secondary, #64748b);margin-bottom:6px}.wallet-chain-info{display:flex;align-items:center;gap:8px;font-size:12px}.chain-name{color:var(--euclid-text-primary, #1e293b);font-weight:500}.chain-type{color:var(--euclid-text-secondary, #64748b);background:var(--euclid-muted-bg, #f1f5f9);padding:2px 6px;border-radius:4px;text-transform:uppercase;font-size:10px;font-weight:600;letter-spacing:0.025em}.wallet-label{font-size:12px;color:var(--euclid-text-secondary, #64748b);margin-top:4px;font-style:italic}.connection-dot{position:absolute;top:8px;right:8px;width:8px;height:8px;border-radius:50%;background:var(--euclid-success-color, #10b981);box-shadow:0 0 0 2px var(--euclid-surface-color, #ffffff)}@media (prefers-color-scheme: dark){.wallet-card{background:var(--euclid-surface-dark, #1e293b);box-shadow:0 1px 3px rgba(0, 0, 0, 0.3)}.provider-name{color:var(--euclid-text-primary-dark, #f1f5f9)}.wallet-address{color:var(--euclid-text-secondary-dark, #94a3b8)}.chain-name{color:var(--euclid-text-primary-dark, #f1f5f9)}.chain-type{background:var(--euclid-muted-bg-dark, #374151);color:var(--euclid-text-secondary-dark, #94a3b8)}.wallet-label{color:var(--euclid-text-secondary-dark, #94a3b8)}.connection-dot{box-shadow:0 0 0 2px var(--euclid-surface-dark, #1e293b)}}.wallet-actions{display:flex;gap:8px;align-items:center;opacity:0;transition:opacity 0.2s ease;margin-left:auto}.wallet-card:hover .wallet-actions{opacity:1}.wallet-card .wallet-actions[style*=\"opacity: 1\"]{opacity:1}.action-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;border-radius:6px;background:var(--euclid-surface-secondary, #f8fafc);color:var(--euclid-text-secondary, #64748b);cursor:pointer;transition:all 0.2s ease;font-size:14px}.action-btn:hover{background:var(--euclid-surface-tertiary, #f1f5f9);transform:scale(1.05)}.disconnect-btn:hover{background:var(--euclid-warning-50, #fefbeb);color:var(--euclid-warning-600, #d97706)}.delete-btn:hover{background:var(--euclid-error-50, #fef2f2);color:var(--euclid-error-600, #dc2626)}.edit-btn:hover{background:var(--euclid-primary-50, #eff6ff);color:var(--euclid-primary-600, #2563eb)}@media (prefers-color-scheme: dark){.action-btn{background:var(--euclid-surface-dark-secondary, #374151);color:var(--euclid-text-secondary-dark, #94a3b8)}.action-btn:hover{background:var(--euclid-surface-dark-tertiary, #4b5563)}.disconnect-btn:hover{background:var(--euclid-warning-900, #78350f);color:var(--euclid-warning-300, #fbbf24)}.delete-btn:hover{background:var(--euclid-error-900, #7f1d1d);color:var(--euclid-error-300, #fca5a5)}.edit-btn:hover{background:var(--euclid-primary-900, #1e3a8a);color:var(--euclid-primary-300, #93c5fd)}}";const Ne=class{constructor(i){e(this,i);this.walletClick=t(this,"walletClick");this.walletDelete=t(this,"walletDelete");this.walletEdit=t(this,"walletEdit");this.walletToggleAutoConnect=t(this,"walletToggleAutoConnect");this.clickable=true;this.showConnectionStatus=true;this.showChainInfo=true;this.showActions=false;this.handleClick=()=>{if(this.clickable){this.walletClick.emit(this.wallet)}};this.handleDelete=e=>{e.stopPropagation();this.walletDelete.emit(this.wallet)};this.handleEdit=e=>{e.stopPropagation();this.walletEdit.emit(this.wallet)};this.handleToggleAutoConnect=e=>{e.stopPropagation();k.info("Component","🔄 Auto-connect button clicked!",this.wallet);this.walletToggleAutoConnect.emit(this.wallet)}}formatAddress(e){return`${e.slice(0,6)}...${e.slice(-4)}`}render(){const{wallet:e}=this;const t=e.autoConnect??false;return i("div",{key:"65b5dccf69edad89b16c5c8bc609c87b694b41bb",class:{"wallet-card":true,clickable:this.clickable},onClick:this.handleClick},i("div",{key:"8f8adea21138de3450aecbf1b23dbcf854c73da3",class:"wallet-chain-logo"},i("img",{key:"c9c4b6103880017ab38aca90fd1e228de7337d73",src:e.chainLogo,alt:e.chainName})),i("div",{key:"af2305e6a8ae369c563e319b32edd1c86f88fb9e",class:"wallet-info"},i("div",{key:"39e813bc246ce60532f7a6be8c85fa14ebe79a3e",class:"wallet-header"},i("div",{key:"4a51851ac8b1777d8ffe27f0a3b58a1987e6c779",class:"wallet-provider"},i("span",{key:"36549bb904c8aeef3481d45f8b3eb1ca55d0a1be",class:"provider-name"},e.provider),this.showConnectionStatus&&i("div",{key:"025877ca71446b9d235a139a893afc3914307356",class:"connection-indicator"}))),i("div",{key:"52485026b6bf09e87e875fa62a9de8b23b487668",class:"wallet-address"},this.formatAddress(e.address)),this.showChainInfo&&i("div",{key:"4945ee3aad85c0624b66f15a14016beaf6ceec1a",class:"wallet-chain-info"},i("span",{key:"e8966eb3bfb9b73b7df58138ebdbfff773db78b4",class:"chain-name"},e.chainName),i("span",{key:"3ac89fe199ade8376ec02aa57a3737c45010a78d",class:"chain-type"},e.chainType)),e.label&&i("div",{key:"8399c240dd12663b50042b43c7e21f78923628e1",class:"wallet-label"},e.label)),this.showActions&&i("div",{key:"a3428013b431b1dc2b598f81143e122520f1fb95",class:"wallet-actions"},e.walletType!=="custom"&&i("button",{key:"f33e1756f54deb56e32eb4737caac9a2c4354cc9",class:`action-btn auto-connect-btn ${t?"enabled":"disabled"}`,onClick:this.handleToggleAutoConnect,title:t?"Disable auto-connect":"Enable auto-connect when extension session expires"},t?"🔄":"⏸️"),i("button",{key:"055bd439495e4552e5814b78ad3965f0be39e104",class:"action-btn delete-btn",onClick:this.handleDelete,title:"Delete saved wallet"},"🗑️"),i("button",{key:"6c7ac0296576012221ca69e26482b5349a2a6f6c",class:"action-btn edit-btn",onClick:this.handleEdit,title:"Edit wallet name"},"✏️")))}};Ne.style=Te;const je="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjkuNC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogOS4wMyBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDE0MiAxMzYuODc4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNDIgMTM2Ljg3ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkY1QzE2OyIgZD0iTTEzMi42ODIsMTMyLjE5MmwtMzAuNTgzLTkuMTA2bC0yMy4wNjMsMTMuNzg3bC0xNi4wOTItMC4wMDdsLTIzLjA3Ny0xMy43OGwtMzAuNTY5LDkuMTA2TDAsMTAwLjgwMQoJbDkuMjk5LTM0LjgzOUwwLDM2LjUwN0w5LjI5OSwwbDQ3Ljc2NiwyOC41MzhoMjcuODVMMTMyLjY4MiwwbDkuMjk5LDM2LjUwN2wtOS4yOTksMjkuNDU1bDkuMjk5LDM0LjgzOUwxMzIuNjgyLDEzMi4xOTIKCUwxMzIuNjgyLDEzMi4xOTJ6Ii8+CjxwYXRoIHN0eWxlPSJmaWxsOiNGRjVDMTY7IiBkPSJNOS4zMDUsMGw0Ny43NjcsMjguNTU4bC0xLjg5OSwxOS41OTlMOS4zMDUsMHogTTM5Ljg3NSwxMDAuODE0bDIxLjAxNywxNi4wMWwtMjEuMDE3LDYuMjYxCglDMzkuODc1LDEyMy4wODUsMzkuODc1LDEwMC44MTQsMzkuODc1LDEwMC44MTR6IE01OS4yMTIsNzQuMzQ1bC00LjAzOS0yNi4xNzRMMjkuMzE3LDY1Ljk3bC0wLjAxNC0wLjAwN3YwLjAxM2wwLjA4LDE4LjMyMQoJbDEwLjQ4NS05Ljk1MUw1OS4yMTIsNzQuMzQ1TDU5LjIxMiw3NC4zNDV6IE0xMzIuNjgyLDBMODQuOTE1LDI4LjU1OGwxLjg5MywxOS41OTlMMTMyLjY4MiwweiBNMTAyLjExMywxMDAuODE0bC0yMS4wMTgsMTYuMDEKCWwyMS4wMTgsNi4yNjFWMTAwLjgxNHogTTExMi42NzgsNjUuOTc1aDAuMDA3SDExMi42Nzh2LTAuMDEzbC0wLjAwNiwwLjAwN0w4Ni44MTUsNDguMTcxbC00LjAzOSwyNi4xNzRoMTkuMzM2bDEwLjQ5Miw5Ljk1CglDMTEyLjYwNCw4NC4yOTUsMTEyLjY3OCw2NS45NzUsMTEyLjY3OCw2NS45NzV6Ii8+CjxwYXRoIHN0eWxlPSJmaWxsOiNFMzQ4MDc7IiBkPSJNMzkuODY4LDEyMy4wODVsLTMwLjU2OSw5LjEwNkwwLDEwMC44MTRoMzkuODY4QzM5Ljg2OCwxMDAuODE0LDM5Ljg2OCwxMjMuMDg1LDM5Ljg2OCwxMjMuMDg1egoJIE01OS4yMDUsNzQuMzM4bDUuODM5LDM3Ljg0bC04LjA5My0yMS4wNEwyOS4zNyw4NC4yOTVsMTAuNDkxLTkuOTU2aDE5LjM0NEw1OS4yMDUsNzQuMzM4eiBNMTAyLjExMiwxMjMuMDg1bDMwLjU3LDkuMTA2CglsOS4yOTktMzEuMzc4aC0zOS44NjlDMTAyLjExMiwxMDAuODE0LDEwMi4xMTIsMTIzLjA4NSwxMDIuMTEyLDEyMy4wODV6IE04Mi43NzYsNzQuMzM4bC01LjgzOSwzNy44NGw4LjA5Mi0yMS4wNGwyNy41ODMtNi44NDMKCWwtMTAuNDk4LTkuOTU2SDgyLjc3NlY3NC4zMzh6Ii8+CjxwYXRoIHN0eWxlPSJmaWxsOiNGRjhENUQ7IiBkPSJNMCwxMDAuODAxbDkuMjk5LTM0LjgzOWgxOS45OTdsMC4wNzMsMTguMzI3bDI3LjU4NCw2Ljg0M2w4LjA5MiwyMS4wMzlsLTQuMTYsNC42MzNsLTIxLjAxNy0xNi4wMUgwCglWMTAwLjgwMXogTTE0MS45ODEsMTAwLjgwMWwtOS4yOTktMzQuODM5aC0xOS45OThsLTAuMDczLDE4LjMyN2wtMjcuNTgyLDYuODQzbC04LjA5MywyMS4wMzlsNC4xNTksNC42MzNsMjEuMDE4LTE2LjAxaDM5Ljg2OAoJVjEwMC44MDF6IE04NC45MTUsMjguNTM4aC0yNy44NWwtMS44OTEsMTkuNTk5bDkuODcyLDY0LjAxM2gxMS44OTFsOS44NzgtNjQuMDEzTDg0LjkxNSwyOC41Mzh6Ii8+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjE4MDA7IiBkPSJNOS4yOTksMEwwLDM2LjUwN2w5LjI5OSwyOS40NTVoMTkuOTk3bDI1Ljg3LTE3LjgwNEw5LjI5OSwweiBNNTMuNDI2LDgxLjkzOGgtOS4wNTlsLTQuOTMyLDQuODM1CglsMTcuNTI0LDQuMzQ0bC0zLjUzMy05LjE4NlY4MS45Mzh6IE0xMzIuNjgyLDBsOS4yOTksMzYuNTA3bC05LjI5OSwyOS40NTVoLTE5Ljk5OEw4Ni44MTUsNDguMTU4TDEzMi42ODIsMHogTTg4LjU2OCw4MS45MzhoOS4wNzIKCWw0LjkzMiw0Ljg0MWwtMTcuNTQ0LDQuMzUzbDMuNTQtOS4yMDFWODEuOTM4eiBNNzkuMDI5LDEyNC4zODVsMi4wNjctNy41NjdsLTQuMTYtNC42MzNoLTExLjlsLTQuMTU5LDQuNjMzbDIuMDY2LDcuNTY3Ii8+CjxwYXRoIHN0eWxlPSJmaWxsOiNDMEM0Q0Q7IiBkPSJNNzkuMDI5LDEyNC4zODR2MTIuNDk1SDYyLjk0NXYtMTIuNDk1TDc5LjAyOSwxMjQuMzg0TDc5LjAyOSwxMjQuMzg0eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojRTdFQkY2OyIgZD0iTTM5Ljg3NSwxMjMuMDcybDIzLjA4MywxMy44di0xMi40OTVsLTIuMDY3LTcuNTY2QzYwLjg5MSwxMTYuODExLDM5Ljg3NSwxMjMuMDcyLDM5Ljg3NSwxMjMuMDcyegoJIE0xMDIuMTEzLDEyMy4wNzJsLTIzLjA4NCwxMy44di0xMi40OTVsMi4wNjctNy41NjZDODEuMDk2LDExNi44MTEsMTAyLjExMywxMjMuMDcyLDEwMi4xMTMsMTIzLjA3MnoiLz4KPC9zdmc+Cg==";const Le="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMSIgdmlld0JveD0iMCAwIDEwMCAxMDEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF80MDhfMjA0KSI+CjxwYXRoIGQ9Ik0wIDUwLjVDMCAzMi45OTg0IDAgMjQuMjQ3NSAzLjQwNjA1IDE3LjU2MjhDNi40MDIwOSAxMS42ODI3IDExLjE4MjcgNi45MDIwOSAxNy4wNjI4IDMuOTA2MDVDMjMuNzQ3NSAwLjUgMzIuNDk4NCAwLjUgNTAgMC41QzY3LjUwMTYgMC41IDc2LjI1MjUgMC41IDgyLjkzNzIgMy45MDYwNUM4OC44MTczIDYuOTAyMDkgOTMuNTk3OSAxMS42ODI3IDk2LjU5NCAxNy41NjI4QzEwMCAyNC4yNDc1IDEwMCAzMi45OTg0IDEwMCA1MC41QzEwMCA2OC4wMDE2IDEwMCA3Ni43NTI1IDk2LjU5NCA4My40MzcyQzkzLjU5NzkgODkuMzE3MyA4OC44MTczIDk0LjA5NzkgODIuOTM3MiA5Ny4wOTRDNzYuMjUyNSAxMDAuNSA2Ny41MDE2IDEwMC41IDUwIDEwMC41QzMyLjQ5ODQgMTAwLjUgMjMuNzQ3NSAxMDAuNSAxNy4wNjI4IDk3LjA5NEMxMS4xODI3IDk0LjA5NzkgNi40MDIwOSA4OS4zMTczIDMuNDA2MDUgODMuNDM3MkMwIDc2Ljc1MjUgMCA2OC4wMDE2IDAgNTAuNVoiIGZpbGw9IiMxNEFGRUIiLz4KPHBhdGggZD0iTTUyLjA4MzggMzIuNzk3OUM1Mi42NTEyIDM4LjU5NzQgNTIuOTM0OCA0MS40OTczIDU0LjQ1NDkgNDMuNjIzN0M1NS4xMDYyIDQ0LjUzNDkgNTUuOTA5NSA0NS4zMjc1IDU2LjgyOTUgNDUuOTY2M0M1OC45NzY1IDQ3LjQ1NzEgNjEuODggNDcuNzAxMyA2Ny42ODY1IDQ4LjE4OTZMNzAuMTQxNiA0OC4zOTU4VjUyLjYwMDNMNjcuNjg2NSA1Mi44MDY0QzYxLjg4IDUzLjI5NDcgNTguOTc2NSA1My41MzkgNTYuODI5NSA1NS4wMjk4QzU1LjkwOTUgNTUuNjY4NiA1NS4xMDYyIDU2LjQ2MSA1NC40NTQ5IDU3LjM3MjJDNTIuOTM0OCA1OS40OTg2IDUyLjY1MTIgNjIuMzk4NiA1Mi4wODM4IDY4LjE5ODFINDcuOTE2MkM0Ny4zNDg4IDYyLjM5ODYgNDcuMDY1MiA1OS40OTg2IDQ1LjU0NTEgNTcuMzcyMkM0NC44OTM4IDU2LjQ2MSA0NC4wOTA1IDU1LjY2ODYgNDMuMTcwNSA1NS4wMjk4QzQxLjAyMzUgNTMuNTM5IDM4LjEyIDUzLjI5NDcgMzIuMzEzNSA1Mi44MDY0TDI5Ljg1ODQgNTIuNjAwM1Y0OC4zOTU4TDMyLjMxMzUgNDguMTg5NkMzOC4xMiA0Ny43MDEzIDQxLjAyMzUgNDcuNDU3MSA0My4xNzA1IDQ1Ljk2NjNDNDQuMDkwNSA0NS4zMjc1IDQ0Ljg5MzggNDQuNTM0OSA0NS41NDUxIDQzLjYyMzdDNDcuMDY1MiA0MS40OTczIDQ3LjM0ODggMzguNTk3NCA0Ny45MTYyIDMyLjc5NzlINTIuMDgzOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNTAgMTEuNDM1NUM4Mi4xNjggMTEuNDM1NSA4OS4wNjI1IDE4LjMzMDEgODkuMDYyNSA1MC40OThDODkuMDYyNSA4Mi42NjYgODIuMTY4IDg5LjU2MDUgNTAgODkuNTYwNUMxNy44MzIgODkuNTYwNSAxMC45Mzc1IDgyLjY2NiAxMC45Mzc1IDUwLjQ5OEMxMC45Mzc1IDE4LjMzMDEgMTcuODMyIDExLjQzNTUgNTAgMTEuNDM1NVpNNzUuNTI5OSAyNC45MzU0QzY2LjA2OTMgMTUuNDc1IDQ2Ljk2MjggMTkuMjQzIDMyLjg1NDEgMzMuMzUxNkMxOC43NDU0IDQ3LjQ2MDMgMTQuOTc3NCA2Ni41NjczIDI0LjQzOCA3Ni4wMjc5QzMzLjg5ODYgODUuNDg4MyA1My4wMDUgODEuNzIwNCA2Ny4xMTM3IDY3LjYxMTdDODEuMjIyNCA1My41MDMgODQuOTkwNCAzNC4zOTYgNzUuNTI5OSAyNC45MzU0WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF80MDhfMjA0Ij4KPHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDEiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==";const Ae="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTkzIiBoZWlnaHQ9IjQ5MyIgdmlld0JveD0iMCAwIDU5MyA0OTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik03MC4wNTQ2IDQ5M0MxNDUuNjA0IDQ5MyAyMDIuMzggNDI3LjI5NyAyMzYuMjYzIDM3NS4zNzhDMjMyLjE0MiAzODYuODY1IDIyOS44NTIgMzk4LjM1MSAyMjkuODUyIDQwOS4zNzhDMjI5Ljg1MiA0MzkuNzAzIDI0Ny4yNTIgNDYxLjI5NyAyODEuNTkyIDQ2MS4yOTdDMzI4Ljc1MyA0NjEuMjk3IDM3OS4xMTkgNDE5Ljk0NiA0MDUuMjE4IDM3NS4zNzhDNDAzLjM4NiAzODEuODExIDQwMi40NzEgMzg3Ljc4NCA0MDIuNDcxIDM5My4yOTdDNDAyLjQ3MSA0MTQuNDMyIDQxNC4zNzUgNDI3Ljc1NyA0MzguNjQzIDQyNy43NTdDNTE1LjEwOCA0MjcuNzU3IDU5Mi4wMyAyOTIuMjE2IDU5Mi4wMyAxNzMuNjc2QzU5Mi4wMyA4MS4zMjQzIDU0NS4zMjcgMCA0MjguMTEyIDBDMjIyLjA2OSAwIDAgMjUxLjc4NCAwIDQxNC40MzJDMCA0NzguMjk3IDM0LjM0MDUgNDkzIDcwLjA1NDYgNDkzWk0zNTcuMTQxIDE2My41NjhDMzU3LjE0MSAxNDAuNTk1IDM2OS45NjIgMTI0LjUxNCAzODguNzM0IDEyNC41MTRDNDA3LjA0OSAxMjQuNTE0IDQxOS44NyAxNDAuNTk1IDQxOS44NyAxNjMuNTY4QzQxOS44NyAxODYuNTQxIDQwNy4wNDkgMjAzLjA4MSAzODguNzM0IDIwMy4wODFDMzY5Ljk2MiAyMDMuMDgxIDM1Ny4xNDEgMTg2LjU0MSAzNTcuMTQxIDE2My41NjhaTTQ1NS4xMjYgMTYzLjU2OEM0NTUuMTI2IDE0MC41OTUgNDY3Ljk0NyAxMjQuNTE0IDQ4Ni43MTkgMTI0LjUxNEM1MDUuMDM0IDEyNC41MTQgNTE3Ljg1NSAxNDAuNTk1IDUxNy44NTUgMTYzLjU2OEM1MTcuODU1IDE4Ni41NDEgNTA1LjAzNCAyMDMuMDgxIDQ4Ni43MTkgMjAzLjA4MUM0NjcuOTQ3IDIwMy4wODEgNDU1LjEyNiAxODYuNTQxIDQ1NS4xMjYgMTYzLjU2OFoiIGZpbGw9IiNBQjlGRjIiLz4KPC9zdmc+Cg==";const Se="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPgogIDxnIGlkPSLqt7jro7lfMzc4NiIgZGF0YS1uYW1lPSLqt7jro7kgMzc4NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3OTQgMTY3KSI+CiAgICA8cmVjdCBpZD0i7IKs6rCB7ZiVXzIwMjkiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIwMjkiIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OTQgLTE2NykiIGZpbGw9Im5vbmUiLz4KICAgIDxnIGlkPSLqt7jro7lfMzc4NSIgZGF0YS1uYW1lPSLqt7jro7kgMzc4NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjg3Mi40OTEgLTUxLjEzNCkiPgogICAgICA8cGF0aCBpZD0i7Yyo7IqkXzE4NjgiIGRhdGEtbmFtZT0i7Yyo7IqkIDE4NjgiIGQ9Ik01NDkuNTI4LDBIMjIxLjJBNDYuNyw0Ni43LDAsMCwwLDE4MC44MywyMy4zTDE2LjY2NCwzMDcuNjJhNDYuNDUzLDQ2LjQ1MywwLDAsMCwwLDQ2LjZMMTgwLjgzLDYzOC41NDJsODAuNzMtNDYuNkwxMTAuOTI3LDMzMC45MjEsMjQ4LjE0NCw5My4ySDUyMi43bDE1MC43NSwyNjEuMDE4LDgwLjczLTQ2LjZMNTg5Ljg5MiwyMy4zQTQ2LjU2MSw0Ni41NjEsMCwwLDAsNTQ5LjUyOCwwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExLjk2MikiIGZpbGw9IiM5YzZjZmYiLz4KICAgICAgPHBhdGggaWQ9Iu2MqOyKpF8xODY5IiBkYXRhLW5hbWU9Iu2MqOyKpCAxODY5IiBkPSJNNTczLjIyOCwxMy4xM2wtODAuNzMsNDYuNkw2NDMuMjQ5LDMyMC43NSw1MDYuMDMyLDU1OC40NjhIMjMxLjQ4TDgwLjczLDI5Ny40NDksMCwzNDQuMDUxLDE2NC4xNjYsNjI4LjM3MWE0Ni42LDQ2LjYsMCwwLDAsNDAuMzY1LDIzLjNINTMyLjg2NGE0Ni43LDQ2LjcsMCwwLDAsNDAuMzY1LTIzLjNMNzM3LjM5NSwzNDQuMDUxYTQ2LjQ1Myw0Ni40NTMsMCwwLDAsMC00Ni42WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxNDEuMzg2KSIgZmlsbD0iIzA1ZDJkZCIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==";const Oe="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMzMiIgdmlld0JveD0iMCAwIDQ4MCAzMzIiIHdpZHRoPSI0ODAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTEyNi42MTMgOTMuOTg0MmM2Mi42MjItNjEuMzEyMyAxNjQuMTUyLTYxLjMxMjMgMjI2Ljc3NSAwbDcuNTM2IDcuMzc4OGMzLjEzMSAzLjA2NiAzLjEzMSA4LjAzNiAwIDExLjEwMmwtMjUuNzgxIDI1LjI0MmMtMS41NjYgMS41MzMtNC4xMDQgMS41MzMtNS42NyAwbC0xMC4zNzEtMTAuMTU0Yy00My42ODctNDIuNzczNC0xMTQuNTE3LTQyLjc3MzQtMTU4LjIwNCAwbC0xMS4xMDcgMTAuODc0Yy0xLjU2NSAxLjUzMy00LjEwMyAxLjUzMy01LjY2OSAwbC0yNS43ODEtMjUuMjQyYy0zLjEzMi0zLjA2Ni0zLjEzMi04LjAzNiAwLTExLjEwMnptMjgwLjA5MyA1Mi4yMDM4IDIyLjk0NiAyMi40NjVjMy4xMzEgMy4wNjYgMy4xMzEgOC4wMzYgMCAxMS4xMDJsLTEwMy40NjMgMTAxLjMwMWMtMy4xMzEgMy4wNjUtOC4yMDggMy4wNjUtMTEuMzM5IDBsLTczLjQzMi03MS44OTZjLS43ODMtLjc2Ny0yLjA1Mi0uNzY3LTIuODM1IDBsLTczLjQzIDcxLjg5NmMtMy4xMzEgMy4wNjUtOC4yMDggMy4wNjUtMTEuMzM5IDBsLTEwMy40NjU3LTEwMS4zMDJjLTMuMTMxMS0zLjA2Ni0zLjEzMTEtOC4wMzYgMC0xMS4xMDJsMjIuOTQ1Ni0yMi40NjZjMy4xMzExLTMuMDY1IDguMjA3Ny0zLjA2NSAxMS4zMzg4IDBsNzMuNDMzMyA3MS44OTdjLjc4Mi43NjcgMi4wNTEuNzY3IDIuODM0IDBsNzMuNDI5LTcxLjg5N2MzLjEzMS0zLjA2NSA4LjIwOC0zLjA2NSAxMS4zMzkgMGw3My40MzMgNzEuODk3Yy43ODMuNzY3IDIuMDUyLjc2NyAyLjgzNSAwbDczLjQzMS03MS44OTVjMy4xMzItMy4wNjYgOC4yMDgtMy4wNjYgMTEuMzM5IDB6IiBmaWxsPSIjMzM5NmZmIi8+PC9zdmc+";const Ee={metamask:{name:"MetaMask",logo:je,description:"Connect using MetaMask wallet",supportedChains:["EVM"]},keplr:{name:"Keplr",logo:Le,description:"Connect using Keplr wallet",supportedChains:["Cosmos","CosmWasm"]},phantom:{name:"Phantom",logo:Ae,description:"Connect using Phantom wallet",supportedChains:["EVM","Solana"]},cosmostation:{name:"Cosmostation",logo:Se,description:"Connect using Cosmostation wallet",supportedChains:["Cosmos","CosmWasm"]},walletconnect:{name:"WalletConnect",logo:Oe,description:"Connect using WalletConnect",supportedChains:["EVM","Cosmos"]}};const Pe=":host{display:block}.wallet-content{width:100%}.step-header{margin-bottom:var(--euclid-spacing-5);text-align:center}.step-header h3{margin:0 0 var(--euclid-spacing-2) 0;font-size:var(--euclid-text-size-lg);font-weight:var(--euclid-font-weight-semibold);color:var(--euclid-text-primary)}.step-header p{margin:0;color:var(--euclid-text-secondary);font-size:var(--euclid-text-size-sm)}.back-button{background:none;border:none;color:var(--euclid-text-secondary);cursor:pointer;font-size:var(--euclid-text-size-sm);padding:var(--euclid-spacing-2);margin-bottom:var(--euclid-spacing-3);border-radius:var(--euclid-radius-sm);transition:all var(--euclid-transition-duration-fast)}.back-button:hover{color:var(--euclid-text-primary);background:var(--euclid-surface-secondary)}.wallet-content euclid-data-list{max-height:400px}.wallet-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(160px, 1fr));gap:var(--euclid-spacing-3)}.wallet-card{display:flex;flex-direction:column;align-items:center;padding:var(--euclid-spacing-4);border:2px solid var(--euclid-border);border-radius:var(--euclid-radius-lg);background:var(--euclid-surface);cursor:pointer;transition:all var(--euclid-transition-duration-fast);text-align:center}.wallet-card:hover:not(.wallet-card--not-installed){border-color:var(--euclid-border-hover);background:var(--euclid-surface-secondary);transform:translateY(-1px)}.wallet-card--not-installed{opacity:0.6}.wallet-card--not-installed:hover{border-color:var(--euclid-warning-300);background:var(--euclid-warning-50);transform:translateY(-1px)}.wallet-icon{width:3rem;height:3rem;border-radius:var(--euclid-radius-lg);display:flex;align-items:center;justify-content:center;margin-bottom:var(--euclid-spacing-3);background:var(--euclid-surface-secondary)}.wallet-logo{width:2rem;height:2rem;object-fit:contain}.wallet-emoji{font-size:1.5rem}.wallet-info{display:flex;flex-direction:column;gap:var(--euclid-spacing-1);width:100%}.wallet-name{font-size:var(--euclid-text-size-sm);font-weight:var(--euclid-font-weight-medium);color:var(--euclid-text-primary)}.wallet-description{font-size:var(--euclid-text-size-xs);color:var(--euclid-text-secondary);line-height:1.3}.install-badge{display:inline-block;font-size:var(--euclid-text-size-xs);padding:var(--euclid-spacing-1) var(--euclid-spacing-2);border-radius:var(--euclid-radius-sm);background:var(--euclid-warning-100);color:var(--euclid-warning-700);margin-top:var(--euclid-spacing-2);font-weight:var(--euclid-font-weight-medium)}@media (max-width: 640px){.wallet-grid{grid-template-columns:repeat(2, 1fr);gap:var(--euclid-spacing-2)}.wallet-card{padding:var(--euclid-spacing-3)}.wallet-icon{width:2.5rem;height:2.5rem}}@media (max-width: 480px){.wallet-grid{grid-template-columns:1fr}.step-header{margin-bottom:var(--euclid-spacing-4)}.step-header h3{font-size:var(--euclid-text-size-base)}}.no-wallets{text-align:center;padding:var(--euclid-spacing-6);color:var(--euclid-text-secondary)}.no-wallets p{margin:0 0 var(--euclid-spacing-2) 0;font-size:var(--euclid-text-size-sm)}.wallet-card:focus-visible,.chain-card:focus-visible{outline:2px solid var(--euclid-border-focus);outline-offset:2px}.back-button:focus-visible{outline:2px solid var(--euclid-border-focus);outline-offset:2px}";const Ue=class{constructor(t){e(this,t);this.walletProviders=[];this.selectedChain=null;this.step="chains";this.handleChainSelect=e=>{k.info("Component","🌐 Chain selected:",e.display_name,e.chain_uid);this.selectedChain=e;this.step="wallets"};this.handleChainSelected=e=>{const t=e.detail.item;this.handleChainSelect(t)};this.handleBackToChains=()=>{this.step="chains";this.selectedChain=null};this.handleWalletConnect=async e=>{k.info("Component","🔗 Wallet clicked:",e);if(!e.installed){k.info("Component","❌ Wallet not installed, opening install URL");this.openInstallUrl(e.id);return}if(!this.selectedChain){k.error("Component","❌ No chain selected");return}k.info("Component","📡 Dispatching wallet connection request:",{chainUID:this.selectedChain.chain_uid,walletType:e.id});z(I.WALLET.CONNECT_REQUEST,{chainUID:this.selectedChain.chain_uid,walletType:e.id});n.closeWalletModal()}}componentWillLoad(){this.detectWallets();this.initializeWithChainFilter()}initializeWithChainFilter(){const e=n.state.walletModalFilter;if(e){const t=w.state.chains.find((t=>t.chain_uid===e));if(t){k.info("Component","🎯 Wallet modal opened with chain filter:",t.display_name);this.selectedChain=t;this.step="wallets"}else{k.warn("Component","⚠️ Chain filter provided but chain not found:",e);this.step="chains"}}else{this.step="chains"}}detectWallets(){const e=xe.getAvailableWallets();this.walletProviders=e.map((e=>{const t=Ee[e.type]||{name:e.type,logo:"",description:`Connect using ${e.type} wallet`};return{id:e.type,name:t.name,icon:t.logo,installed:e.installed,description:t.description}}));k.info("Component","🔍 Detected wallets:",this.walletProviders)}openInstallUrl(e){const t={metamask:"https://metamask.io/download/",keplr:"https://www.keplr.app/download",phantom:"https://phantom.app/download",walletconnect:"https://walletconnect.com/"};const i=t[e];if(i){window.open(i,"_blank")}}getCompatibleWallets(){if(!this.selectedChain)return[];const e=this.selectedChain.type.toLowerCase();const t=e==="evm";const i=e==="cosmwasm";return this.walletProviders.filter((e=>{if(t){return v(e.id)}else if(i){return y(e.id)||e.id==="walletconnect"}return false}))}render(){if(this.step==="chains"){return this.renderChainSelection()}else{return this.renderWalletSelection()}}renderChainSelection(){return i("div",{class:"wallet-content"},i("div",{class:"step-header"},i("h3",null,"Select Blockchain Network"),i("p",null,"Choose the blockchain network you want to connect to")),i("euclid-data-list",{dataType:"chains",displayMode:"compact",itemsPerPage:20,infiniteScroll:true,useParentScroll:true,searchable:true,sortable:false,showStats:false,filterable:false,showEndMessage:false,onItemSelected:this.handleChainSelected}))}renderWalletSelection(){const e=this.getCompatibleWallets();return i("div",{class:"wallet-content"},i("div",{class:"step-header"},i("button",{class:"back-button",onClick:this.handleBackToChains},"← Back to Chains"),i("h3",null,"Connect Wallet to ",this.selectedChain?.display_name),i("p",null,"Choose a compatible wallet for this ",this.selectedChain?.type.toUpperCase()," network")),i("div",{class:"wallet-grid"},e.map((e=>i("button",{key:e.id,class:{"wallet-card":true,"wallet-card--not-installed":!e.installed},onClick:()=>this.handleWalletConnect(e),type:"button"},i("div",{class:"wallet-icon"},e.icon?i("img",{src:e.icon,alt:e.name,class:"wallet-logo"}):i("span",{class:"wallet-emoji"},"🔗")),i("div",{class:"wallet-info"},i("div",{class:"wallet-name"},e.name),i("div",{class:"wallet-description"},e.description),!e.installed&&i("span",{class:"install-badge"},"Install Required")))))),e.length===0&&i("div",{class:"no-wallets"},i("p",null,"No compatible wallets found for ",this.selectedChain?.type.toUpperCase()," networks."),i("p",null,"Please install a compatible wallet extension.")))}};Ue.style=Pe;const qe=class{constructor(t){e(this,t);this.isInitialized=false}async componentWillLoad(){this.euclidConfig=this.config?JSON.parse(this.config):C}async componentDidLoad(){await this.initialize()}async initialize(){k.info("WalletController","Initializing Wallet Controller...");await o.initialize();await this.detectAvailableWallets();this.setupWalletEventListeners();this.isInitialized=true;k.info("WalletController","Wallet Controller initialized")}async detectAvailableWallets(){const e=[];if(window.keplr){e.push("keplr")}if(window.ethereum?.isMetaMask){e.push("metamask")}if(window.cosmostation){e.push("cosmostation")}k.info("Component","🔍 Available wallets detected:",e);return e}setupWalletEventListeners(){if(window.ethereum){const e=window.ethereum;if(e.on){e.on("accountsChanged",(e=>{k.info("Component","MetaMask accounts changed:",e);this.handleEvmAccountChange(e)}));e.on("chainChanged",(e=>{k.info("Component","MetaMask chain changed:",e);this.handleEvmChainChange(e)}))}}window.addEventListener("keplr_keystorechange",(()=>{k.info("Component","Keplr keystore changed");this.handleKeplrKeystoreChange()}))}async handleEvmAccountChange(e){if(e.length===0){this.disconnectEvmWallets()}}handleEvmChainChange(e){k.info("Component","Chain changed to:",e)}handleKeplrKeystoreChange(){}disconnectEvmWallets(){const e=["ethereum","bsc","polygon","arbitrum","base","manta","sepolia"];e.forEach((e=>{o.removeWallet(e)}))}async handleWalletConnectionRequest(e){const{chainUID:t,walletType:i}=e.detail;k.info("Component","🎯 Wallet controller received connection request:",{chainUID:t,walletType:i});try{k.info("Component","🔄 Attempting to connect wallet...");await this.connectWallet(t,i);k.info("Component","✅ Wallet connection successful!")}catch(e){k.error("Component","❌ Failed to connect wallet:",e);z(I.WALLET.CONNECT_FAILED,{chainUID:t,walletType:i,error:e instanceof Error?e.message:"Unknown error"})}}handleWalletDisconnectionRequest(e){const{chainUID:t}=e.detail;k.info("Component","🔌 Wallet disconnection requested:",t);o.disconnectWallet(t);z(I.WALLET.DISCONNECT_SUCCESS,{chainUID:t})}async connectWallet(e,t){k.info("Component","🔗 connectWallet called with:",{chainUID:e,walletType:t});let i=w.getChain(e);if(!i){k.warn("Component",`Chain ${e} not found in store, using fallback configuration`);i=this.getFallbackChainConfig(e,t);if(!i){throw new Error(`Chain configuration not found for ${e} and no fallback available`)}}k.info("Component","🔗 Using chain config:",i);if(!x(t)){throw new Error(`Unsupported wallet type: ${t}`)}k.info("Component","✅ Wallet type validation passed");k.info("Component","🔗 Calling WalletAdapterFactory.connectWallet...");const a=await xe.connectWallet(t,i);k.info("Component","🔗 Wallet adapter result:",a);if(a.success&&a.address){k.info("Component","✅ Connection successful, adding to store...");o.addWallet(e,{address:a.address,name:t,walletType:t,balances:[],autoConnect:false});k.info("Component","📡 Emitting connection success event...");z(I.WALLET.CONNECT_SUCCESS,{chainUID:e,walletType:t,address:a.address})}else{k.error("Component","❌ Wallet connection failed:",a.error);throw new Error(a.error||"Failed to connect wallet")}}getFallbackChainConfig(e,t){const i={ethereum:{chain_uid:"ethereum",chain_id:"1",display_name:"Ethereum",type:"EVM",explorer_url:"https://etherscan.io",factory_address:"",token_factory_address:"",logo:""},bsc:{chain_uid:"bsc",chain_id:"56",display_name:"BNB Smart Chain",type:"EVM",explorer_url:"https://bscscan.com",factory_address:"",token_factory_address:"",logo:""},polygon:{chain_uid:"polygon",chain_id:"137",display_name:"Polygon",type:"EVM",explorer_url:"https://polygonscan.com",factory_address:"",token_factory_address:"",logo:""},arbitrum:{chain_uid:"arbitrum",chain_id:"42161",display_name:"Arbitrum One",type:"EVM",explorer_url:"https://arbiscan.io",factory_address:"",token_factory_address:"",logo:""},"cosmoshub-4":{chain_uid:"cosmoshub-4",chain_id:"cosmoshub-4",display_name:"Cosmos Hub",type:"Cosmwasm",explorer_url:"https://mintscan.io/cosmos",factory_address:"",token_factory_address:"",logo:""},"osmosis-1":{chain_uid:"osmosis-1",chain_id:"osmosis-1",display_name:"Osmosis",type:"Cosmwasm",explorer_url:"https://mintscan.io/osmosis",factory_address:"",token_factory_address:"",logo:""}};const a=i[e];if(!a){return null}const s=v(t);const o=y(t);if(a.type==="EVM"&&!s){return null}if(a.type==="Cosmwasm"&&!o){return null}return a}render(){return null}};export{W as euclid_address_book,_ as euclid_api_tester,R as euclid_button,Y as euclid_config_provider,J as euclid_core_provider,ie as euclid_data_list,se as euclid_demo_playground,re as euclid_liquidity_card,ne as euclid_liquidity_controller,le as euclid_market_data_controller,de as euclid_modal,pe as euclid_portfolio,fe as euclid_swap_card,we as euclid_swap_controller,Me as euclid_token_content,De as euclid_token_input,ze as euclid_tx_tracker_controller,Ie as euclid_user_data_controller,Ne as euclid_wallet,Ue as euclid_wallet_content,qe as euclid_wallet_controller};
//# sourceMappingURL=p-abc024dc.entry.js.map