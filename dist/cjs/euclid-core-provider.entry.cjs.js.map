{"version":3,"file":"euclid-core-provider.entry.cjs.js","sources":["src/components/core/euclid-core-provider/euclid-core-provider.css?tag=euclid-core-provider&encapsulation=shadow","src/components/core/euclid-core-provider/euclid-core-provider.tsx"],"sourcesContent":[":host {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n.euclid-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 200px;\n  padding: var(--euclid-spacing-8);\n  text-align: center;\n  color: var(--euclid-text-secondary);\n  font-family: var(--euclid-font-family-sans);\n}\n\n.loading-spinner {\n  width: var(--euclid-spacing-8);\n  height: var(--euclid-spacing-8);\n  border: 3px solid var(--euclid-border);\n  border-top: 3px solid var(--euclid-interactive-primary);\n  border-radius: 50%;\n  animation: euclid-spin 1s linear infinite;\n  margin-bottom: var(--euclid-spacing-4);\n}\n\n.euclid-loading p {\n  margin: 0;\n  font-size: var(--euclid-text-size-sm);\n  font-weight: var(--euclid-font-weight-medium);\n}\n\n.euclid-provider-content {\n  width: 100%;\n  height: 100%;\n}\n\n/* Hidden controllers have no visual appearance */\neuclid-wallet-controller,\neuclid-market-data-controller,\neuclid-user-data-controller {\n  display: none;\n}\n","import { Component, Host, h, State, Listen } from '@stencil/core';\nimport { walletStore } from '../../../store/wallet.store';\nimport { appStore } from '../../../store/app.store';\nimport { EUCLID_EVENTS, dispatchEuclidEvent } from '../../../utils/events';\n\n@Component({\n  tag: 'euclid-core-provider',\n  styleUrl: 'euclid-core-provider.css',\n  shadow: true,\n})\nexport class EuclidCoreProvider {\n  @State() isInitialized = false;\n\n  async componentDidLoad() {\n    await this.initialize();\n  }\n\n  private async initialize() {\n    console.log('ðŸŒŒ Initializing Euclid Protocol Core Provider...');\n\n    // Initialize app store\n    appStore.initialize();\n\n    // Initialize wallet store\n    walletStore.initialize();\n\n    // Load initial market data\n    await this.loadInitialMarketData();\n\n    this.isInitialized = true;\n    console.log('âœ… Euclid Protocol Core Provider initialized successfully');\n  }\n\n  private async loadInitialMarketData() {\n    console.log('ðŸ“Š Delegating initial market data loading to Market Data Controller...');\n\n    // Delegate to market data controller via events\n    dispatchEuclidEvent(EUCLID_EVENTS.MARKET.LOAD_INITIAL);\n  }\n\n  @Listen(EUCLID_EVENTS.WALLET.CONNECT_SUCCESS, { target: 'window' })\n  handleWalletConnect(event: CustomEvent) {\n    console.log('ðŸ”— Wallet connection event received:', event.detail);\n    // Handle wallet connection logic here\n  }\n\n  @Listen(EUCLID_EVENTS.WALLET.DISCONNECT_SUCCESS, { target: 'window' })\n  handleWalletDisconnect(event: CustomEvent) {\n    console.log('ðŸ”Œ Wallet disconnection event received:', event.detail);\n    // Handle wallet disconnection logic here\n  }\n\n  render() {\n    return (\n      <Host>\n        {!this.isInitialized && (\n          <div class=\"euclid-loading\">\n            <div class=\"loading-spinner\"></div>\n            <p>Initializing Euclid Protocol...</p>\n          </div>\n        )}\n\n        {/* Core controllers - these manage data and state */}\n        <euclid-wallet-controller />\n        <euclid-market-data-controller />\n        <euclid-user-data-controller />\n\n        {/* Feature controllers - these handle business logic */}\n        <euclid-swap-controller />\n        <euclid-liquidity-controller />\n        <euclid-tx-tracker-controller />\n\n        {/* Global modal - controlled by appStore */}\n        <euclid-modal />\n\n        {/* Slot for application content */}\n        <div class=\"euclid-provider-content\">\n          <slot></slot>\n        </div>\n      </Host>\n    );\n  }\n\n  private handleWalletConnectFromModal = (event: CustomEvent) => {\n    const { provider, chainId } = event.detail;\n    console.log('ðŸ”— Wallet connection request from modal:', provider.type, chainId);\n\n    // Dispatch wallet connection request\n    dispatchEuclidEvent(EUCLID_EVENTS.WALLET.CONNECT_REQUEST, {\n      chainUID: chainId || 'ethereum',\n      walletType: provider.type\n    });\n\n    appStore.closeWalletModal();\n  };\n\n  private handleTokenSelectFromModal = (event: CustomEvent) => {\n    const { token } = event.detail;\n    console.log('ðŸª™ Token selection from modal:', token.symbol);\n\n    // Emit token selection for consuming components\n    dispatchEuclidEvent(EUCLID_EVENTS.UI.TOKEN_SELECTED, {\n      tokenId: token.id,\n      data: token\n    });\n\n    appStore.closeTokenModal();\n  };\n}\n"],"names":["dispatchEuclidEvent","EUCLID_EVENTS","appStore","walletStore","h","Host"],"mappings":"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"}