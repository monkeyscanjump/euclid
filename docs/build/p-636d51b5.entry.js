import{r as t,c as e,h as i}from"./p-uEsOKkhe.js";import{m as s}from"./p-DWrf3bWA.js";const a=":host{display:block;width:100%;font-family:var(--euclid-font-family, 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif)}.list-items{display:flex;flex-direction:column;gap:24px;padding:24px;background:var(--euclid-surface);border-radius:var(--euclid-radius-xl);border:1px solid var(--euclid-border)}.list-header{display:flex;justify-content:space-between;align-items:center}.list-title{margin:0;font-size:24px;font-weight:700;color:var(--euclid-text-primary)}.list-controls{display:flex;flex-direction:column;gap:16px}.search-input-container{position:relative;width:100%}.search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:20px;height:20px;color:var(--euclid-text-secondary, #6b7280);pointer-events:none}.search-input{width:100%;padding:12px 12px 12px 44px;border:1px solid var(--euclid-border-primary, #e0e0e0);border-radius:var(--euclid-border-radius, 12px);background:var(--euclid-bg-secondary, #ffffff);color:var(--euclid-text-primary, #111827);font-size:14px;transition:all var(--euclid-transition-fast, 0.2s) ease-in-out;box-sizing:border-box}.search-input:focus{outline:none;border-color:var(--euclid-accent-primary, #6366f1);box-shadow:0 0 0 3px rgba(99, 102, 241, 0.1)}.search-input::placeholder{color:var(--euclid-text-tertiary, #9ca3af)}.filters-container{display:flex;gap:12px;flex-wrap:wrap}.filter-select{padding:8px 12px;border:1px solid var(--euclid-border-primary, #e0e0e0);border-radius:var(--euclid-border-radius, 8px);background:var(--euclid-bg-secondary, #ffffff);color:var(--euclid-text-primary, #111827);font-size:14px;cursor:pointer;transition:all var(--euclid-transition-fast, 0.2s) ease-in-out}.filter-select:focus{outline:none;border-color:var(--euclid-accent-primary, #6366f1);box-shadow:0 0 0 3px rgba(99, 102, 241, 0.1)}.list-stats{display:flex;gap:32px;padding:16px 20px;background:var(--euclid-surface-secondary);border-radius:var(--euclid-radius-lg);border:1px solid var(--euclid-border)}.stat-item{display:flex;flex-direction:column;gap:4px;text-align:center}.stat-label{font-size:12px;color:var(--euclid-text-secondary);text-transform:uppercase;letter-spacing:0.5px;font-weight:500}.stat-value{font-size:18px;font-weight:700;color:var(--euclid-text-primary)}.list-content{min-height:400px;flex:1;overflow-y:auto}.items-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(320px, 1fr));gap:16px;align-items:start}.items-grid>*{width:100%;height:100%}.items-list-container{display:flex;flex-direction:column;gap:8px}.loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;color:var(--euclid-text-secondary);gap:16px}.loading-spinner{width:32px;height:32px;border:3px solid var(--euclid-border-primary, #e0e0e0);border-top:3px solid var(--euclid-accent-primary, #6366f1);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:60px 20px;text-align:center;color:var(--euclid-text-secondary)}.empty-state svg{width:64px;height:64px;opacity:0.5}.empty-state span{font-size:16px;font-weight:500}.pagination{display:flex;justify-content:center;align-items:center;gap:8px;padding:20px 0}.pagination-btn{padding:8px 16px;border:1px solid var(--euclid-border);background:var(--euclid-surface);color:var(--euclid-text-primary);border-radius:var(--euclid-radius-md);cursor:pointer;font-weight:500;transition:all 0.2s ease}.pagination-btn:hover:not(:disabled){background:var(--euclid-surface-hover);border-color:var(--euclid-border-hover)}.pagination-btn:disabled{opacity:0.5;cursor:not-allowed}.pagination-pages{display:flex;gap:4px}.pagination-page{width:40px;height:40px;border:1px solid var(--euclid-border);background:var(--euclid-surface);color:var(--euclid-text-primary);border-radius:var(--euclid-radius-md);cursor:pointer;font-weight:500;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center}.pagination-page:hover{background:var(--euclid-surface-hover);border-color:var(--euclid-border-hover)}.pagination-page--active{background:var(--euclid-primary);color:white;border-color:var(--euclid-primary)}@media (min-width: 768px){.list-controls{flex-direction:row;align-items:center}.search-input-container{max-width:300px}.filters-container{margin-left:auto}.list-stats{justify-content:center}}@media (max-width: 768px){.list-items{padding:16px;gap:16px}.list-stats{gap:16px;padding:12px 16px}.stat-item{gap:2px}.stat-label{font-size:10px}.stat-value{font-size:14px}.items-grid{grid-template-columns:1fr;gap:12px}.pagination{flex-wrap:wrap;gap:4px}.pagination-btn{padding:6px 12px;font-size:14px}.pagination-page{width:36px;height:36px}}";const r=class{constructor(i){t(this,i);this.itemSelected=e(this,"itemSelected");this.itemHover=e(this,"itemHover");this.filtersChanged=e(this,"filtersChanged");this.itemType="token";this.items=[];this.displayMode="card";this.showFields=[];this.selectable=true;this.searchable=true;this.searchFields=["name"];this.filterable=true;this.filterConfigs=[];this.sortConfigs=[];this.itemsPerPage=12;this.listTitle="Items";this.loading=false;this.itemProps={};this.filteredItems=[];this.currentPage=1;this.totalPages=1;this.selectedItemId="";this.filters={search:"",sortBy:"",sortOrder:"asc",filters:{}};this.storeItems=[];this.storeLoading=false;this.handleSearchInput=t=>{const e=t.target;this.filters={...this.filters,search:e.value||""};this.currentPage=1;this.applyFilters()};this.handleFilterChange=(t,e)=>{const i=e.target;this.filters={...this.filters,filters:{...this.filters.filters,[t]:i.value}};this.currentPage=1;this.applyFilters()};this.handleSortChange=t=>{const e=t.target;const[i,s]=e.value.split("_");this.filters={...this.filters,sortBy:i,sortOrder:s};this.applyFilters()};this.handleItemSelect=t=>{const e=t.detail;const i=this.getItemIdField();this.selectedItemId=e[i];this.itemSelected.emit(e)};this.handleItemHover=t=>{this.itemHover.emit(t.detail)};this.handlePageChange=t=>{if(t>=1&&t<=this.totalPages){this.currentPage=t}}}componentWillLoad(){this.initializeDefaults();this.syncWithStore();this.applyFilters();const t=this.getStoreKey();s.onChange(t,(()=>{this.syncWithStore();this.applyFilters()}))}watchItemsChange(){this.applyFilters()}initializeDefaults(){if(this.sortConfigs.length>0&&!this.filters.sortBy){this.filters={...this.filters,sortBy:this.sortConfigs[0].key}}this.filterConfigs.forEach((t=>{if(this.filters.filters[t.key]===undefined){this.filters.filters[t.key]=""}}))}getStoreKey(){switch(this.itemType){case"token":return"tokens";case"chain":return"chains";case"pool":return"pools";default:return"tokens"}}getItemComponent(){switch(this.itemType){case"token":return"euclid-token-item";case"chain":return"euclid-chain-item";case"pool":return"euclid-pool-item";default:return"euclid-token-item"}}getItemIdField(){switch(this.itemType){case"token":return"tokenId";case"chain":return"chain_uid";case"pool":return"pool_id";default:return"id"}}syncWithStore(){const t=this.getStoreKey();const e=s.state[t]||[];this.storeItems=Array.isArray(e)&&e.length>0?e:this.items;this.storeLoading=s.state.loading;console.log(`ðŸ”„ ${this.itemType} store sync:`,{storeItems:this.storeItems.length,storeLoading:this.storeLoading,itemType:this.itemType})}applyFilters(){const t=this.storeItems.length>0?this.storeItems:this.items;let e=[...t];if(this.filters.search&&this.searchFields.length>0){const t=this.filters.search.toLowerCase();e=e.filter((e=>this.searchFields.some((i=>{const s=this.getNestedValue(e,i);return s&&String(s).toLowerCase().includes(t)}))))}Object.entries(this.filters.filters).forEach((([t,i])=>{if(i&&i!==""){e=e.filter((e=>{const s=this.getNestedValue(e,t);if(Array.isArray(s)){return s.includes(i)}return String(s)===String(i)}))}}));if(this.filters.sortBy){const t=this.sortConfigs.find((t=>t.key===this.filters.sortBy));if(t){e.sort(((e,i)=>{const s=this.getNestedValue(e,t.key);const a=this.getNestedValue(i,t.key);let r=0;if(t.type==="number"){const t=parseFloat(String(s).replace(/[^0-9.-]/g,""))||0;const e=parseFloat(String(a).replace(/[^0-9.-]/g,""))||0;r=t-e}else{const t=String(s||"").toLowerCase();const e=String(a||"").toLowerCase();r=t.localeCompare(e)}return this.filters.sortOrder==="asc"?r:-r}))}}this.filteredItems=e;if(this.itemsPerPage>0){this.totalPages=Math.ceil(e.length/this.itemsPerPage);if(this.currentPage>this.totalPages&&this.totalPages>0){this.currentPage=1}}else{this.totalPages=1}this.filtersChanged.emit(this.filters)}getNestedValue(t,e){return e.split(".").reduce(((t,e)=>t?.[e]),t)}getPaginatedItems(){if(this.itemsPerPage<=0){return this.filteredItems}const t=(this.currentPage-1)*this.itemsPerPage;const e=t+this.itemsPerPage;return this.filteredItems.slice(t,e)}getFilterStats(){const t=this.storeItems.length>0?this.storeItems:this.items;const e={total:t.length,filtered:this.filteredItems.length};if(this.itemType==="token"){const i=new Set;t.forEach((t=>{const e=t.chain_uids;if(e){e.forEach((t=>i.add(t)))}}));e.chains=i.size}else if(this.itemType==="chain"){e.evm=t.filter((t=>t.type==="EVM")).length;e.cosmwasm=t.filter((t=>t.type==="Cosmwasm")).length}return e}render(){const t=this.storeItems.length>0?this.storeItems:this.items;const e=(this.storeLoading||this.loading)&&t.length===0;const s=this.getPaginatedItems();const a=this.getFilterStats();const r=this.getItemIdField();return i("div",{key:"f8763324cc1dbad4da07010b9aa1c6d186338ab0",class:"list-items"},i("div",{key:"243c437f277603895d96f53aa08b9e8a29fc083e",class:"list-header"},i("h3",{key:"5eee1c84a39218ddd4069a07d295ae82b7124d30",class:"list-title"},this.listTitle)),(this.searchable||this.filterable)&&i("div",{key:"3513627919761a5ba5d50fd3260ef0405e28239f",class:"list-controls"},this.searchable&&i("div",{key:"1c0c082d8c2276826061e23e41eee2170038de8a",class:"search-input-container"},i("svg",{key:"5057e8efffe4dad329399aefea71aa8a3caf0403",class:"search-icon",viewBox:"0 0 24 24",fill:"currentColor"},i("path",{key:"68812be6b18cf3f8e4f37e2cc2aab932fc09a14e",d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),i("input",{key:"3e3af2fa553e1de09b160a123f718356bb492ae3",type:"text",class:"search-input",placeholder:`Search ${this.itemType}s...`,value:this.filters.search,onInput:this.handleSearchInput})),this.filterable&&i("div",{key:"d6d705229517c8cfc38accf0a72e66d6841446c0",class:"filters-container"},this.filterConfigs.map((t=>i("select",{key:t.key,class:"filter-select",onChange:e=>this.handleFilterChange(t.key,e)},i("option",{value:"",selected:this.filters.filters[t.key]===""},t.label),t.options.map((e=>i("option",{key:e.value,value:e.value,selected:this.filters.filters[t.key]===e.value},e.label)))))),this.sortConfigs.length>0&&i("select",{key:"2441ed87ef4c33c61f4c0e1ec8704bd33bd41c33",class:"filter-select",onChange:this.handleSortChange},this.sortConfigs.map((t=>[i("option",{key:`${t.key}_asc`,value:`${t.key}_asc`,selected:this.filters.sortBy===t.key&&this.filters.sortOrder==="asc"},t.label," A-Z"),i("option",{key:`${t.key}_desc`,value:`${t.key}_desc`,selected:this.filters.sortBy===t.key&&this.filters.sortOrder==="desc"},t.label," Z-A")]))))),i("div",{key:"28e255683f464585e837734ebb916cacda803c78",class:"list-stats"},i("div",{key:"6615fdaf5b9e31349c86eefabd8ca1368f67e89d",class:"stat-item"},i("span",{key:"75d7461f11eb0e6e104ff71f833c79d27594217d",class:"stat-label"},"Total"),i("span",{key:"ebe8e65678ae4435a508123d62fa9fc222e860e8",class:"stat-value"},a.total)),i("div",{key:"4b32aa9c88d9de3f6638dd113348f65f7d7455bb",class:"stat-item"},i("span",{key:"2d83854d3ada83f71f846d153a1eb129be7127ca",class:"stat-label"},"Filtered"),i("span",{key:"e7b906e9f4a4557cb317c03f6cb3977203f59bb9",class:"stat-value"},a.filtered)),Object.entries(a).filter((([t])=>!["total","filtered"].includes(t))).map((([t,e])=>i("div",{key:t,class:"stat-item"},i("span",{class:"stat-label"},t.toUpperCase()),i("span",{class:"stat-value"},e))))),i("div",{key:"435c1412e0d51761649a9fb1fb2e1b78ca1ba6b4",class:"list-content"},e?i("div",{class:"loading-state"},i("div",{class:"loading-spinner"}),i("span",null,"Loading ",this.itemType,"s...")):s.length===0?i("div",{class:"empty-state"},i("svg",{viewBox:"0 0 64 64",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M31.968,0c-1.9626667,28.448-3.552,29.984-32,32c28.448,1.9626667,29.984,3.552,32,32c1.9626667-28.448,3.552-29.984,32-32C35.52,29.984,33.9306667,28.448,31.968,0z"})),i("span",null,"No ",this.itemType,"s found matching your criteria")):i("div",{class:{"items-grid":this.displayMode==="card","items-list-container":this.displayMode!=="card"}},s.map((t=>{const e=t[r];if(this.itemType==="token"){return i("euclid-token-item",{key:e,token:t,displayMode:this.displayMode,showFields:this.showFields,selectable:this.selectable,selected:this.selectedItemId===e,...this.itemProps,onTokenClick:this.handleItemSelect})}else if(this.itemType==="chain"){return i("euclid-chain-item",{key:e,chain:t,displayMode:this.displayMode,showFields:this.showFields,selectable:this.selectable,selected:this.selectedItemId===e,...this.itemProps,onChainSelect:this.handleItemSelect,onChainHover:this.handleItemHover})}else if(this.itemType==="pool"){return i("euclid-pool-item",{key:e,pool:t,displayMode:this.displayMode,showFields:this.showFields,selectable:this.selectable,selected:this.selectedItemId===e,...this.itemProps,onPoolSelect:this.handleItemSelect,onPoolHover:this.handleItemHover})}return null})))),this.itemsPerPage>0&&this.totalPages>1&&i("div",{key:"9ce5c84568ac6c4b29cf2919dc3a4fceabc64831",class:"pagination"},i("button",{key:"db9cb6d637c48cc3c44e3ae9d525235b6fcc8a75",class:"pagination-btn",onClick:()=>this.handlePageChange(this.currentPage-1),disabled:this.currentPage===1,type:"button"},"Previous"),i("div",{key:"8c42d1ed8e2b61ec0bb0b137d627f313c8848f63",class:"pagination-pages"},Array.from({length:this.totalPages},((t,e)=>e+1)).map((t=>i("button",{key:t,class:{"pagination-page":true,"pagination-page--active":t===this.currentPage},onClick:()=>this.handlePageChange(t),type:"button"},t)))),i("button",{key:"c5decc24f98d5cf49e59c1f388bdf770f1f11893",class:"pagination-btn",onClick:()=>this.handlePageChange(this.currentPage+1),disabled:this.currentPage===this.totalPages,type:"button"},"Next")))}static get watchers(){return{items:["watchItemsChange"]}}};r.style=a;export{r as euclid_list_items};
//# sourceMappingURL=p-636d51b5.entry.js.map