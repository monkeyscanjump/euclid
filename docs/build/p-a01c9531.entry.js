import{r as t,h as s}from"./p-uEsOKkhe.js";import{m as i}from"./p-BbQ0yLPq.js";import{d as l}from"./p-S4yGk2r4.js";import{l as e}from"./p-b11lwN92.js";import"./p-9CRWQAc1.js";function n(t){const s=l.subscribe(t,"marketData",{dataSubtype:"chains"});const e=l.subscribe(t,"tokenPrices",{dataSubtype:"tokens"});const n=l.subscribe(t,"marketData",{dataSubtype:"pools"});return{chains:i.state.chains,tokens:i.state.tokens,pools:i.state.pools,loading:i.state.loading,subscriptions:[{unsubscribe:()=>l.unsubscribe(s)},{unsubscribe:()=>l.unsubscribe(e)},{unsubscribe:()=>l.unsubscribe(n)}]}}const a=class{constructor(s){t(this,s);this.chains=[];this.tokens=[];this.pools=[];this.loading=false;this.marketDataSubscriptions=[]}componentDidLoad(){const t=n("euclid-data-list-example");this.chains=t.chains;this.tokens=t.tokens;this.pools=t.pools;this.loading=t.loading;this.marketDataSubscriptions=t.subscriptions;e.info("Component","ðŸ“Š Data List subscribed to market data:",{chains:this.chains.length,tokens:this.tokens.length,pools:this.pools.length})}disconnectedCallback(){this.marketDataSubscriptions.forEach((t=>{t.unsubscribe()}));e.info("Component","ðŸ“Š Data List unsubscribed from market data")}render(){if(this.loading){return s("div",null,"Loading market data...")}return s("div",null,s("h3",null,"Market Data (Three-Query Architecture)"),s("div",null,s("h4",null,"Chains (",this.chains.length,") - Fetched Once"),s("ul",null,this.chains.map((t=>s("li",{key:t.chain_uid},t.display_name," (",t.type,")"))))),s("div",null,s("h4",null,"Tokens (",this.tokens.length,") - Polled Every 30s"),s("ul",null,this.tokens.slice(0,5).map((t=>s("li",{key:t.tokenId},t.displayName," - $",t.price))),this.tokens.length>5&&s("li",null,"... and ",this.tokens.length-5," more"))),s("div",null,s("h4",null,"Pools (",this.pools.length,") - Polled Every 45s"),s("ul",null,this.pools.slice(0,5).map((t=>s("li",{key:t.pool_id},t.token_1,"/",t.token_2," - APR: ",t.apr,"%"))),this.pools.length>5&&s("li",null,"... and ",this.pools.length-5," more"))))}};export{a as euclid_data_list_example};
//# sourceMappingURL=p-a01c9531.entry.js.map