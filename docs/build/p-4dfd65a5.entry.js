import{r as s,h as t}from"./p-uEsOKkhe.js";import{m as i}from"./p-BJphfuWS.js";import{d as l}from"./p-DpGAwWdH.js";import"./p-9CRWQAc1.js";function e(s){const t=l.subscribe(s,"marketData",{dataSubtype:"chains"});const e=l.subscribe(s,"tokenPrices",{dataSubtype:"tokens"});const a=l.subscribe(s,"marketData",{dataSubtype:"pools"});return{chains:i.state.chains,tokens:i.state.tokens,pools:i.state.pools,loading:i.state.loading,subscriptions:[{unsubscribe:()=>l.unsubscribe(t)},{unsubscribe:()=>l.unsubscribe(e)},{unsubscribe:()=>l.unsubscribe(a)}]}}const a=class{constructor(t){s(this,t);this.chains=[];this.tokens=[];this.pools=[];this.loading=false;this.marketDataSubscriptions=[]}componentDidLoad(){const s=e("euclid-data-list-example");this.chains=s.chains;this.tokens=s.tokens;this.pools=s.pools;this.loading=s.loading;this.marketDataSubscriptions=s.subscriptions;console.log("ðŸ“Š Data List subscribed to market data:",{chains:this.chains.length,tokens:this.tokens.length,pools:this.pools.length})}disconnectedCallback(){this.marketDataSubscriptions.forEach((s=>{s.unsubscribe()}));console.log("ðŸ“Š Data List unsubscribed from market data")}render(){if(this.loading){return t("div",null,"Loading market data...")}return t("div",null,t("h3",null,"Market Data (Three-Query Architecture)"),t("div",null,t("h4",null,"Chains (",this.chains.length,") - Fetched Once"),t("ul",null,this.chains.map((s=>t("li",{key:s.chain_uid},s.display_name," (",s.type,")"))))),t("div",null,t("h4",null,"Tokens (",this.tokens.length,") - Polled Every 30s"),t("ul",null,this.tokens.slice(0,5).map((s=>t("li",{key:s.tokenId},s.displayName," - $",s.price))),this.tokens.length>5&&t("li",null,"... and ",this.tokens.length-5," more"))),t("div",null,t("h4",null,"Pools (",this.pools.length,") - Polled Every 45s"),t("ul",null,this.pools.slice(0,5).map((s=>t("li",{key:s.pool_id},s.token_1,"/",s.token_2," - APR: ",s.apr,"%"))),this.pools.length>5&&t("li",null,"... and ",this.pools.length-5," more"))))}};export{a as euclid_data_list_example};
//# sourceMappingURL=p-4dfd65a5.entry.js.map