{"version":3,"file":"token-item.js","sourceRoot":"","sources":["../../../../src/components/features/euclid-tokens-list/token-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, Event, EventEmitter } from '@stencil/core';\nimport type { TokenMetadata } from '../../../utils/types/api.types';\n\n@Component({\n  tag: 'token-item',\n  styleUrl: 'token-item.css',\n  shadow: true,\n})\nexport class TokenItem {\n  @Prop() token!: TokenMetadata;\n\n  @Event() tokenClick: EventEmitter<TokenMetadata>;\n\n  private formatPrice(price: string | undefined): string {\n    if (!price || price === '0' || price === '0.0' || price === '0.000000') return '$0.00';\n    const numPrice = parseFloat(price);\n    if (isNaN(numPrice) || numPrice === 0) return '$0.00';\n    if (numPrice < 0.000001) return `$${numPrice.toExponential(2)}`;\n    if (numPrice < 0.01) return `$${numPrice.toFixed(6)}`;\n    if (numPrice < 1) return `$${numPrice.toFixed(4)}`;\n    return `$${numPrice.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  }\n\n  private formatPriceChange(change: number): string {\n    if (change === 0) return '0.00%';\n    const abs = Math.abs(change);\n    if (abs < 0.01) return `${change > 0 ? '+' : ''}${change.toFixed(4)}%`;\n    return `${change > 0 ? '+' : ''}${change.toFixed(2)}%`;\n  }\n\n  private formatVolume(volume: number): string {\n    if (volume === 0) return '$0';\n    if (volume >= 1e9) return `$${(volume / 1e9).toFixed(2)}B`;\n    if (volume >= 1e6) return `$${(volume / 1e6).toFixed(2)}M`;\n    if (volume >= 1e3) return `$${(volume / 1e3).toFixed(2)}K`;\n    return `$${volume.toFixed(2)}`;\n  }\n\n  private handleClick = () => {\n    this.tokenClick.emit(this.token);\n  };\n\n  render() {\n    const priceChange24h = this.token.price_change_24h || 0;\n    const isPositiveChange = priceChange24h > 0;\n    const isNegativeChange = priceChange24h < 0;\n\n    return (\n      <div class=\"token-item\" onClick={this.handleClick}>\n        <div class=\"token-header\">\n          <div class=\"token-logo-container\">\n            {this.token.image ? (\n              <img\n                src={this.token.image}\n                alt={this.token.displayName}\n                class=\"token-logo\"\n                onError={(e) => (e.target as HTMLImageElement).style.display = 'none'}\n              />\n            ) : (\n              <svg viewBox=\"0 0 64 64\" class=\"token-logo fallback-logo\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill=\"currentColor\" d=\"M31.968,0c-1.9626667,28.448-3.552,29.984-32,32c28.448,1.9626667,29.984,3.552,32,32c1.9626667-28.448,3.552-29.984,32-32C35.52,29.984,33.9306667,28.448,31.968,0z\"/>\n              </svg>\n            )}\n          </div>\n          <div class=\"token-info\">\n            <div class=\"token-name\">{this.token.displayName}</div>\n            <div class=\"token-id\">{this.token.tokenId}</div>\n          </div>\n          {this.token.is_verified && (\n            <div class=\"verified-badge\" title=\"Verified Token\">\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.18L16.59,7.59L18,9L10,17Z\"/>\n              </svg>\n            </div>\n          )}\n        </div>\n\n        <div class=\"token-metrics\">\n          <div class=\"metric-row\">\n            <span class=\"metric-label\">Price</span>\n            <span class=\"metric-value\">{this.formatPrice(this.token.price)}</span>\n          </div>\n\n          {priceChange24h !== 0 && (\n            <div class=\"metric-row\">\n              <span class=\"metric-label\">24h Change</span>\n              <span class={{\n                'metric-value': true,\n                'price-change': true,\n                'price-positive': isPositiveChange,\n                'price-negative': isNegativeChange,\n              }}>\n                {this.formatPriceChange(priceChange24h)}\n              </span>\n            </div>\n          )}\n\n          {this.token.total_volume_24h > 0 && (\n            <div class=\"metric-row\">\n              <span class=\"metric-label\">24h Volume</span>\n              <span class=\"metric-value\">{this.formatVolume(this.token.total_volume_24h)}</span>\n            </div>\n          )}\n\n          <div class=\"metric-row\">\n            <span class=\"metric-label\">Decimals</span>\n            <span class=\"metric-value\">{this.token.coinDecimal}</span>\n          </div>\n        </div>\n\n        {this.token.tags && this.token.tags.length > 0 && (\n          <div class=\"token-tags\">\n            {this.token.tags.slice(0, 3).map(tag => (\n              <span key={tag} class={`tag tag--${tag}`}>{tag}</span>\n            ))}\n          </div>\n        )}\n\n        {this.token.chain_uids && this.token.chain_uids.length > 0 && (\n          <div class=\"token-chains\">\n            <span class=\"chains-label\">Chains:</span>\n            <div class=\"chains-list\">\n              {this.token.chain_uids.slice(0, 3).map(chain => (\n                <span key={chain} class=\"chain-badge\">{chain}</span>\n              ))}\n              {this.token.chain_uids.length > 3 && (\n                <span class=\"chain-badge more\">+{this.token.chain_uids.length - 3}</span>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]}