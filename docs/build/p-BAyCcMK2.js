import{c as e}from"./p-CHLqsENg.js";const t={chains:[],tokens:[],pools:[],prices:{},loading:false,error:null,lastUpdated:0};const{state:s,onChange:o,reset:n,dispose:a}=e(t);const r={setLoading(e){s.loading=e},setError(e){s.error=e},setChains(e){s.chains=[...e];s.lastUpdated=Date.now()},setTokens(e){s.tokens=[...e];s.lastUpdated=Date.now()},setPools(e){s.pools=[...e];s.lastUpdated=Date.now()},setPrices(e){s.prices={...e};s.lastUpdated=Date.now()},addToken(e){s.tokens=[...s.tokens,e]},updateToken(e,t){s.tokens=s.tokens.map((s=>s.id===e?{...s,...t}:s))},clear(){n()}};const i={getChain:e=>s.chains.find((t=>t.chain_uid===e)),getToken:e=>s.tokens.find((t=>t.id===e)),getTokensByChain:e=>s.tokens.filter((t=>t.chain_uid===e)),getPool:e=>s.pools.find((t=>t.pool_id===e)),getPoolsForTokenPair:(e,t)=>s.pools.filter((s=>s.token_1===e&&s.token_2===t||s.token_1===t&&s.token_2===e)),getPrice:e=>s.prices[e]||0,isDataStale:(e=5*60*1e3)=>{if(!s.lastUpdated)return true;return Date.now()-s.lastUpdated>e}};const d={state:s,onChange:o,reset:n,dispose:a,...r,...i};if(typeof window!=="undefined"){window.marketStore=d}export{d as m};
//# sourceMappingURL=p-BAyCcMK2.js.map