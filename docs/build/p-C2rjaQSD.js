import{c as t}from"./p-Cpj4dy2_.js";const e={tokenIn:null,tokenOut:null,fromToken:null,toToken:null,amountIn:"",amountOut:"",fromAmount:"",toAmount:"",routes:[],selectedRoute:null,slippage:.5,loading:false,error:null};const{state:n,onChange:o,reset:s,dispose:l}=t(e);const u={setTokenIn(t){n.tokenIn=t;n.fromToken=t;n.routes=[];n.selectedRoute=null;n.amountOut="";n.toAmount=""},setTokenOut(t){n.tokenOut=t;n.toToken=t;n.routes=[];n.selectedRoute=null;n.amountOut="";n.toAmount=""},setFromToken(t){u.setTokenIn(t)},setToToken(t){u.setTokenOut(t)},setAmountIn(t){n.amountIn=t;n.fromAmount=t;if(!t){n.amountOut="";n.toAmount="";n.routes=[];n.selectedRoute=null}},setAmountOut(t){n.amountOut=t;n.toAmount=t},setFromAmount(t){u.setAmountIn(t)},setToAmount(t){u.setAmountOut(t)},setRoutes(t){n.routes=[...t];n.loading=false;n.error=null;if(t.length>0){u.setSelectedRoute(t[0])}},setSelectedRoute(t){n.selectedRoute=t;if(t&&t.path.length>0){const e=t.path[t.path.length-1];n.amountOut=e.amount_out}},setLoading(t){n.loading=t},setError(t){n.error=t},setSlippage(t){n.slippage=t},setLoadingRoutes(t){n.loading=t},setSwapping(t){n.loading=t},swapTokens(){const t=n.tokenIn;const e=n.tokenOut;const o=n.amountIn;n.tokenIn=e;n.tokenOut=t;n.fromToken=e;n.toToken=t;n.amountIn="";n.amountOut=o;n.fromAmount="";n.toAmount=o;n.routes=[];n.selectedRoute=null;n.error=null},clear(){s()}};const r={canSwap:()=>!!(n.tokenIn&&n.tokenOut&&n.amountIn&&parseFloat(n.amountIn)>0&&n.selectedRoute&&!n.loading),getPriceImpact:()=>n.selectedRoute?.total_price_impact||"0",getEstimatedGas:()=>{if(!n.selectedRoute)return"0";const t=n.selectedRoute.path.length;return(t*1e5).toString()},isValidPair:()=>!!(n.tokenIn&&n.tokenOut&&n.tokenIn.id!==n.tokenOut.id),getSlippageAmount:()=>{if(!n.amountOut||!n.slippage)return"0";try{const t=BigInt(n.amountOut);const e=BigInt(Math.floor(n.slippage*100));const o=t*e/BigInt(1e4);const s=t-o;return s.toString()}catch{return"0"}}};const a={state:n,onChange:o,reset:s,dispose:l,...u,...r};export{a as s};
//# sourceMappingURL=p-C2rjaQSD.js.map