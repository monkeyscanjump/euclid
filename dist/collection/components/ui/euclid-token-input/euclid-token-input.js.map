{"version":3,"file":"euclid-token-input.js","sourceRoot":"","sources":["../../../../src/components/ui/euclid-token-input/euclid-token-input.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, State, Event, EventEmitter, Watch } from '@stencil/core';\nimport { walletStore } from '../../../store/wallet.store';\n\nexport interface TokenInfo {\n  symbol: string;\n  name: string;\n  decimals: number;\n  logoUrl?: string;\n  balance?: string;\n}\n\n@Component({\n  tag: 'euclid-token-input',\n  styleUrl: 'euclid-token-input.css',\n  shadow: true,\n})\nexport class EuclidTokenInput {\n  private inputRef?: HTMLInputElement;\n\n  /**\n   * The current token selection\n   */\n  @Prop() token?: TokenInfo;\n\n  /**\n   * The input value (amount)\n   */\n  @Prop({ mutable: true }) value: string = '';\n\n  /**\n   * Placeholder text for the input\n   */\n  @Prop() placeholder: string = '0.0';\n\n  /**\n   * Whether the input is disabled\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Whether to show the balance\n   */\n  @Prop() showBalance: boolean = true;\n\n  /**\n   * Whether to show the max button\n   */\n  @Prop() showMax: boolean = true;\n\n  /**\n   * Label for the input\n   */\n  @Prop() label?: string;\n\n  /**\n   * Error message to display\n   */\n  @Prop() error?: string;\n\n  /**\n   * Loading state\n   */\n  @Prop() loading: boolean = false;\n\n  /**\n   * Whether the token selector is clickable\n   */\n  @Prop() tokenSelectable: boolean = true;\n\n  @State() private focused: boolean = false;\n  @State() private hasError: boolean = false;\n  @State() private userBalance?: string;\n\n  /**\n   * Emitted when the input value changes\n   */\n  @Event() valueChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the token selector is clicked\n   */\n  @Event() tokenSelect!: EventEmitter<void>;\n\n  /**\n   * Emitted when the max button is clicked\n   */\n  @Event() maxClick!: EventEmitter<void>;\n\n  @Watch('value')\n  onValueChange(newValue: string) {\n    this.validateInput(newValue);\n  }\n\n  @Watch('error')\n  onErrorChange(newError: string | undefined) {\n    this.hasError = !!newError;\n  }\n\n  @Watch('token')\n  onTokenChange() {\n    this.updateUserBalance();\n  }\n\n  componentWillLoad() {\n    this.setupStoreSubscriptions();\n    this.updateUserBalance();\n  }\n\n  disconnectedCallback() {\n    // Cleanup store subscriptions if needed\n  }\n\n  private setupStoreSubscriptions() {\n    // Subscribe to wallet balance changes\n    walletStore.onChange('balances', () => {\n      this.updateUserBalance();\n    });\n  }\n\n  private updateUserBalance() {\n    if (this.token?.symbol) {\n      // Get balance from wallet store for current token\n      // Note: This requires knowing which chain - for now, get from primary connected wallet\n      const connectedWallets = walletStore.getAllConnectedWallets();\n      if (connectedWallets.length > 0) {\n        const primaryChain = connectedWallets[0].chainUID;\n        const balance = walletStore.getWalletBalance(primaryChain, this.token.symbol);\n        this.userBalance = balance?.amount || '0';\n      } else {\n        this.userBalance = '0';\n      }\n    }\n  }\n\n  private validateInput(value: string) {\n    // Reset error state\n    this.hasError = false;\n\n    if (!value) return;\n\n    // Check if it's a valid number\n    const numValue = parseFloat(value);\n    if (isNaN(numValue) || numValue < 0) {\n      this.hasError = true;\n      return;\n    }\n\n    // Check balance if available\n    if (this.token?.balance && this.showBalance) {\n      const balance = parseFloat(this.token.balance);\n      if (numValue > balance) {\n        this.hasError = true;\n        return;\n      }\n    }\n  }\n\n  private handleInputChange = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n    let value = target.value;\n\n    // Allow only numbers and decimal point\n    value = value.replace(/[^0-9.]/g, '');\n\n    // Prevent multiple decimal points\n    const parts = value.split('.');\n    if (parts.length > 2) {\n      value = parts[0] + '.' + parts.slice(1).join('');\n    }\n\n    // Limit decimal places based on token decimals\n    if (this.token?.decimals && parts.length === 2) {\n      const decimalPart = parts[1];\n      if (decimalPart.length > this.token.decimals) {\n        value = parts[0] + '.' + decimalPart.slice(0, this.token.decimals);\n      }\n    }\n\n    this.value = value;\n    target.value = value;\n    this.valueChange.emit(value);\n  };\n\n  private handleInputFocus = () => {\n    this.focused = true;\n  };\n\n  private handleInputBlur = () => {\n    this.focused = false;\n  };\n\n  private handleTokenClick = () => {\n    if (this.tokenSelectable && !this.disabled) {\n      this.tokenSelect.emit();\n    }\n  };\n\n  private handleMaxClick = () => {\n    if (this.token?.balance && !this.disabled) {\n      this.value = this.token.balance;\n      if (this.inputRef) {\n        this.inputRef.value = this.token.balance;\n      }\n      this.valueChange.emit(this.token.balance);\n      this.maxClick.emit();\n    }\n  };\n\n  private formatBalance(balance: string): string {\n    const num = parseFloat(balance);\n    if (isNaN(num)) return '0';\n\n    if (num < 0.001) return '<0.001';\n    if (num < 1) return num.toFixed(6);\n    if (num < 1000) return num.toFixed(3);\n    if (num < 1000000) return (num / 1000).toFixed(2) + 'K';\n    return (num / 1000000).toFixed(2) + 'M';\n  }\n\n  render() {\n    const containerClass = {\n      'token-input': true,\n      'token-input--focused': this.focused,\n      'token-input--disabled': this.disabled,\n      'token-input--error': this.hasError || !!this.error,\n      'token-input--loading': this.loading,\n    };\n\n    const tokenSelectorClass = {\n      'token-selector': true,\n      'token-selector--clickable': this.tokenSelectable && !this.disabled,\n      'token-selector--empty': !this.token,\n    };\n\n    return (\n      <div class=\"token-input-wrapper\">\n        {this.label && (\n          <label class=\"token-input-label\">\n            {this.label}\n          </label>\n        )}\n\n        <div class={containerClass}>\n          <div class=\"token-input-main\">\n            <div class=\"input-section\">\n              <input\n                ref={(el) => this.inputRef = el}\n                type=\"text\"\n                inputMode=\"decimal\"\n                placeholder={this.placeholder}\n                value={this.value}\n                disabled={this.disabled}\n                onInput={this.handleInputChange}\n                onFocus={this.handleInputFocus}\n                onBlur={this.handleInputBlur}\n                class=\"amount-input\"\n              />\n\n              {this.loading && (\n                <div class=\"loading-spinner\">\n                  <div class=\"spinner\"></div>\n                </div>\n              )}\n            </div>\n\n            <div\n              class={tokenSelectorClass}\n              onClick={this.tokenSelectable && !this.disabled ? this.handleTokenClick : undefined}\n            >\n              {/* Slot content takes priority over default token display */}\n              <slot name=\"token\">\n                {this.token ? (\n                  <div class=\"token-info\">\n                    {this.token.logoUrl && (\n                      <img\n                        src={this.token.logoUrl}\n                        alt={this.token.symbol}\n                        class=\"token-logo\"\n                      />\n                    )}\n                    <span class=\"token-symbol\">{this.token.symbol}</span>\n                    {this.tokenSelectable && !this.disabled && (\n                      <svg class=\"chevron-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fill-rule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\n                      </svg>\n                    )}\n                  </div>\n                ) : (\n                  <div class=\"select-token\">\n                    <span>Select Token</span>\n                    {this.tokenSelectable && !this.disabled && (\n                      <svg class=\"chevron-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fill-rule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\n                      </svg>\n                    )}\n                  </div>\n                )}\n              </slot>\n            </div>\n          </div>\n\n          {(this.showBalance || this.showMax) && this.token && (\n            <div class=\"token-input-footer\">\n              {this.showBalance && (this.userBalance || this.token.balance) && (\n                <div class=\"balance-section\">\n                  <span class=\"balance-label\">Balance:</span>\n                  <span class=\"balance-value\">\n                    {this.formatBalance(this.userBalance || this.token.balance || '0')} {this.token.symbol}\n                  </span>\n                </div>\n              )}\n\n              {this.showMax && this.token.balance && (\n                <button\n                  class=\"max-button\"\n                  onClick={this.handleMaxClick}\n                  disabled={this.disabled}\n                  type=\"button\"\n                >\n                  MAX\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n\n        {(this.error || this.hasError) && (\n          <div class=\"error-message\">\n            {this.error || 'Invalid amount'}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]}