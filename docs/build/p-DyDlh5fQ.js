import{D as t}from"./p-9CRWQAc1.js";async function n(n,o={},e){const r={...t,...e};const{method:a="GET",body:c,headers:i={}}=o;const s=new AbortController;const u=setTimeout((()=>s.abort()),r.apiTimeout);try{const t=new URL(n,r.restEndpoint);const o=await fetch(t.toString(),{method:a,headers:{"Content-Type":"application/json",Accept:"application/json",...i},body:c?JSON.stringify(c):undefined,signal:s.signal});clearTimeout(u);if(!o.ok){const t=await o.text();throw new Error(`HTTP ${o.status}: ${t}`)}return await o.json()}catch(t){clearTimeout(u);const n=t instanceof Error?t.message:"Unknown error";throw new Error(`Routing request failed: ${n}`)}}async function o(t){const o=new URLSearchParams({amount_in:t.amount_in,token_in:t.token_in,token_out:t.token_out});if(t.external!==undefined){o.append("external",t.external.toString())}if(t.chain_uids&&t.chain_uids.length>0){t.chain_uids.forEach((t=>{o.append("chain_uids",t)}))}const e=await n(`/routes?${o}`);return e.paths||[]}async function e(t){const o=await n("/routes/optimal",{method:"POST",body:t});return o.route}async function r(t){const n=await o(t);if(n.length===0){return null}return n.sort(((t,n)=>parseFloat(t.total_price_impact)-parseFloat(n.total_price_impact)))[0]}export{r as getBestRouteImpl,e as getOptimalRouteImpl,o as getRoutesImpl};
//# sourceMappingURL=p-DyDlh5fQ.js.map