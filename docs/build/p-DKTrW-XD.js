import{D as n}from"./p-9CRWQAc1.js";async function a(a,i,s){const t={...n,...s};const e=new AbortController;const r=setTimeout((()=>e.abort()),t.apiTimeout);try{const n=await fetch(t.graphqlEndpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:a,variables:i}),signal:e.signal});clearTimeout(r);if(!n.ok){throw new Error(`HTTP ${n.status}: ${n.statusText}`)}const s=await n.json();if(s.errors){throw new Error(`GraphQL errors: ${s.errors.map((n=>n.message)).join(", ")}`)}return s.data}catch(n){clearTimeout(r);const a=n instanceof Error?n.message:"Unknown error";throw new Error(`VCoin query failed: ${a}`)}}async function i(n,i,s,t){const e=`\n    query All_balances($chainUid: String!, $vcoinAddress: String!, $limit: Int, $offset: Int) {\n      vcoin(chain_uid: $chainUid, vcoin_address: $vcoinAddress) {\n        all_balances(limit: $limit, offset: $offset) {\n          balances {\n            user_address\n            balance\n            chain_uid\n            last_updated\n          }\n          pagination {\n            total_count\n            limit\n            offset\n          }\n        }\n      }\n    }\n  `;const r=await a(e,{chainUid:n,vcoinAddress:i,limit:s,offset:t});return r.vcoin.all_balances}async function s(n,i){const s=`\n    query Total_supply($chainUid: String!, $vcoinAddress: String!) {\n      vcoin(chain_uid: $chainUid, vcoin_address: $vcoinAddress) {\n        total_supply {\n          total_supply\n          circulating_supply\n          max_supply\n          token_info {\n            symbol\n            name\n            decimals\n          }\n          last_updated\n        }\n      }\n    }\n  `;const t=await a(s,{chainUid:n,vcoinAddress:i});return t.vcoin.total_supply}async function t(n,i,s){const t=`\n    query User_balance($chainUid: String!, $vcoinAddress: String!, $userAddress: String!) {\n      vcoin(chain_uid: $chainUid, vcoin_address: $vcoinAddress) {\n        user_balance(user_address: $userAddress) {\n          user_address\n          balance\n          virtual_balance\n          locked_balance\n          available_balance\n          chain_uid\n          last_updated\n          transaction_history {\n            tx_hash\n            amount\n            type\n            timestamp\n          }\n        }\n      }\n    }\n  `;const e=await a(t,{chainUid:n,vcoinAddress:i,userAddress:s});return e.vcoin.user_balance}export{i as getAllBalancesImpl,s as getTotalSupplyImpl,t as getUserBalanceImpl};
//# sourceMappingURL=p-DKTrW-XD.js.map